[
  {
    "id": 77871,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2013-04-22T08:25:49Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "On-Net Routing",
    "updated_at": "2014-01-24T07:50:27Z",
    "description": "<span style=\"font-size: 18px;\">Overview</span><p><br>On-Net Routing is the feature that allows placing calls from one account in the system to another account in the system. When the feature is enabled the system also allows automatically sending call to the voicemail if the destination account is not answering. <br></p>\n<h3><br></h3>\n<h3><span style=\"font-size: 18px;\">Configuring On-Net Routing</span></h3>\n<p><br>The feature can be enabled by setting \"Use Connection\" parameter in the Routing Group to value other than \"[Disabled]\". Setting this parameter to \"[Default]\" will enable automatic on-net calling through built-in SIP registrar. It is also possible to select some specific Connection for custom handling of the on-net calls. On-Net routing can be enabled or disabled in each Routing Group separately.</p>\n<p><br></p>\n<p><img style=\"cursor: default;\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/5029942/original/On-Net-Routing-Section.png?1366619217\"></p>\n<p>There are another two options in this section: <br></p>\n<ul><li>Voicemail Connection - enabling or disabling automatic redirect of unanswered on-net calls to voicemail IVR. It is possible to select specific connection for handling voicemail. </li></ul>\n<ul>\n<li>On-Net Scope - this parameter defines whether or not Accounts on different levels will be able to call each other. Possible values are:</li>\r\n<ul>\n<li>\"All Accounts\" - any Account in the system can call any other Account in the system. </li>\r\n<li>\"Customer and Sub-Customer\" - Account will be able to call other Accounts within the same Customer or its sub-Customers.</li>\r\n<li>\"Customer Only\" - Account will be able to call other Accounts only if the both directly belong to the same Customer.\u00a0\u00a0</li>\r\n</ul>\n</ul>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 <br>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 The following diagram illustrates On-Net Scope concept. Here C1, C2-1, C2-2 and C3 are Customers and a1, a2, ...,\u00a0 <br>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 a8 are Accounts on different levels. With On-Net Scope set to \"All Accounts\" any account will be able to call any <br>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 account. If we set to \"Customer and Sub-Customer\", a1 will be able to call a2 and a3, but won't be able to dial a7 or <br>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 a8. When set to \"Customer Only\", the a4 will be able to call a5 and a6, but won't be able to call any other account in\u00a0 <br>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 the system like a8 or a3.<br><br><p><img style=\"cursor: default;\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/5030084/original/On-Net-Routing.png?1366619435\"></p>\n<p><span style=\"font-size: 18px;\"><br></span></p>\n<h3><span style=\"font-size: 18px;\">Availability</span></h3>\n<h3><span style=\"font-size: 18px;\"></span></h3>\n<p><br>Sippy Softswitch 2.0</p>\n<br>",
    "description_text": "Overview  On-Net Routing is the feature that allows placing calls from one account in the system to another account in the system. When the feature is enabled the system also allows automatically sending call to the voicemail if the destination account is not answering.   \n   \n Configuring On-Net Routing \n  The feature can be enabled by setting \"Use Connection\" parameter in the Routing Group to value other than \"[Disabled]\". Setting this parameter to \"[Default]\" will enable automatic on-net calling through built-in SIP registrar. It is also possible to select some specific Connection for custom handling of the on-net calls. On-Net routing can be enabled or disabled in each Routing Group separately. \n   \n  \n There are another two options in this section:   \n  Voicemail Connection - enabling or disabling automatic redirect of unanswered on-net calls to voicemail IVR. It is possible to select specific connection for handling voicemail.   \n \n On-Net Scope - this parameter defines whether or not Accounts on different levels will be able to call each other. Possible values are: \n \n \"All Accounts\" - any Account in the system can call any other Account in the system.  \n \"Customer and Sub-Customer\" - Account will be able to call other Accounts within the same Customer or its sub-Customers. \n \"Customer Only\" - Account will be able to call other Accounts only if the both directly belong to the same Customer.\u00a0\u00a0 \n \n \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0  \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 The following diagram illustrates On-Net Scope concept. Here C1, C2-1, C2-2 and C3 are Customers and a1, a2, ...,\u00a0  \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 a8 are Accounts on different levels. With On-Net Scope set to \"All Accounts\" any account will be able to call any  \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 account. If we set to \"Customer and Sub-Customer\", a1 will be able to call a2 and a3, but won't be able to dial a7 or  \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 a8. When set to \"Customer Only\", the a4 will be able to call a5 and a6, but won't be able to call any other account in\u00a0  \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 the system like a8 or a3.    \n   \n Availability \n  \n  Sippy Softswitch 2.0 \n ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [
      "Signalling"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 2,
    "thumbs_down": 6,
    "hits": 1911,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 77881,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2013-04-22T09:09:40Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Charging On-Net (Account-to-Account) Calls",
    "updated_at": "2021-09-27T22:02:49Z",
    "description": "<p></p><h3><span style=\"font-size: 18px;\">Overview</span></h3><p dir=\"ltr\"><br>There are situations where it may be necessary to charge either caller, callee or both for on-net calls based on per-minute rate. There are several options available in Sippy Softswitch for doing that:</p><ul><li dir=\"ltr\">Charging through the rate sheet using special prefixes \"onnet_in\" and \"onnet_out\";</li><li>Charging through the service plan on per-DID basis.</li></ul><h3><br></h3><h3><span style=\"font-size: 18px;\">Charging Using Rates</span></h3><p dir=\"ltr\"><br>In order to chaRge on-net calls there are two special prefixes defined in the softswitch:</p><ul><li>\"onnet_in\" - sets per-minute rate for any incoming on-net call;</li><li>\"onnet_out\" - sets per-minute rate for any outbound on-net call.</li></ul><p dir=\"ltr\">It is also possible to charge for voicemail access using special \"voicemail_check\" prefix.<br><br>These special prefixes support the same set of charging options as regular prefixes, such as Interval 1, Interval N, Price 1, Price N, etc.&nbsp;</p><p><br></p><h3><span style=\"font-size: 18px;\">Charging Using Service Plan</span></h3><p dir=\"ltr\"><br>Another possible option for charging the user for incoming calls is by setting Accessibility Surcharges in the service plan. This is a special case for charging the user for calls that come through a specific DID only. This charge will not apply to any other types of incoming calls.</p>",
    "description_text": "  Overview   There are situations where it may be necessary to charge either caller, callee or both for on-net calls based on per-minute rate. There are several options available in Sippy Softswitch for doing that:   Charging through the rate sheet using special prefixes \"onnet_in\" and \"onnet_out\";  Charging through the service plan on per-DID basis.      Charging Using Rates   In order to chaRge on-net calls there are two special prefixes defined in the softswitch:   \"onnet_in\" - sets per-minute rate for any incoming on-net call;  \"onnet_out\" - sets per-minute rate for any outbound on-net call.   It is also possible to charge for voicemail access using special \"voicemail_check\" prefix.  These special prefixes support the same set of charging options as regular prefixes, such as Interval 1, Interval N, Price 1, Price N, etc.\u00a0     Charging Using Service Plan   Another possible option for charging the user for incoming calls is by setting Accessibility Surcharges in the service plan. This is a special case for charging the user for calls that come through a specific DID only. This charge will not apply to any other types of incoming calls. ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [
      "Service Plan",
      "onnet"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 3,
    "thumbs_down": 7,
    "hits": 1208,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 77882,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2013-04-22T09:16:01Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Automatic Database Backup",
    "updated_at": "2020-07-28T21:36:10Z",
    "description": "<h3><span style=\"font-size: 18px;\">Overview</span></h3><p><br></p><p><span style=\"font-size: 13px; font-family: Roboto, sans-serif; color: rgb(0, 0, 0); font-weight: 400;\">The Softswitch includes a system that makes possible a periodic, automatic backup of the database.</span> Parameters of the database back up, such as schedule, start time, compression, and number of generations to keep, can be configured via the Backup section of the System Parameters interface. Care should be taken when selecting a start time for the backup because  even though the backup procedure is on-line, (which means that it doesn\u2019t take service offline for its duration) it creates a significant load on the system which can interfere with call processing. An off-peak time for database backup should be selected.<br><br>It should be noted that in \"weekly\" mode the backup will run on the same day of the week as it ran  the first time after being enabled. So, if you have enabled it on Friday afternoon to run weekly at 04:30am then it will run every Saturday at 04:30am. The same rule applies for \"monthly\" mode \u2013 the backup will run on the same day every month as it  ran for the first time after being enabled.<br><br>By default backup copies of the database are stored in the /var/backups directory of the Softswitch itself. It is advised to configure the server to mount a separate physical hard drive (or a network drive) into that directory, so that if the main drive fails, the system can be restored from the backup.<br><br>A format for the Database backup can be selected from several different formats, each with different characteristics:</p><ul><li><em><strong>SQL Text Dump (default)</strong></em> \u2013 this format provides best combination of recovery speed and compatibility across database server software versions. Can be restored on any version of database server software. Moderately space efficient.</li><li><em><strong>Filesystem DB Snapshot</strong></em> \u2013 this format provides the fastest recovery speed, but it is not compatible across major and minor database server software versions. The format is space inefficient.</li><li><em><strong>SQL Binary Dump</strong></em> \u2013 this format provides good recovery speed but it is compatible only across minor database server software versions. Very space efficient.</li><li><em><strong>SQL TAR Dump</strong></em> \u2013 this format provides good recovery speed but it is compatible only across minor database server software versions. Using this archive format allows reordering and/or exclusion of database objects at the time the database is restored. Unlike with other formats it is also possible to limit which data is reloaded at restore time. Moderately space efficient.</li></ul><p><br>For even better protection, there is an optional mechanism that allows uploading of backup files to an external remote server over the network automatically as part of the backup procedure. In order to use this mechanism, one or two scripts have to be placed in the /var/db/pgsql directory: ecopy and eremove, each of them taking \"backup filename\" as a single argument. The first one is invoked when the backup file has been created and needs to be uploaded to the remote server, while the second one \u2013 when the backup file has to be removed as part of the rotation procedure. The ecopy script should return its error status \u2013 exit code 0 means that the upload has completed successfully, while any other code indicates error. \u00a0A sample ecopy script that uploads the file to the remote TFTP server is available in the /home/ssp/scripts/ecopy_tftp.sh file. The eremove script can be absent, in which case some external mechanism for remote backup aging and rotation has to be implemented instead. All backup activity is logged in the /var/log/backup.log file.</p><p><br></p><p>All backup activity is logged in the <em>/var/log/backup.log</em> file</p><p><br></p><p><strong>How to restore system from backup when your production server is totally crashed and there is no Standby server:</strong></p><ol><li>Activate the database backup on the web interface of your Sippy Softswitch (when you first use Sippy softswitch);</li></ol><p><img class=\"fr-dib\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3031285044/original/BRa5nn3OQc5v2Oqlq9JjjUvodEa4Q_SE6Q.jpg?1505389751\" style=\"width: 686px; height: 176.331px;\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3031285044/original/BRa5nn3OQc5v2Oqlq9JjjUvodEa4Q_SE6Q.jpg?1505389751\" data-fileid=\"3031285044\" data-uniquekey=\"1505389726208\"></p><ol><li>Set a \" Schedule\"(how frequent the system should backup the database), \"Dump Format = SQL dump(text)\", \"Compression = gzip\"(or w/o compression), \"Start Time\" (suitable time of DB backup), \"Generations\" (the amount of backups you plan to store)</li><li>Prepare the ftp server and provide the Sippy support team all information needed (ftp's IP, credentials and folder). \u00a0The Sippy support team will configure database backup to your ftp server. Configuration of \"Database Upload\" to the FTP server should be done only once, after that the system will always upload new backups to your ftp server automatically</li><li>If the server crashes and can't be recovered, you can install the system from scratch by using a Sippy ISO image <br>How to install system from ISO:<br><a href=\"https://support.sippysoft.com/solution/folders/133030\" rel=\"noreferrer\" target=\"_blank\" title=\"\">https://support.sippysoft.com/solution/folders/133030</a></li><li>When the installation is done, contact support for further activation of the server and provide a link to the backup file (file that was uploaded to FTP beforehand). \u00a0Support needs the backup file for data recovery.<br>NOTE: \u00a0due to the complexity of the procedure, only Sippy's support team can restore the backup. Sippy Software's support team knows Sippy's architecture and the appropriate services involved.</li></ol>",
    "description_text": " Overview     The Softswitch includes a system that makes possible a periodic, automatic backup of the database. Parameters of the database back up, such as schedule, start time, compression, and number of generations to keep, can be configured via the Backup section of the System Parameters interface. Care should be taken when selecting a start time for the backup because  even though the backup procedure is on-line, (which means that it doesn\u2019t take service offline for its duration) it creates a significant load on the system which can interfere with call processing. An off-peak time for database backup should be selected.  It should be noted that in \"weekly\" mode the backup will run on the same day of the week as it ran  the first time after being enabled. So, if you have enabled it on Friday afternoon to run weekly at 04:30am then it will run every Saturday at 04:30am. The same rule applies for \"monthly\" mode \u2013 the backup will run on the same day every month as it  ran for the first time after being enabled.  By default backup copies of the database are stored in the /var/backups directory of the Softswitch itself. It is advised to configure the server to mount a separate physical hard drive (or a network drive) into that directory, so that if the main drive fails, the system can be restored from the backup.  A format for the Database backup can be selected from several different formats, each with different characteristics:   SQL Text Dump (default) \u2013 this format provides best combination of recovery speed and compatibility across database server software versions. Can be restored on any version of database server software. Moderately space efficient.  Filesystem DB Snapshot \u2013 this format provides the fastest recovery speed, but it is not compatible across major and minor database server software versions. The format is space inefficient.  SQL Binary Dump \u2013 this format provides good recovery speed but it is compatible only across minor database server software versions. Very space efficient.  SQL TAR Dump \u2013 this format provides good recovery speed but it is compatible only across minor database server software versions. Using this archive format allows reordering and/or exclusion of database objects at the time the database is restored. Unlike with other formats it is also possible to limit which data is reloaded at restore time. Moderately space efficient.    For even better protection, there is an optional mechanism that allows uploading of backup files to an external remote server over the network automatically as part of the backup procedure. In order to use this mechanism, one or two scripts have to be placed in the /var/db/pgsql directory: ecopy and eremove, each of them taking \"backup filename\" as a single argument. The first one is invoked when the backup file has been created and needs to be uploaded to the remote server, while the second one \u2013 when the backup file has to be removed as part of the rotation procedure. The ecopy script should return its error status \u2013 exit code 0 means that the upload has completed successfully, while any other code indicates error. \u00a0A sample ecopy script that uploads the file to the remote TFTP server is available in the /home/ssp/scripts/ecopy_tftp.sh file. The eremove script can be absent, in which case some external mechanism for remote backup aging and rotation has to be implemented instead. All backup activity is logged in the /var/log/backup.log file.     All backup activity is logged in the /var/log/backup.log file     How to restore system from backup when your production server is totally crashed and there is no Standby server:   Activate the database backup on the web interface of your Sippy Softswitch (when you first use Sippy softswitch);      Set a \" Schedule\"(how frequent the system should backup the database), \"Dump Format = SQL dump(text)\", \"Compression = gzip\"(or w/o compression), \"Start Time\" (suitable time of DB backup), \"Generations\" (the amount of backups you plan to store)  Prepare the ftp server and provide the Sippy support team all information needed (ftp's IP, credentials and folder). \u00a0The Sippy support team will configure database backup to your ftp server. Configuration of \"Database Upload\" to the FTP server should be done only once, after that the system will always upload new backups to your ftp server automatically  If the server crashes and can't be recovered, you can install the system from scratch by using a Sippy ISO image  How to install system from ISO: https://support.sippysoft.com/solution/folders/133030  When the installation is done, contact support for further activation of the server and provide a link to the backup file (file that was uploaded to FTP beforehand). \u00a0Support needs the backup file for data recovery. NOTE: \u00a0due to the complexity of the procedure, only Sippy's support team can restore the backup. Sippy Software's support team knows Sippy's architecture and the appropriate services involved.  ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 1,
    "thumbs_down": 0,
    "hits": 1120,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 77883,
    "type": 1,
    "status": 1,
    "agent_id": 3763909,
    "created_at": "2013-04-22T09:28:23Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Get exchange rate using external script",
    "updated_at": "2020-03-31T06:10:54Z",
    "description": "<div><div><p dir=\"ltr\" style=\"text-align: center;\"><span style=\"font-size: 30px;\"><strong><u>The up-to-date version of this documentation was moved to\u00a0</u></strong></span></p><p dir=\"ltr\" style=\"text-align: center;\"><span style=\"font-size: 30px;\"><strong><u><a href=\"https://support.sippysoft.com/solution/articles/3000017669-exchange-rates\" rel=\"noreferrer\">https://support.sippysoft.com/solution/articles/3000017669-exchange-rates</a></u></strong></span></p><p dir=\"ltr\"><br></p><p dir=\"ltr\"><br></p><p dir=\"ltr\">Exchange rates can be set using external custom xrate script.</p><p><br></p><p dir=\"ltr\">The script should be created (or uploaded) on the server as <strong>/home/ssp<em>/private/scripts/xrate_update_custom.sh</em></strong></p><p><br></p><p dir=\"ltr\">When the script is available on the server, customers can set source of exchange rate update as <strong>Custom Script</strong>.<br><br>The script gets 2 arguments:</p><ul><li>currency (string)</li><li>base_currency (string)</li></ul><p dir=\"ltr\"><br>and returns:</p><ul><li>rate N base_currency units per 1 currency unit (float)</li></ul><p dir=\"ltr\"><br>Here is an example of custom script. It get the rate from Yahoo! Finance and scales it by 1.1:\u00a0</p><p>\u00a0</p><pre class=\"code-large\" contenteditable=\"false\" rel=\"highlighter\">#!/bin/sh\n#\n# Scale Yahoo! Finance rate.\n#\n# Input arguments:\n# \u00a0currency\n# \u00a0base currency\n# Returns:\n# \u00a0exchange rate\n\nSCALE=1.1\n\nif [ -e /home/ssp/scripts/xrate_update_yahoo.py ]\nthen\n\u00a0 SCRIPT=\"/home/ssp/scripts/xrate_update_yahoo.py\"\nelse\n\u00a0 SCRIPT=\"/home/ssp/scripts/xrate_update_yahoo.pyc\"\nfi\n\nRATE=`/usr/local/bin/python \"${SCRIPT}\" \"${@}\"`\n\necho \"scale=12; ${RATE} / ${SCALE}\" | /usr/bin/bc -q</pre><p>\u00a0</p><p>\u00a0</p></div></div>",
    "description_text": "   The up-to-date version of this documentation was moved to\u00a0  https://support.sippysoft.com/solution/articles/3000017669-exchange-rates        Exchange rates can be set using external custom xrate script.     The script should be created (or uploaded) on the server as /home/ssp/private/scripts/xrate_update_custom.sh     When the script is available on the server, customers can set source of exchange rate update as Custom Script.  The script gets 2 arguments:   currency (string)  base_currency (string)    and returns:   rate N base_currency units per 1 currency unit (float)    Here is an example of custom script. It get the rate from Yahoo! Finance and scales it by 1.1:\u00a0  \u00a0  #!/bin/sh\n#\n# Scale Yahoo! Finance rate.\n#\n# Input arguments:\n# \u00a0currency\n# \u00a0base currency\n# Returns:\n# \u00a0exchange rate\n\nSCALE=1.1\n\nif [ -e /home/ssp/scripts/xrate_update_yahoo.py ]\nthen\n\u00a0 SCRIPT=\"/home/ssp/scripts/xrate_update_yahoo.py\"\nelse\n\u00a0 SCRIPT=\"/home/ssp/scripts/xrate_update_yahoo.pyc\"\nfi\n\nRATE=`/usr/local/bin/python \"${SCRIPT}\" \"${@}\"`\n\necho \"scale=12; ${RATE} / ${SCALE}\" | /usr/bin/bc -q  \u00a0  \u00a0   ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 2,
    "thumbs_down": 2,
    "hits": 344,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 77903,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2013-04-22T10:32:45Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Quality Based Routing",
    "updated_at": "2020-07-28T22:55:01Z",
    "description": "<h3><span style=\"font-size: 18px;\">Overview</span></h3><p><br></p><p>Each vendor connection can be automatically monitored on two parameters - ACD (average call duration) and ASR (average success rate). You can choose to monitor one parameter or both. \u00a0When one of the measured parameters passes your defined threshold then the connection can either be demoted to lowest priority, blocked, or no action (except for alert email sent to the switch administrator). \u00a0When both of the measured parameters (\"Quality Monitoring = \"ACD and ASR\") raises above your minimum threshold then the connection quality is considered good.</p><p>Quality measurement is done using the \"Statistics Window\" which consists of a configurable number of calls.</p><p><br>The system waits for the \"Retry Interval, sec\" and when the connection below the minimum threshold becomes unblocked (after N seconds) the system sends to it a batch of calls and based on the results of this batch of calls, the system makes a decision about connection quality.</p><p><br>The statistics window will be purged based on the count of successful calls in the retry batch if the connection's quality has changed from bad to good.<br>The new \"Statistics window\" will start gathering statistics from the first call in the \"Retry Batch\" that shows good quality.</p><p><br></p><p><br></p><p><strong>Custom case 1:</strong></p><p>Bad quality action: block</p><p>Retry batch value = 250 calls</p><p>Retry Interval = 1800 seconds</p><p><br></p><p>Connection is being used by 500 simultaneous sessions when the block action gets applied to any new call.</p><p>The retry interval starts from this moment, though the we do not kill the existing sessions.</p><p>After 250 calls have successfully finished, the system calculates the quality (ASR or ACD) and if the quality gets better the connection could be unblocked immediately otherwise the \"block\" record would be added to the connection_quality_stats and the connection stays in a block state.</p><p><br></p><p><strong>Custom case 2</strong>:</p><p>Bad quality action: Make last in routing<br>Retry batch value = 250 calls<br>Retry Interval = 1800 seconds</p><p>Connection is being used by 500 simultaneous sessions when the block action gets applied to any new call.</p><p>The retry interval starts from this moment, though the we do not kill the existing sessions.</p><p>After 250 calls have successfully finished, the system calculates the quality (ASR or ACD) and if the quality gets better the connection could be set in its place immediately otherwise the \"block\" record would be added to the connection_quality_stats and the connection stays in its place. \u00a0<span style=\"color: rgb(0, 0, 0);\">Thought this connection can be last in routing it can terminate some part of the traffic (depending on the huntstop configuration and routing policy).\u00a0 I</span><span style=\"color: rgb(0, 0, 0);\">f this connection terminates 250 calls for a period of less then 1800 seconds, the system recalculates the quality of the connection using this batch even if the retry interval hasn't expired yet.</span></p><p><br></p><p><br></p><h3><span style=\"font-size: 18px;\">Connection Quality Recovery Algorithm</span></h3><p><br>A bad quality connection is fully or partially disabled, so it is difficult to evaluate its current quality. To prevent indefinite blocking of a connection, the quality of a bad connections is periodically tested by sending a small percentage of calls to that connection. If the calls succeed, and the quality of that connection rises above the defined threshold \u00a0then the \"Bad Quality Action\" will be reverted.</p><p><br></p><h3><span style=\"font-size: 18px;\">Quality Monitoring Tunables</span></h3><p><br>\u00a0The Edit Vendor Connection form contains the following options that you can set manually:</p><ul><li><em><strong>ACD Threshold</strong></em> - The Average Call Duration that is measured only for calls with non-zero duration, measured in seconds, When the ACD drops below this value then the connection is treated as bad, and the \"Bad Quality Action\" is executed</li><li><em><strong>ASR Threshold</strong></em> - The Average Success Rate threshold expressed as a percentage which describes the correlation between Total count of calls and non-zero duration calls. When the ASR precentage drops below this value the connection is treated as bad, and the \"Bad Quality Action\" is executed</li><li><em><strong>Statistics Window</strong></em> - The number of calls used to calculate the ACD and ASR metrics. ACD &amp; ASR will be calculated on the last N calls made to the connection. The Statistics window is shifted when the new call comes. Example: if the window is 5 calls, either ASR or ACD is calculated for those 5 calls. Once the 6th call comes, the ASR or ACD is recalculated for the 2nd to the 6th calls, the same thing happens when the 7th call comes (the 3rd to the 7th calls are used to measure the new value)</li><li><em><strong>Retry Interval</strong></em> - Number of seconds after which the switch will start sending a \"Retry\" calls to determine if the connection's health has improved from bad to good</li><li><strong><em>Retry Batch</em></strong> - Number of calls to send as \"tests\" to test if the health of the connection has improved from bad to good</li><li><strong><em>Bad Quality Action</em></strong>-\u00a0When the chosen metric drops below the defined threshold, you can have one of the following actions take place:<ul><li><strong>Make Last In Routing</strong> - The Vendor connection will be dropped to lowest priority in the associated routing group(s). Retry calls will be sent after the 'Retry Interval' timer has elapsed, the connection will be temporarily returned to its normal place in routing. If the Retry calls succeed, and the quality metric rises above the threshold, the connection priority will be returned to its previous position in routing on a permanent basis, until the quality goes down again</li><li><strong>Block</strong> - The Vendor connection will be blocked. Retry calls will be sent after the 'Retry Interval' timer has elapsed, the block will be removed temporary. If the Retry calls succeed, and the quality metric rises above the threshold, the block will be removed fully until the quality goes down again</li><li><strong>Notify Only</strong> - No action will be taken, but the root user of the switch will be notified via email that is configured in his preferences</li></ul></li><li><em><strong>Notify On Status Change</strong></em> - This causes a messages to be sent to the e-mail address of the root customer on each change of the status of a connection. The messages are sent only on real not temporary status changes.</li></ul>",
    "description_text": " Overview     Each vendor connection can be automatically monitored on two parameters - ACD (average call duration) and ASR (average success rate). You can choose to monitor one parameter or both. \u00a0When one of the measured parameters passes your defined threshold then the connection can either be demoted to lowest priority, blocked, or no action (except for alert email sent to the switch administrator). \u00a0When both of the measured parameters (\"Quality Monitoring = \"ACD and ASR\") raises above your minimum threshold then the connection quality is considered good.  Quality measurement is done using the \"Statistics Window\" which consists of a configurable number of calls.   The system waits for the \"Retry Interval, sec\" and when the connection below the minimum threshold becomes unblocked (after N seconds) the system sends to it a batch of calls and based on the results of this batch of calls, the system makes a decision about connection quality.   The statistics window will be purged based on the count of successful calls in the retry batch if the connection's quality has changed from bad to good. The new \"Statistics window\" will start gathering statistics from the first call in the \"Retry Batch\" that shows good quality.        Custom case 1:  Bad quality action: block  Retry batch value = 250 calls  Retry Interval = 1800 seconds     Connection is being used by 500 simultaneous sessions when the block action gets applied to any new call.  The retry interval starts from this moment, though the we do not kill the existing sessions.  After 250 calls have successfully finished, the system calculates the quality (ASR or ACD) and if the quality gets better the connection could be unblocked immediately otherwise the \"block\" record would be added to the connection_quality_stats and the connection stays in a block state.     Custom case 2:  Bad quality action: Make last in routing Retry batch value = 250 calls Retry Interval = 1800 seconds  Connection is being used by 500 simultaneous sessions when the block action gets applied to any new call.  The retry interval starts from this moment, though the we do not kill the existing sessions.  After 250 calls have successfully finished, the system calculates the quality (ASR or ACD) and if the quality gets better the connection could be set in its place immediately otherwise the \"block\" record would be added to the connection_quality_stats and the connection stays in its place. \u00a0Thought this connection can be last in routing it can terminate some part of the traffic (depending on the huntstop configuration and routing policy).\u00a0 If this connection terminates 250 calls for a period of less then 1800 seconds, the system recalculates the quality of the connection using this batch even if the retry interval hasn't expired yet.        Connection Quality Recovery Algorithm   A bad quality connection is fully or partially disabled, so it is difficult to evaluate its current quality. To prevent indefinite blocking of a connection, the quality of a bad connections is periodically tested by sending a small percentage of calls to that connection. If the calls succeed, and the quality of that connection rises above the defined threshold \u00a0then the \"Bad Quality Action\" will be reverted.     Quality Monitoring Tunables   \u00a0The Edit Vendor Connection form contains the following options that you can set manually:   ACD Threshold - The Average Call Duration that is measured only for calls with non-zero duration, measured in seconds, When the ACD drops below this value then the connection is treated as bad, and the \"Bad Quality Action\" is executed  ASR Threshold - The Average Success Rate threshold expressed as a percentage which describes the correlation between Total count of calls and non-zero duration calls. When the ASR precentage drops below this value the connection is treated as bad, and the \"Bad Quality Action\" is executed  Statistics Window - The number of calls used to calculate the ACD and ASR metrics. ACD & ASR will be calculated on the last N calls made to the connection. The Statistics window is shifted when the new call comes. Example: if the window is 5 calls, either ASR or ACD is calculated for those 5 calls. Once the 6th call comes, the ASR or ACD is recalculated for the 2nd to the 6th calls, the same thing happens when the 7th call comes (the 3rd to the 7th calls are used to measure the new value)  Retry Interval - Number of seconds after which the switch will start sending a \"Retry\" calls to determine if the connection's health has improved from bad to good  Retry Batch - Number of calls to send as \"tests\" to test if the health of the connection has improved from bad to good  Bad Quality Action-\u00a0When the chosen metric drops below the defined threshold, you can have one of the following actions take place:  Make Last In Routing - The Vendor connection will be dropped to lowest priority in the associated routing group(s). Retry calls will be sent after the 'Retry Interval' timer has elapsed, the connection will be temporarily returned to its normal place in routing. If the Retry calls succeed, and the quality metric rises above the threshold, the connection priority will be returned to its previous position in routing on a permanent basis, until the quality goes down again  Block - The Vendor connection will be blocked. Retry calls will be sent after the 'Retry Interval' timer has elapsed, the block will be removed temporary. If the Retry calls succeed, and the quality metric rises above the threshold, the block will be removed fully until the quality goes down again  Notify Only - No action will be taken, but the root user of the switch will be notified via email that is configured in his preferences    Notify On Status Change - This causes a messages to be sent to the e-mail address of the root customer on each change of the status of a connection. The messages are sent only on real not temporary status changes.  ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [
      "ASR",
      "ACD",
      "Quality monitoring"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 7,
    "thumbs_down": 3,
    "hits": 1793,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 77907,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2013-04-22T10:47:32Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Branding",
    "updated_at": "2019-08-27T18:35:48Z",
    "description": "<h3><span style=\"font-size: 18px;\">Overview</span></h3><p><br>The softswitch contains several branding features. It is possible to customize login logo (1) and welcome text (2):</p><p><br></p><p><img alt=\"\" style=\"cursor: default;\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/5034477/original/login_screen.png?1366627481\" class=\"fr-dii\"></p><p>As well as browser title text after login:</p><p><br></p><p><img style=\"cursor: default;\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/5034540/original/title.png?1366627599\" class=\"fr-dii\"></p><p><br></p><p>To change login text or title text go to the System Parameters menu, put in new values and click Save. To replace image first delete the old one by turning on \"Delete\" checkbox in the Login Image item and clicking \"Save\" and them upload a new one by clicking on Browse, selcting a new image and clicking Save.</p><p><br></p><p><img style=\"cursor: default;\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/5034556/original/branding.png?1366627634\" class=\"fr-dii\"></p><p><br></p><p>Sippy Support team can also hide a \"System Information\" page if needed. Just contact our support team and you will get assistance on this.</p><p><br></p><p>For some additional information on branding we suggest you also read this article:</p><p><a href=\"https://support.sippysoft.com/a/solutions/articles/77908\" rel=\"noreferrer\">https://support.sippysoft.com/a/solutions/articles/77908</a></p><p><br></p>",
    "description_text": " Overview   The softswitch contains several branding features. It is possible to customize login logo (1) and welcome text (2):       As well as browser title text after login:          To change login text or title text go to the System Parameters menu, put in new values and click Save. To replace image first delete the old one by turning on \"Delete\" checkbox in the Login Image item and clicking \"Save\" and them upload a new one by clicking on Browse, selcting a new image and clicking Save.          Sippy Support team can also hide a \"System Information\" page if needed. Just contact our support team and you will get assistance on this.     For some additional information on branding we suggest you also read this article:  https://support.sippysoft.com/a/solutions/articles/77908    ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 3,
    "thumbs_down": 2,
    "hits": 522,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 77908,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2013-04-22T10:50:08Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "CSS Branding for Customers",
    "updated_at": "2019-08-27T18:34:26Z",
    "description": "<p>It is possible to change CSS style for sub-accounts, owned by different customers.So accounts will see the difference in colors and style between different resellers. CSS stylesheet code can be configured in \"CSS\" field for customer. The stylesheet should override definitions in Sippy default CSS style (/styles.css)<br><br>The same can be done for login screen (when the user has not yet signed in, so we don't know the reseller yet), in this case you should have DNS configured for different Customers. For example you have 2 Customers, that should have different style, your actions are:</p><ul><li>configure DNS record, for example reseller1.somedomain.com to point to your Sippy IP address.</li><li>configure DNS record, for example reseller2.somedomain.com to point to your Sippy IP address.\u00a0</li><li>open Customers page, navigate to needed Customer, in its Advanced Parameters open Customer Mods.</li><li>configure CSS styles and DNS aliases for customers accordingly.</li></ul><p><img data-uniquekey=\"1534771696350\" data-fileid=\"3038571094\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3038571094/original/4vub6M4z36g1_cvYuVlRSSwVGqaz2dyMbA.jpg?1534775314\" style=\"width: 755px; height: 199.129px;\" class=\"fr-dib fr-fil\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3038571094/original/4vub6M4z36g1_cvYuVlRSSwVGqaz2dyMbA.jpg?1534775314\"></p><p><img data-uniquekey=\"1534771696350\" data-fileid=\"3038571155\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3038571155/original/q77LSBeW3nDU2z2C-k5TMafcw7DaHCOSiw.jpg?1534775460\" style=\"width: 755px; height: 439.633px;\" class=\"fr-dib fr-fil\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3038571155/original/q77LSBeW3nDU2z2C-k5TMafcw7DaHCOSiw.jpg?1534775460\"></p><p><br></p><p><span style=\"font-size: 16px;\">Example of CSS:</span></p><pre class=\"code-large\" data-code-brush=\"css\" rel=\"highlighter\">body {\n\u00a0 background-color: green;\n}\n\nh2 {\n\u00a0 colour: blue;\n\u00a0 background-color: yellow;\n\u00a0 border: 1px solid black;\n}\n\noption {\n\u00a0 colour: blue;\n\u00a0 background-color: yellow;\n\u00a0 border: 1px solid black;\n}\n\ntd {\n\u00a0 text-decoration: underline;\n\u00a0 colour: red;\n\u00a0 background-color: yellow;\n\u00a0 border: 1px solid black;\n}</pre><p><br></p><p><br></p><p>Some additional branding options can be found here:</p><div rel=\"clipboard_data\"><a href=\"https://support.sippysoft.com/a/solutions/articles/77907\">https://support.sippysoft.com/a/solutions/articles/77907</a>\u00a0</div><p><br></p><p><span style=\"font-size: 18px;\">Availability</span><br>Sippy Softswitch 2.2</p>",
    "description_text": " It is possible to change CSS style for sub-accounts, owned by different customers.So accounts will see the difference in colors and style between different resellers. CSS stylesheet code can be configured in \"CSS\" field for customer. The stylesheet should override definitions in Sippy default CSS style (/styles.css)  The same can be done for login screen (when the user has not yet signed in, so we don't know the reseller yet), in this case you should have DNS configured for different Customers. For example you have 2 Customers, that should have different style, your actions are:   configure DNS record, for example reseller1.somedomain.com to point to your Sippy IP address.  configure DNS record, for example reseller2.somedomain.com to point to your Sippy IP address.\u00a0  open Customers page, navigate to needed Customer, in its Advanced Parameters open Customer Mods.  configure CSS styles and DNS aliases for customers accordingly.          Example of CSS:  body {\n\u00a0 background-color: green;\n}\n\nh2 {\n\u00a0 colour: blue;\n\u00a0 background-color: yellow;\n\u00a0 border: 1px solid black;\n}\n\noption {\n\u00a0 colour: blue;\n\u00a0 background-color: yellow;\n\u00a0 border: 1px solid black;\n}\n\ntd {\n\u00a0 text-decoration: underline;\n\u00a0 colour: red;\n\u00a0 background-color: yellow;\n\u00a0 border: 1px solid black;\n}        Some additional branding options can be found here:  https://support.sippysoft.com/a/solutions/articles/77907\u00a0     Availability Sippy Softswitch 2.2 ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 3,
    "thumbs_down": 1,
    "hits": 758,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 77912,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2013-04-22T10:56:33Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "External Routing",
    "updated_at": "2019-12-26T13:39:51Z",
    "description": "<h1 align=\"center\">This documentation describes the obsolete feature.</h1>\n<h1 align=\"center\">\n</h1>\n<h1 align=\"center\">\n<span rel=\"tempredactor\" style=\"background-color: rgb(255, 255, 255);\">It's worth using the <a href=\"http://support.sippysoft.com/solution/articles/3000015876-ability-to-replicate-destination-set-with-all-its-content-from-one-switch-to-another\" target>following </a>one instead</span><br>\n</h1>\n<h1 align=\"center\">\n</h1>\n<h3><br></h3>\n<h3><span style=\"font-size: 18px;\">Client Side</span></h3>\n<p><br>The Sippy Softswitch supports external Routing Groups. An external Routing Group can be created by checking the 'External Group' checkbox and entering URI to access the external routing daemon. The routing works as showed in the following example. <br></p>\n<p><br></p>\n<h3><span style=\"font-size: 18px;\">Setup</span></h3>\n<p><br></p>\n<ol>\n<li>External group has been created on softswitch at IP 10.0.0.1 with name 'Group 1' and URI '<a href=\"https://172.16.0.1:7777/\" rel=\"noreferrer\">https://172.16.0.1:7777/</a>'</li>\n<li>A non-external routing group has been created on the sofswitch at IP 172.16.0.1 with name 'Group 1'</li>\n<li>Softswitch at IP 172.16.0.1 is configured to accept routing requests from 10.0.0.1 (see below).<br>\n</li>\n</ol>\n<p><br></p>\n<h3><span style=\"font-size: 18px;\">Call flow</span></h3>\n<p><br></p>\n<ol>\n<li>Call is sent to the 10.0.0.1. The routing group 'Group 1' is chosen.</li>\n<li>Softswitch at 10.0.0.1 requests the softswitch 172.16.0.1 for routing group 'Group 1' and other routing specific parameters (CLI, CLD, etc)</li>\n<li>Softswitch 172.16.0.1 lookus up an appropriate connections and rates and returns them to the 10.0.0.1.</li>\n<li>To perform correct billing the 10.0.0.1 uses the vendor with the name 'External Connections (autocreated)'. If this vendor does not exist, it is created automatically.</li>\n<li>The external connections are mapped to the corresponding connections under this special vendor. The name of the external connection equals the name of the local connection, if local connection with that name does not exist, it is created automatically.</li>\n<li>Routing information is ready and the call is forwarded to the vendor as usual. <br>\n</li>\n</ol>\n<p><br></p>\n<h3><span style=\"font-size: 18px;\">External Routing Daemon</span></h3>\n<p><br>The sippy_routed.py daemon by default listens on the local UNIX socket unix:/var/run/sippy_routed.?.sock. To make the daemon to listen on a different socket the -s command line option can be used. <br><br>When the daemon listens on HTTP or HTTPS socket the default behavior is to reject clients from all IP addresses. So you have to specify all allowed client IP addresses using the -a option. <br><br><b>!!!WARNING!!! The following steps should be performed by skilled personnel only! If you will make an error in the procedure described below, you can severely damage your system! <br></b><br>The <i>/home/ssp/etc/econfig/sippy_routed.sh</i> file on the 172.16.0.1 contains the following line, which should be changed to allow external routing.\u00a0</p>\n<p><br></p>\n<table id=\"table24408\"><tbody><tr><td class=\"\"><span class=\"current\" style=\"background-color: rgb(0, 0, 0); color: rgb(255, 255, 255);\">command_args=\"/home/ssp/apps/sippy_routed/sippy_routed.${extension} -e %%I_ENVIRONMENT%%\"</span></td></tr></tbody></table>\n<p><br></p>\n<p>Lets finish the setup described above. The goal is to make the routed daemon to accept requests on the <a href=\"https://172.16.0.1:7777/\" rel=\"noreferrer\">https://172.16.0.1:7777/</a> from the 10.0.0.1. This should be done for environment with i_environment = 3 only. <br><br><i>Please note that each environment must listen on own TCP port. TCP ports from different environments must not clash. </i><br><br>We change the /home/ssp/etc/econfig/sippy_routed.sh on the 172.16.0.1 to look like this:\u00a0</p>\n<p><br></p>\n<table id=\"table81429\"><tbody><tr><td class=\"current\"><span style=\"color: rgb(255, 255, 255); background-color: rgb(0, 0, 0);\">command_args=\"/home/ssp/apps/sippy_routed/sippy_routed.${extension} -e %%I_ENVIRONMENT%%\"<br>%%IF_ENV_IN 3<br>command_args=\"${command_args} -s <a href=\"https://172.16.0.1:7777\" rel=\"noreferrer\">https://172.16.0.1:7777</a> -a 10.0.0.1\"<br>%%ENDIF</span></td></tr></tbody></table>\n<p><br><i>WARNING! The changes to the file are applied to the running system automatically so you are strongly recommended to keep this file free of errors and typos! This also means that you don't have to restart anything to apply the changes.</i></p>\n",
    "description_text": " This documentation describes the obsolete feature. \n \n \n \nIt's worth using the following one instead \n \n \n \n   \n Client Side \n  The Sippy Softswitch supports external Routing Groups. An external Routing Group can be created by checking the 'External Group' checkbox and entering URI to access the external routing daemon. The routing works as showed in the following example.   \n   \n Setup \n   \n \n External group has been created on softswitch at IP 10.0.0.1 with name 'Group 1' and URI 'https://172.16.0.1:7777/' \n A non-external routing group has been created on the sofswitch at IP 172.16.0.1 with name 'Group 1' \n Softswitch at IP 172.16.0.1 is configured to accept routing requests from 10.0.0.1 (see below). \n \n \n   \n Call flow \n   \n \n Call is sent to the 10.0.0.1. The routing group 'Group 1' is chosen. \n Softswitch at 10.0.0.1 requests the softswitch 172.16.0.1 for routing group 'Group 1' and other routing specific parameters (CLI, CLD, etc) \n Softswitch 172.16.0.1 lookus up an appropriate connections and rates and returns them to the 10.0.0.1. \n To perform correct billing the 10.0.0.1 uses the vendor with the name 'External Connections (autocreated)'. If this vendor does not exist, it is created automatically. \n The external connections are mapped to the corresponding connections under this special vendor. The name of the external connection equals the name of the local connection, if local connection with that name does not exist, it is created automatically. \n Routing information is ready and the call is forwarded to the vendor as usual.  \n \n \n   \n External Routing Daemon \n  The sippy_routed.py daemon by default listens on the local UNIX socket unix:/var/run/sippy_routed.?.sock. To make the daemon to listen on a different socket the -s command line option can be used.   When the daemon listens on HTTP or HTTPS socket the default behavior is to reject clients from all IP addresses. So you have to specify all allowed client IP addresses using the -a option.   !!!WARNING!!! The following steps should be performed by skilled personnel only! If you will make an error in the procedure described below, you can severely damage your system!   The /home/ssp/etc/econfig/sippy_routed.sh file on the 172.16.0.1 contains the following line, which should be changed to allow external routing.\u00a0 \n   \n command_args=\"/home/ssp/apps/sippy_routed/sippy_routed.${extension} -e %%I_ENVIRONMENT%%\" \n   \n Lets finish the setup described above. The goal is to make the routed daemon to accept requests on the https://172.16.0.1:7777/ from the 10.0.0.1. This should be done for environment with i_environment = 3 only.   Please note that each environment must listen on own TCP port. TCP ports from different environments must not clash.   We change the /home/ssp/etc/econfig/sippy_routed.sh on the 172.16.0.1 to look like this:\u00a0 \n   \n command_args=\"/home/ssp/apps/sippy_routed/sippy_routed.${extension} -e %%I_ENVIRONMENT%%\" %%IF_ENV_IN 3 command_args=\"${command_args} -s https://172.16.0.1:7777 -a 10.0.0.1\" %%ENDIF \n  WARNING! The changes to the file are applied to the running system automatically so you are strongly recommended to keep this file free of errors and typos! This also means that you don't have to restart anything to apply the changes. \n",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [
      "Routing"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 1,
    "thumbs_down": 1,
    "hits": 268,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 77914,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2013-04-22T11:04:12Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Rewriting CLI and CLD with external script",
    "updated_at": "2021-07-06T09:23:20Z",
    "description": "<p data-identifyelement=\"481\">The Sippy B2BUA can use external script to do custom CLI, CLD rewriting. For this purpose the B2BUA uses /var/env&lt;I_ENVIRONMENT&gt;/scripts/external_translator (for &lt;=4.5 versions /home/ssp/scripts/external_translator.&lt;I_ENVIRONMENT&gt;) script if it exists.</p><p data-identifyelement=\"482\"><br></p><p data-identifyelement=\"484\">The B2BUA sends to the standard input of the script the CLI, CLD and i_account, for example:\u00a0</p><p data-identifyelement=\"485\"><br></p><table data-identifyelement=\"487\" id=\"table58203\"><tbody><tr><td class=\"current\">CLI=1234\\n<br>CLD=4321\\n<br>ORIG_CLI=81234\\n<br>ORIG_CLD=94321\\n<br>I_ACCOUNT=123\\n<br>\\n</td></tr></tbody></table><p data-identifyelement=\"497\"><br></p><p data-identifyelement=\"499\"><em>Full list of supplied fields see below.</em></p><p data-identifyelement=\"501\"><br></p><p data-identifyelement=\"503\">After receiving the empty line, the script is free to use some algorithm to rewrite the CLI and CLD and then it MUST send them in separate lines of text - CLI, CLD and empty line. For example:</p><p data-identifyelement=\"504\"><br></p><table data-identifyelement=\"506\" id=\"table30700\"><tbody><tr><td class=\"current\">CLI=123\\n<br>CLD=432\\n<br>\\n</td></tr></tbody></table><p data-identifyelement=\"513\"><br></p><p data-identifyelement=\"515\">If the script is not configured to rewrite anything then it must send back the CLI and CLD unchanged.<br><br><strong><span style=\"font-size: 16px;\">There are several optional action script can apply:</span></strong></p><ul data-identifyelement=\"520\"><li>FAIL=&lt;yes|no&gt; - you can use this field to signal that the call should fail. Example: FAIL=yes</li><li>RESULT=&lt;integer&gt; - the result to be responded to the calling party. Possible values are 400 through 699 excluding 401 and 407, default is 500. This field is used when the FAIL=yes. Example: RESULT=403</li><li>COST=&lt;float&gt; - this value will be added to overall cost of the call. Example: COST=0.01</li></ul><p data-identifyelement=\"524\" dir=\"ltr\"><span style=\"font-size: 14px;\"><strong>As of Sippy 2020</strong><strong dir=\"ltr\">\u00a0version external translator can now return few EXTRA parameters:</strong></span></p><div><pre contenteditable=\"false\" data-code-brush=\"Generic Language\" rel=\"highlighter\">TO_URI_PARAMS - the parameters for the To: SIP URI (not address)\nFROM_URI_PARAMS - the parameters for the From: SIP URI (not address)\nRURI_PARAMS - additional request URI parameters for the outgoing INVITE\nDIVERSION_URI_PARAMS - the parameters for the Diversion: SIP URI\nDIVERSION_PARAMS - additional parameters for the Diversion: SIP address. Please note that the parameter 'reason' will be present even if it has not been returned by the external translator.\nP_ASSERTED_ID_PARAMS - the parameters for the P-Asserted-Identity: SIP address\nP_ASSERTED_ID_URI_PARAMS - the parameters for the P-Asserted-Identity: SIP URI\nREMOTE_PARTY_ID_PARAMS - the parameters for the Remote-Party-ID: SIP address\nREMOTE_PARTY_ID_URI_PARAMS - the parameters for the Remote-Party-ID: SIP URI\nADD_HEADER - additional header to be generated by Sippy that should be added in outgoing INVITE sent to Vendor</pre><p>Note that a parameters are additional only if they are specified so explicitly. Otherwise the parameters replace the existing ones.</p></div><hr><p data-identifyelement=\"524\" dir=\"ltr\"><em>WARNING! To achieve maximum performance the script should never exit but continue to process next portion of data.<br></em><br><span style=\"font-size: 16px;\"><strong>The SSP distribution comes with sample scripts which you can customize to your purposes:</strong></span></p><ul><li data-identifyelement=\"524\" dir=\"ltr\">/home/ssp/scripts/external_translator.sample\u00a0</li><li data-identifyelement=\"524\" dir=\"ltr\">/home/ssp/scripts/external_translator.py (<strong>in &gt;=Sippy2020</strong>)</li></ul><p data-identifyelement=\"529\">\u00a0</p><pre class=\"code-large\" contenteditable=\"false\" data-identifyelement=\"530\" rel=\"highlighter\">#!/bin/sh\n\nwhile true; do\n\u00a0 read LINE || exit\n\u00a0 case \"$LINE\" in\n\u00a0 CLI=*) CLI=${LINE#CLI=}\n\u00a0 ;;\n\u00a0 CLD=*) CLD=${LINE#CLD=}\n\u00a0 ;;\n\u00a0 ORIG_CLI=*) ORIG_CLI=${LINE#ORIG_CLI=}\n\u00a0 ;;\n\u00a0 ORIG_CLD=*) ORIG_CLD=${LINE#ORIG_CLD=}\n\u00a0 ;;\n\u00a0 \"\")\n\u00a0 echo \"CLI=$CLI\"\n\u00a0 echo \"CLD=$CLD\"\n\u00a0 echo\n\u00a0 CLI=\"\"\n\u00a0 CLD=\"\"\n\u00a0 ;;\n\u00a0 esac\ndone</pre><p data-identifyelement=\"552\">\u00a0</p><p data-identifyelement=\"553\"><br></p><p data-identifyelement=\"555\"><strong><span style=\"font-size: 16px;\">Translator is applied after authentication of the call. Translation rules are applied in the following order:</span></strong></p><ul data-identifyelement=\"558\"><li>Case call was authenticated to Account:</li></ul><p data-identifyelement=\"560\">1. CLI/CLD translation rules from Authentication Rule (if present)</p><p data-identifyelement=\"561\">2. CLI/CLD translation rules from Account (if present)</p><p data-identifyelement=\"562\">3. external_translator is triggered and processes the fields supplied to it by Sippy (see the list below)</p><p data-identifyelement=\"563\">4. Based on the output from external_translator Sippy performs call authorization (rating, routing, selection of tariff, route, etc)</p><p data-identifyelement=\"564\">5. Before sending the call outside the translation rules from Connection/Trunk are applied.</p><ul data-identifyelement=\"565\"><li>Case call was authenticated to DID</li></ul><p data-identifyelement=\"567\">1. CLI/CLD translation rules from DID Authentication Rule and DID (if present)</p><p data-identifyelement=\"568\">2. CLI/CLD translation rules from Account assigned to DID <strong><u>are ignored</u></strong></p><p data-identifyelement=\"571\">3. external_translator is triggered and processes the fields supplied to it by Sippy (see the list below)</p><p data-identifyelement=\"572\">4. Based on the output from external_translator Sippy performs call authorization (rating, routing, selection of tariff, route, etc)</p><p data-identifyelement=\"573\">5. Before sending the call outside the translation rules from Connection/Trunk are applied.</p><p data-identifyelement=\"574\"><br></p><p data-identifyelement=\"576\"><strong><span style=\"font-size: 16px;\">Fields supplied by Sippy to external_translator script:</span></strong></p><p data-identifyelement=\"579\"><br></p><pre contenteditable=\"false\" data-code-brush=\"text\" data-identifyelement=\"581\" rel=\"highlighter\">I_ACCOUNT\nORIG_CLI\nORIG_CLD\nCLI\nCLD\nCALLER_NAME\nP_ASSERTED_ID\nREMOTE_PARTY_ID\nREMOTE_IP\nDIVERSION\nDIVERSION_PARAMS *</pre><h3><span style=\"font-size: 14px;\">* starting from Sippy 2020.</span></h3><p><br></p><p><br></p>",
    "description_text": " The Sippy B2BUA can use external script to do custom CLI, CLD rewriting. For this purpose the B2BUA uses /var/env<I_ENVIRONMENT>/scripts/external_translator (for <=4.5 versions /home/ssp/scripts/external_translator.<I_ENVIRONMENT>) script if it exists.     The B2BUA sends to the standard input of the script the CLI, CLD and i_account, for example:\u00a0     CLI=1234\\n CLD=4321\\n ORIG_CLI=81234\\n ORIG_CLD=94321\\n I_ACCOUNT=123\\n \\n     Full list of supplied fields see below.     After receiving the empty line, the script is free to use some algorithm to rewrite the CLI and CLD and then it MUST send them in separate lines of text - CLI, CLD and empty line. For example:     CLI=123\\n CLD=432\\n \\n     If the script is not configured to rewrite anything then it must send back the CLI and CLD unchanged.  There are several optional action script can apply:   FAIL=<yes|no> - you can use this field to signal that the call should fail. Example: FAIL=yes  RESULT=<integer> - the result to be responded to the calling party. Possible values are 400 through 699 excluding 401 and 407, default is 500. This field is used when the FAIL=yes. Example: RESULT=403  COST=<float> - this value will be added to overall cost of the call. Example: COST=0.01   As of Sippy 2020\u00a0version external translator can now return few EXTRA parameters:   TO_URI_PARAMS - the parameters for the To: SIP URI (not address)\nFROM_URI_PARAMS - the parameters for the From: SIP URI (not address)\nRURI_PARAMS - additional request URI parameters for the outgoing INVITE\nDIVERSION_URI_PARAMS - the parameters for the Diversion: SIP URI\nDIVERSION_PARAMS - additional parameters for the Diversion: SIP address. Please note that the parameter 'reason' will be present even if it has not been returned by the external translator.\nP_ASSERTED_ID_PARAMS - the parameters for the P-Asserted-Identity: SIP address\nP_ASSERTED_ID_URI_PARAMS - the parameters for the P-Asserted-Identity: SIP URI\nREMOTE_PARTY_ID_PARAMS - the parameters for the Remote-Party-ID: SIP address\nREMOTE_PARTY_ID_URI_PARAMS - the parameters for the Remote-Party-ID: SIP URI\nADD_HEADER - additional header to be generated by Sippy that should be added in outgoing INVITE sent to Vendor  Note that a parameters are additional only if they are specified so explicitly. Otherwise the parameters replace the existing ones.    WARNING! To achieve maximum performance the script should never exit but continue to process next portion of data.  The SSP distribution comes with sample scripts which you can customize to your purposes:   /home/ssp/scripts/external_translator.sample\u00a0  /home/ssp/scripts/external_translator.py (in >=Sippy2020)   \u00a0  #!/bin/sh\n\nwhile true; do\n\u00a0 read LINE || exit\n\u00a0 case \"$LINE\" in\n\u00a0 CLI=*) CLI=${LINE#CLI=}\n\u00a0 ;;\n\u00a0 CLD=*) CLD=${LINE#CLD=}\n\u00a0 ;;\n\u00a0 ORIG_CLI=*) ORIG_CLI=${LINE#ORIG_CLI=}\n\u00a0 ;;\n\u00a0 ORIG_CLD=*) ORIG_CLD=${LINE#ORIG_CLD=}\n\u00a0 ;;\n\u00a0 \"\")\n\u00a0 echo \"CLI=$CLI\"\n\u00a0 echo \"CLD=$CLD\"\n\u00a0 echo\n\u00a0 CLI=\"\"\n\u00a0 CLD=\"\"\n\u00a0 ;;\n\u00a0 esac\ndone  \u00a0     Translator is applied after authentication of the call. Translation rules are applied in the following order:   Case call was authenticated to Account:   1. CLI/CLD translation rules from Authentication Rule (if present)  2. CLI/CLD translation rules from Account (if present)  3. external_translator is triggered and processes the fields supplied to it by Sippy (see the list below)  4. Based on the output from external_translator Sippy performs call authorization (rating, routing, selection of tariff, route, etc)  5. Before sending the call outside the translation rules from Connection/Trunk are applied.   Case call was authenticated to DID   1. CLI/CLD translation rules from DID Authentication Rule and DID (if present)  2. CLI/CLD translation rules from Account assigned to DID are ignored  3. external_translator is triggered and processes the fields supplied to it by Sippy (see the list below)  4. Based on the output from external_translator Sippy performs call authorization (rating, routing, selection of tariff, route, etc)  5. Before sending the call outside the translation rules from Connection/Trunk are applied.     Fields supplied by Sippy to external_translator script:     I_ACCOUNT\nORIG_CLI\nORIG_CLD\nCLI\nCLD\nCALLER_NAME\nP_ASSERTED_ID\nREMOTE_PARTY_ID\nREMOTE_IP\nDIVERSION\nDIVERSION_PARAMS *  * starting from Sippy 2020.       ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 1,
    "thumbs_down": 3,
    "hits": 1922,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 77948,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2013-04-22T12:44:02Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Auto Provisioning",
    "updated_at": "2015-07-19T18:34:49Z",
    "description": "<h3><span style=\"font-size: 18px;\">Overview<br></span></h3>\n<p><br></p>\n<p>Supported since version 2.0. <br><br>\u00a0Auto-provisioning is intended to configure remotely IP Telephony Devices. <br><br>\u00a0To enable auto-provisioning an account should be assigned CPE# and Auto-Provisioning type. <br><br>\u00a0Depending on provisioning type there is profile template. The templates are stored in /home/ssp/etc/provisioning directory. Each softswitch environment has own sub-directory for own set of profiles: <br></p>\n<ul>\n<li><i>Environment #1:</i></li>\r\n<ul><li><i>/home/ssp/etc/provisioning </i></li></ul>\n</ul>\n<ul>\n<li><i>Environment #2:\u00a0</i></li>\r\n<ul><li><i>/home/ssp/etc/provisioning/env2 </i></li></ul>\n</ul>\n<ul>\n<li><i>Environment #3:</i></li>\r\n<ul><li><i>/home/ssp/etc/provisioning/env3 </i></li></ul>\n</ul>\n<ul>\n<li><i>Environment #N:</i></li>\r\n<ul><li>\r\n<i>/home/ssp/etc/provisioning/envN </i><br>\n</li></ul>\n</ul>\n<p><br>If an environment does not have own profile, default one is used from /home/ssp/etc/provisioning directory. <br><br>Profile can have macros, which are substituted by real data from environment or account settings. A macro should be enclosed by '%%' (double percent), e.g. %%MACRO%%. The list of supported macros are: <br></p>\n<ul><li>SIP_PROXY - SIP IP-address of environment </li></ul>\n<ul><li>SIP_PORT - SIP PORT of environment </li></ul>\n<ul><li>SIP_USERNAME - Account Name </li></ul>\n<ul><li>SIP_PASSWORD - VoIP Password </li></ul>\n<ul><li>SIP_AUTHNAME - VoIP Login </li></ul>\n<ul><li>SIP_CALLER_NAME - Caller Name </li></ul>\n<p><br>List of supported provisioning types:\u00a0</p>\n<ul><li>\r\n<a href=\"http://support.sippysoft.com/solution/articles/3000010798-linksys-auto\" target=\"\">Linksys </a>\r\n</li></ul>",
    "description_text": " Overview  \n   \n Supported since version 2.0.   \u00a0Auto-provisioning is intended to configure remotely IP Telephony Devices.   \u00a0To enable auto-provisioning an account should be assigned CPE# and Auto-Provisioning type.   \u00a0Depending on provisioning type there is profile template. The templates are stored in /home/ssp/etc/provisioning directory. Each softswitch environment has own sub-directory for own set of profiles:   \n \n Environment #1: \n  /home/ssp/etc/provisioning   \n \n \n Environment #2:\u00a0 \n  /home/ssp/etc/provisioning/env2   \n \n \n Environment #3: \n  /home/ssp/etc/provisioning/env3   \n \n \n Environment #N: \n  \n/home/ssp/etc/provisioning/envN  \n  \n \n  If an environment does not have own profile, default one is used from /home/ssp/etc/provisioning directory.   Profile can have macros, which are substituted by real data from environment or account settings. A macro should be enclosed by '%%' (double percent), e.g. %%MACRO%%. The list of supported macros are:   \n  SIP_PROXY - SIP IP-address of environment   \n  SIP_PORT - SIP PORT of environment   \n  SIP_USERNAME - Account Name   \n  SIP_PASSWORD - VoIP Password   \n  SIP_AUTHNAME - VoIP Login   \n  SIP_CALLER_NAME - Caller Name   \n  List of supported provisioning types:\u00a0 \n  \nLinksys \n  ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 0,
    "thumbs_down": 2,
    "hits": 901,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 77952,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2013-04-22T12:55:10Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Charging Groups",
    "updated_at": "2021-09-27T22:45:58Z",
    "description": "<div dir=\"ltr\"><div dir=\"ltr\"><h3><span style=\"font-size: 18px;\">Availability</span></h3><p>Sippy Softswitch 2.1</p><p><br></p><p dir=\"ltr\">Charging groups are used to charge additional fees to DIDs. &nbsp;. You may find it in the following section menu:</p><p><br></p><p><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3056289676/original/rlLhPibZOz4fDg8bz1dwAbEs8-t9lJ2VRg.png?1598438124\" style=\"width: auto;\" class=\"fr-fic fr-fil fr-dib\" data-attachment=\"[object Object]\" data-id=\"3056289676\"></p><p><br></p><p>&nbsp;</p><p dir=\"ltr\">This feature enables a switch operator to create multiple DID categories that are charged different higher rates from normal categories. &nbsp;For example, local DIDs can be charged X while toll-free DIDs can be charged at X + 1. <span dir=\"ltr\">When used, the Charging Groups feature will affect call cost by applying surcharges in addition to Tariff rates.&nbsp;</span></p><p><br></p><p dir=\"ltr\">Charging Groups are also useful for IVR applications. If used with IVR applications, the feature will result higher charges to the end user charge connecting through toll-free lines.</p><p><br></p>Starting from version <span style=\"line-height: 18px;\">4.4</span><span dir=\"ltr\">&nbsp;of the softswitch, the CDRs for Charging Groups are available from the web interface.</span><div><br></div><p><br></p><table style=\"width: 100%;\"><tbody><tr><td style=\"width: 100%; background-color: rgb(255, 251, 194);\"><div style=\"text-align: justify;\">Any changes related to <strong>Rates</strong>, <strong>Routes</strong>, <strong>Destination Sets</strong>, <strong>Tariffs</strong>, <strong>DID numbers</strong>, <strong>DID Charging Groups</strong> and <strong>Routing Groups</strong> may not be applied immediately. You need to wait at least for 1 min so that the system can update its internal \"cache\". Sometimes, in case of a heavy bulk update of, for example, multiple destination sets at once, it may be required more than 1 min. <a href=\"https://support.sippysoft.com/a/solutions/articles/3000093931\" rel=\"noopener noreferrer\" target=\"_blank\">Read more...</a></div></td></tr></tbody></table><div><br><div>Note: only the fees configured in Selling charging group are available in DID cdrs on web.</div><p><br></p><p><strong style=\"color: inherit; font-family: inherit; font-size: 1.17em; background-color: initial; text-align: initial;\"><font size=\"3\">Parameter explanations for Charging groups:</font></strong></p><div><p><strong><font size=\"3\"><br></font></strong></p><ul><li><strong>Setup Fee:&nbsp;</strong><span>commission that is</span><strong>&nbsp;</strong><span>applied for account on stage of the DID assignment.&nbsp;</span>In 4.x versions of Sippy, the \"Setup Fee\" and \"Monthly Fee\" duplicated each other and worked in the same manner, that did not make any sense for real-world billing. From 5.0 we changed the incorrect approach of this functionality. Thus now if you want to charge your account every billing cycle, you have to use the \"Monthly Fee\" option, because \"Setup fee\" is a one-time fee charged on the assignment of a DID to an account.</li><li><strong>Monthly Fee</strong><span>: commission that is applied on monthly basis to the account that has the DID assigned</span></li><li><strong>Free Seconds:</strong><span>&nbsp;amount of free seconds that are given to the caller after Interval 1 before first Interval N, between Interval 1 and first Interval N.</span></li><li><strong>Grace Period:</strong><span>&nbsp;period in scope of Interval 1 that the caller won't be charged for the call. In case the call lasts longer then Grace Period, the regular charge of Interval 1 is applied to cover the Grace Period.</span></li><li><strong>Connect Fee:</strong><span>&nbsp;fixed commission that is taken from the balance of an account after every single call made</span></li><li><strong>Post Call Surcharge:</strong><span>&nbsp;extra charge that is applied to the cost of the call. It's extra % added to the final cost charged from account's balance.</span></li></ul><p><br></p><p>How to create &amp; assign Charging Group to some particular DID number:</p><p><br></p><p>1) Click <strong>add</strong> to <strong>create a new Charging Group (2 groups are required 1-selling, 2-buying)</strong>:</p><p><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3056289781/original/rrZSNVpU26bmGQN0Pl7K9HXLsyIP2OOR2Q.png?1598438343\" style=\"width: auto;\" class=\"fr-fic fr-fil fr-dib\" data-attachment=\"[object Object]\" data-id=\"3056289781\"></p><p><br></p><p>2) Select the type of Charging group and related prices:</p><p><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3056290056/original/jPi7Vo40ygRd-aUy_A5YN8PLQqb6XTJfxw.png?1598438828\" style=\"width: auto;\" class=\"fr-fic fr-fil fr-dib\" data-attachment=\"[object Object]\" data-id=\"3056290056\"></p><p><br></p><p>3) Assign both Charging Groups that you have created on step 1-2 on some DID number that you have created in the DID Pool section:</p><p><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3056290282/original/e6DG7jT3TgEZ9TtqXsF23F2Y_xQ6mTdA-Q.png?1598439179\" style=\"width: auto;\" class=\"fr-fic fr-fil fr-dib\" data-attachment=\"[object Object]\" data-id=\"3056290282\"></p><p><br></p><p>Please, refer to our <a href=\"http://support.sippysoft.com/solution/articles/77554-understanding-rating-and-billing\" target=\"\">Understanding Rating and Billing</a> documentation for detailed explanation of the call charging procedure</p></div></div></div></div>",
    "description_text": "   Availability  Sippy Softswitch 2.1     Charging groups are used to charge additional fees to DIDs. \u00a0. You may find it in the following section menu:          \u00a0  This feature enables a switch operator to create multiple DID categories that are charged different higher rates from normal categories. \u00a0For example, local DIDs can be charged X while toll-free DIDs can be charged at X + 1. When used, the Charging Groups feature will affect call cost by applying surcharges in addition to Tariff rates.\u00a0     Charging Groups are also useful for IVR applications. If used with IVR applications, the feature will result higher charges to the end user charge connecting through toll-free lines.    Starting from version 4.4\u00a0of the softswitch, the CDRs for Charging Groups are available from the web interface.        Any changes related to Rates, Routes, Destination Sets, Tariffs, DID numbers, DID Charging Groups and Routing Groups may not be applied immediately. You need to wait at least for 1 min so that the system can update its internal \"cache\". Sometimes, in case of a heavy bulk update of, for example, multiple destination sets at once, it may be required more than 1 min. Read more...     Note: only the fees configured in Selling charging group are available in DID cdrs on web.     Parameter explanations for Charging groups:       Setup Fee:\u00a0commission that is\u00a0applied for account on stage of the DID assignment.\u00a0In 4.x versions of Sippy, the \"Setup Fee\" and \"Monthly Fee\" duplicated each other and worked in the same manner, that did not make any sense for real-world billing. From 5.0 we changed the incorrect approach of this functionality. Thus now if you want to charge your account every billing cycle, you have to use the \"Monthly Fee\" option, because \"Setup fee\" is a one-time fee charged on the assignment of a DID to an account.  Monthly Fee: commission that is applied on monthly basis to the account that has the DID assigned  Free Seconds:\u00a0amount of free seconds that are given to the caller after Interval 1 before first Interval N, between Interval 1 and first Interval N.  Grace Period:\u00a0period in scope of Interval 1 that the caller won't be charged for the call. In case the call lasts longer then Grace Period, the regular charge of Interval 1 is applied to cover the Grace Period.  Connect Fee:\u00a0fixed commission that is taken from the balance of an account after every single call made  Post Call Surcharge:\u00a0extra charge that is applied to the cost of the call. It's extra % added to the final cost charged from account's balance.      How to create & assign Charging Group to some particular DID number:     1) Click add to create a new Charging Group (2 groups are required 1-selling, 2-buying):       2) Select the type of Charging group and related prices:       3) Assign both Charging Groups that you have created on step 1-2 on some DID number that you have created in the DID Pool section:       Please, refer to our Understanding Rating and Billing documentation for detailed explanation of the call charging procedure     ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 0,
    "thumbs_down": 0,
    "hits": 798,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 78253,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2013-04-23T08:42:40Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Recalculation of the CDRs based on the corrected rates",
    "updated_at": "2020-12-17T08:25:15Z",
    "description": "<p><font size=\"4\">Rerate CDRs feature allows to recalculate CDRs according to the corrected rates.\u00a0</font></p><p><br></p><p>You can rerate account's, customer's or vendor/connection's CDRs.</p><p>When creating a new recalculation it is important to schedule the recalculation in the future, so that you have enough time to upload corrected rates, most preferable is the off-peak period.\u00a0</p><p><br></p><p><strong><font size=\"3\">Fields description:</font></strong></p><ul><li>Customer: if selected, the recalculation will affect customer CDRs of selected customer.</li><li>Account: if selected, the recalculation will affect account CDRs of selected account.</li><li>Vendor: if selected, choose further connections of vendor, the recalculation will affect connection CDRs of selected connections.</li><li>Period from: start date/time of the recalculation period, system will recalculate CDRs starting from this date.</li><li>Period to: finish date/time of the recalculation period, system will recalculate CDRs before this date.</li><li>When To Recalculate: the date/time of the recalculation process. It is highly recommended to choose off peak time.</li><li>Notepad: allows to add some notes for recalculation, for example \"Correcting Mary upload from 01.02.2011\".</li><li>Notification Email List: comma separated list of emails for recalculation notification. The system will notify these addresses about recalculation process.\u00a0</li></ul><p><br></p><p><strong><font size=\"3\">Steps to perform the recalculation:</font></strong></p><ol><li>Find out whether you need to do the recalculation for an account, or the vendor/connection</li><li>Find the period that you want to recalculate (lets say, from 03.05.15 till 13.05.15)</li><li>Open the rerate page from Tools menu of your switch</li><li>Create a new task, mentioning either the account, or the vendor's connection, and the timestamps for the beginning and the end of the period. Case you want to rerate huge amount of cdrs, it could be reasonable to schedule the procedure on your server's off-peak instead of now in <u>When To Recalculate</u> field.</li><li>After adding the new task, you should be able to press Download button for this job to get the template that is required to be filled for the rerate</li><li>Fill the template with the corrected Prefix, Interval 1, Interval N, Price 1, Price N and <strong>set SA as desired Action</strong>, that should allow the recalculation to be done for all calls made by this account/terminated through the vendor's connection for the period of time using the mentioned prefix. Note, case the intervals and prices are the same as in particular CDR for the prefix, such CDR won't be recalculated.</li><li>Add the file with the Browse button and then press Upload to upload the sheet</li><li>The expected output:</li></ol><p>Upload has completed successfully:</p><p>- N rows processed;</p><p>- N commands recognized;</p><p>- N records added;</p><p>- 0 records updated;</p><p>- 0 records deleted.</p><p>\u00a0 \u00a0 \u00a0 \u00a0 9. Wait for the rerate script to process the new data (up to 10 minutes)</p><p>\u00a0 \u00a0 \u00a0 \u00a010. The balance of an account/vendor would be corrected as well as the corresponding cdrs within the affected range.</p><h3><br></h3><h3><strong><span style=\"font-size: 18px;\">Availability</span></strong></h3><p><br>All releases of the Sippy Softswitch starting from 2.2 version.</p>",
    "description_text": " Rerate CDRs feature allows to recalculate CDRs according to the corrected rates.\u00a0     You can rerate account's, customer's or vendor/connection's CDRs.  When creating a new recalculation it is important to schedule the recalculation in the future, so that you have enough time to upload corrected rates, most preferable is the off-peak period.\u00a0     Fields description:   Customer: if selected, the recalculation will affect customer CDRs of selected customer.  Account: if selected, the recalculation will affect account CDRs of selected account.  Vendor: if selected, choose further connections of vendor, the recalculation will affect connection CDRs of selected connections.  Period from: start date/time of the recalculation period, system will recalculate CDRs starting from this date.  Period to: finish date/time of the recalculation period, system will recalculate CDRs before this date.  When To Recalculate: the date/time of the recalculation process. It is highly recommended to choose off peak time.  Notepad: allows to add some notes for recalculation, for example \"Correcting Mary upload from 01.02.2011\".  Notification Email List: comma separated list of emails for recalculation notification. The system will notify these addresses about recalculation process.\u00a0      Steps to perform the recalculation:   Find out whether you need to do the recalculation for an account, or the vendor/connection  Find the period that you want to recalculate (lets say, from 03.05.15 till 13.05.15)  Open the rerate page from Tools menu of your switch  Create a new task, mentioning either the account, or the vendor's connection, and the timestamps for the beginning and the end of the period. Case you want to rerate huge amount of cdrs, it could be reasonable to schedule the procedure on your server's off-peak instead of now in When To Recalculate field.  After adding the new task, you should be able to press Download button for this job to get the template that is required to be filled for the rerate  Fill the template with the corrected Prefix, Interval 1, Interval N, Price 1, Price N and set SA as desired Action, that should allow the recalculation to be done for all calls made by this account/terminated through the vendor's connection for the period of time using the mentioned prefix. Note, case the intervals and prices are the same as in particular CDR for the prefix, such CDR won't be recalculated.  Add the file with the Browse button and then press Upload to upload the sheet  The expected output:   Upload has completed successfully:  - N rows processed;  - N commands recognized;  - N records added;  - 0 records updated;  - 0 records deleted.  \u00a0 \u00a0 \u00a0 \u00a0 9. Wait for the rerate script to process the new data (up to 10 minutes)  \u00a0 \u00a0 \u00a0 \u00a010. The balance of an account/vendor would be corrected as well as the corresponding cdrs within the affected range.     Availability   All releases of the Sippy Softswitch starting from 2.2 version. ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 2,
    "thumbs_down": 1,
    "hits": 803,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 84156,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2013-05-10T14:07:01Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Support For SIP Asserted Identity within Trusted Networks (RFC-3325)",
    "updated_at": "2021-07-06T09:57:41Z",
    "description": "<p><span style=\"font-size: 18px;\">The Sippy Softswitch processes Asserted Identity headers as follows.</span></p><ol><li>The softswitch can pass the <strong>P-Asserted-Identity</strong> SIP header from the incoming to the outgoing call leg.</li><li>In case when no <strong>P-Asserted-Identity</strong> header is received, the softswitch can generate it based on the CLI value.</li><li>The <strong>P-Preferred-Identity</strong> header is always removed.</li><li dir=\"ltr\">Support for the <strong>Privacy</strong> header was added starting from <strong>Sippy 2021</strong></li></ol><p dir=\"ltr\">The username part in the URI of the Asserted Identity can be edited with a translation rule before sending the call out.</p><p><br></p><p><span style=\"font-size: 18px;\">There are several configuration options for the Asserted Identity processing.</span></p><ul><li><strong>Account -&gt; Pass P-Asserted-Id</strong> - controls if the <strong>P-Asserted-Identity</strong> SIP header is allowed to be passed to the outgoing call leg.</li><li><strong>Account -&gt; P-Asserted-Id Tr. Rule</strong> - translation rule which rewrites the username part of SIP URI of the received Asserted Identity.</li><li><strong>Vendor Connection -&gt; Use CLI As P-Asserted-Id</strong> - turns on generation of the <strong>P-Asserted-Identity</strong> header when no PAI received on the incoming call leg. If the <strong>Pass P-Asserted-Id</strong> option is turned off and this option is turned on then the PAI is always generated based on CLI.</li><li><strong>Vendor Connection -&gt; P-Asserted-Id Tr. Rule</strong> - translation rule which allows to edit the outgoing Asserted Identity. The translation rule is always applied to the Asserted Identity no matter whether it was received on the incoming call leg or it was generated locally. If the translation results in an empty string then the <strong>P-Asserted-Identity</strong> header is not sent at all.</li></ul><p><br></p><p><span dir=\"ltr\" style=\"font-size: 18px;\">Replace CLI with a number received from caller in either P-Asserted-Identity or Remote-Party-ID header (<strong>starting from 5.1 version</strong>)</span></p><p>Configuration is performed using Connection -&gt; Privacy Mode. There are three modes:</p><ul><li>Off - neither number from P-Asserted-Identity, nor Remote-Party-ID headers would affect the CLI that is sent to vendor</li><li>P-Asserted-Identity - CLI would be replaced with the number from P-Asserted-Identity header. If CLI translation rule is configured on Connection, it will be applied to the number from P-Asserted-Identity before sending INVITE to vendor. Case more then one P-Asserted-Identity headers were received, the number from last header would be used.</li><li dir=\"ltr\">Remote-Party-ID - CLI would be replaced with the number from Remote-Party-ID header. If CLI translation rule is configured on Connection, it will be applied to the number from Remote-Party-ID before sending INVITE to vendor</li></ul><p><br></p><p><span dir=\"ltr\" style=\"font-size: 18px;\">Prioritize username part in the URI of the <strong dir=\"ltr\">P-Asserted-Id</strong> header to username received in <strong>From</strong> header for call authentication (<strong dir=\"ltr\">starting from 2021 version</strong>):</span></p><p dir=\"ltr\">Case trust_privacy_hdrs is set to True on Account, incoming INVITE would be checked for P-Asserted-ID header presence, if found, the username part of URI in it would be used to look for match in Authentication Rules - Incoming CLI and DID Authentication Rules - Incoming CLI.\u00a0</p><p dir=\"ltr\">When no match was found, regular check would be done using From header.</p><p dir=\"ltr\"><br></p><p dir=\"ltr\">Another check would be done for <strong>Privacy</strong> header, if it was present, and contained <strong>id</strong> value, the outgoing INVITE to Vendor would have username part of URI in <strong>From</strong> header replaced with <strong>Anonymous</strong> value</p><p><br></p>",
    "description_text": " The Sippy Softswitch processes Asserted Identity headers as follows.   The softswitch can pass the P-Asserted-Identity SIP header from the incoming to the outgoing call leg.  In case when no P-Asserted-Identity header is received, the softswitch can generate it based on the CLI value.  The P-Preferred-Identity header is always removed.  Support for the Privacy header was added starting from Sippy 2021   The username part in the URI of the Asserted Identity can be edited with a translation rule before sending the call out.     There are several configuration options for the Asserted Identity processing.   Account -> Pass P-Asserted-Id - controls if the P-Asserted-Identity SIP header is allowed to be passed to the outgoing call leg.  Account -> P-Asserted-Id Tr. Rule - translation rule which rewrites the username part of SIP URI of the received Asserted Identity.  Vendor Connection -> Use CLI As P-Asserted-Id - turns on generation of the P-Asserted-Identity header when no PAI received on the incoming call leg. If the Pass P-Asserted-Id option is turned off and this option is turned on then the PAI is always generated based on CLI.  Vendor Connection -> P-Asserted-Id Tr. Rule - translation rule which allows to edit the outgoing Asserted Identity. The translation rule is always applied to the Asserted Identity no matter whether it was received on the incoming call leg or it was generated locally. If the translation results in an empty string then the P-Asserted-Identity header is not sent at all.      Replace CLI with a number received from caller in either P-Asserted-Identity or Remote-Party-ID header (starting from 5.1 version)  Configuration is performed using Connection -> Privacy Mode. There are three modes:   Off - neither number from P-Asserted-Identity, nor Remote-Party-ID headers would affect the CLI that is sent to vendor  P-Asserted-Identity - CLI would be replaced with the number from P-Asserted-Identity header. If CLI translation rule is configured on Connection, it will be applied to the number from P-Asserted-Identity before sending INVITE to vendor. Case more then one P-Asserted-Identity headers were received, the number from last header would be used.  Remote-Party-ID - CLI would be replaced with the number from Remote-Party-ID header. If CLI translation rule is configured on Connection, it will be applied to the number from Remote-Party-ID before sending INVITE to vendor      Prioritize username part in the URI of the P-Asserted-Id header to username received in From header for call authentication (starting from 2021 version):  Case trust_privacy_hdrs is set to True on Account, incoming INVITE would be checked for P-Asserted-ID header presence, if found, the username part of URI in it would be used to look for match in Authentication Rules - Incoming CLI and DID Authentication Rules - Incoming CLI.\u00a0  When no match was found, regular check would be done using From header.     Another check would be done for Privacy header, if it was present, and contained id value, the outgoing INVITE to Vendor would have username part of URI in From header replaced with Anonymous value    ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [
      "PAI",
      "P-Asserted-ID",
      "P-Asserted",
      "P Asserted"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 0,
    "thumbs_down": 7,
    "hits": 2343,
    "suggested": 1,
    "feedback_count": 0
  },
  {
    "id": 164282,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2013-11-13T17:54:19Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "CDR Call Duration Rounding Methods",
    "updated_at": "2021-06-10T11:12:01Z",
    "description": "<p>The Sippy Softswitch can round the Call Duration to the nearest second in two ways. This feature is part of version 4.1 Sippy Softswicth.</p>\n<p><br></p>\n<p><b>Round (Default method)</b></p>\n<p>This method rounds the call duration to the nearest second based on the typical round approach. For example;\u00a0</p>\n<p>A call with a duration of 1 second 400 milliseconds will be rounded <i>down</i>\u00a0to the nearest whole second.\u00a0The call duration will be recorded as\u00a01 second.</p>\n<p>A call with a duration of 1 second 500 milliseconds will be rounded\u00a0<i>up</i>\u00a0to the nearest whole second. The call duration will be recorded as 2 seconds.<br></p>\n<p><br></p>\n<p><b>Round Up</b></p>\n<p>This method rounds the call duration <i>up </i>the the nearest whole second. For example;</p>\n<p>A call with a duration of 1 second 100 milliseconds will be recorded as 2 seconds.</p>\n<p>A call with a duration of\u00a0<span style=\"\">1 second 500 milliseconds will be recorded as 2 seconds.</span></p>\n<p>A call with a duration of\u00a01 second 0 milliseconds will be recorded as 1 second.<span style=\"\"><br></span></p>\n<p><br></p>\n<p>The following table illustrates the results of both rounding methods</p>\n<table class=\"confluenceTable\" style=\"margin-top: 5px; margin-bottom: 5px; margin-left: 2px; width: auto; font-family: Arial,sans-serif; font-size: 14px; line-height: 20px;\"><tbody>\n<tr>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">Seconds</td>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">Default Rounding</td>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">RoundUp</td>\n</tr>\n<tr>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">60.0</td>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">60</td>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">60</td>\n</tr>\n<tr>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">60.1</td>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">60</td>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">61</td>\n</tr>\n<tr>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">60.4</td>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">60</td>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">61</td>\n</tr>\n<tr>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">60.5</td>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">61</td>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">61</td>\n</tr>\n<tr>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">60.9</td>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">61</td>\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">61<br><br>\n</td>\n</tr>\n</tbody></table>\n<p><br></p>\n<p>The Sippy Softswitch enables you to configure the Call Duration rounding on individual Service Plans, Vendors, and for On-Net calling. This gives the switch operator full control on how Call Duration is rounded for every aspect of their business, clients, and vendors.</p>\n<p><br></p>\n<p><b>Configure Rounding Method on a Service Plan,\u00a0</b></p>\n<p></p>\n<ul>\n<li>\n<span style=\"\">Go to the Edit Page for your Service Plan, or create a new Service Plan</span><br>\n</li>\n<li><span style=\"\">Select the rounding method from the \"Calls Duration\" drop down box</span></li>\n<li><span style=\"\">Click the Save &amp; Close button to save the change</span></li>\n</ul>\n<div>\n<p><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/12959732/original/ServicePlan-CDR-Rounding.png?1384364770\" class=\"inline-image\" data-id=\"12959732\" style=\"cursor: default;\"></p>\n<p><br></p>\n<p><b><br></b></p>\n<p><b>Configure Rounding Method for a specific Vendor</b></p>\n</div>\n<p></p>\n<p></p>\n<p></p>\n<ul style=\"\">\n<li style=\"width: 1246.046875px;\">\n<span style=\"font-size: 13px;\">Go to the Vendors, and select the Vendor you wish to configure the Rounding Method for</span><br>\n</li>\n<li style=\"width: 1246.046875px;\"><span style=\"font-size: 13px;\">Under the 'Advanced Parameters' section on the Vendor edit screen, use the 'Call Duration' drop down box to choose the rounding method</span></li>\n<li style=\"width: 1246.046875px;\"><span style=\"\">Click Save &amp; Close button to save the change</span></li>\n</ul>\n<p></p>\n<p><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/12959900/original/Vendor-CDR-Rounding.png?1384364947\" class=\"inline-image\" data-id=\"12959900\" style=\"cursor: default;\"></p>\n<br><div>\n<p></p>\n<div>\n<p><br></p>\n<p><b>Configure Rounding Method for all On-Net calling</b></p>\n</div>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<ul>\n<li style=\"width: 1246.046875px;\">\n<span style=\"font-size: 13px;\">Go to the System Parameters</span><br>\n</li>\n<li style=\"width: 1246.046875px;\"><span style=\"font-size: 13px;\">Under the 'Billing' section on the System Parameters screen, use the 'Call Duration' drop down box to choose the rounding method</span></li>\n<li style=\"width: 1246.046875px;\"><span style=\"font-size: 13px;\">Click the Save button to save your changes</span></li>\n</ul>\n<div>\n<p><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/12960082/original/OnNet-CDR-Rounding.png?1384365173\" class=\"inline-image\" data-id=\"12960082\" style=\"cursor: default;\"></p>\n<br>\n</div>\n</div>\n",
    "description_text": " The Sippy Softswitch can round the Call Duration to the nearest second in two ways. This feature is part of version 4.1 Sippy Softswicth. \n   \n Round (Default method) \n This method rounds the call duration to the nearest second based on the typical round approach. For example;\u00a0 \n A call with a duration of 1 second 400 milliseconds will be rounded down\u00a0to the nearest whole second.\u00a0The call duration will be recorded as\u00a01 second. \n A call with a duration of 1 second 500 milliseconds will be rounded\u00a0up\u00a0to the nearest whole second. The call duration will be recorded as 2 seconds.  \n   \n Round Up \n This method rounds the call duration up the the nearest whole second. For example; \n A call with a duration of 1 second 100 milliseconds will be recorded as 2 seconds. \n A call with a duration of\u00a01 second 500 milliseconds will be recorded as 2 seconds. \n A call with a duration of\u00a01 second 0 milliseconds will be recorded as 1 second.  \n   \n The following table illustrates the results of both rounding methods \n\n\n Seconds \n Default Rounding \n RoundUp \n\n\n 60.0 \n 60 \n 60 \n\n\n 60.1 \n 60 \n 61 \n\n\n 60.4 \n 60 \n 61 \n\n\n 60.5 \n 61 \n 61 \n\n\n 60.9 \n 61 \n 61  \n \n\n\n   \n The Sippy Softswitch enables you to configure the Call Duration rounding on individual Service Plans, Vendors, and for On-Net calling. This gives the switch operator full control on how Call Duration is rounded for every aspect of their business, clients, and vendors. \n   \n Configure Rounding Method on a Service Plan,\u00a0 \n \n \n \nGo to the Edit Page for your Service Plan, or create a new Service Plan \n \n Select the rounding method from the \"Calls Duration\" drop down box \n Click the Save & Close button to save the change \n \n \n  \n   \n   \n Configure Rounding Method for a specific Vendor \n \n \n \n \n \n \nGo to the Vendors, and select the Vendor you wish to configure the Rounding Method for \n \n Under the 'Advanced Parameters' section on the Vendor edit screen, use the 'Call Duration' drop down box to choose the rounding method \n Click Save & Close button to save the change \n \n \n  \n  \n \n \n   \n Configure Rounding Method for all On-Net calling \n \n \n \n \n \n \n \n \nGo to the System Parameters \n \n Under the 'Billing' section on the System Parameters screen, use the 'Call Duration' drop down box to choose the rounding method \n Click the Save button to save your changes \n \n \n  \n \n \n \n",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [
      "CDR",
      "Rounding",
      "Billing"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 5,
    "thumbs_down": 3,
    "hits": 1994,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000009757,
    "type": 1,
    "status": 2,
    "agent_id": 3901167,
    "created_at": "2014-05-15T19:54:54Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Reason Header Field mapping RFC 3326, Q850 / Q.850, SIP codes translation",
    "updated_at": "2021-08-19T13:25:31Z",
    "description": "<p data-identifyelement=\"449\"><span style=\"font-size: 16px;\">The Sippy Softswitch supports the <a data-identifyelement=\"450\" href=\"http://tools.ietf.org/html/rfc3326\" target=\"_blank\">RFC3326</a> specification for adding the needed <strong data-identifyelement=\"451\">Reason:</strong> field to SIP messages based on the SIP code received from vendor systems. At the same place it's possible to change SIP code that is sent to Caller.</span></p><p data-identifyelement=\"452\"><span style=\"font-size: 16px;\"><br data-identifyelement=\"453\"></span></p><p data-identifyelement=\"454\"><span style=\"font-size: 16px;\">This feature was added in version 4.1-STABLE, rev.2.84 of the Sippy Softswitch, and by default is not enabled.&nbsp;</span></p><p data-identifyelement=\"455\"><span style=\"font-size: 16px;\"><br data-identifyelement=\"456\"></span></p><p data-identifyelement=\"457\"><span style=\"font-size: 16px;\">The Reason field mapping allows switch operators to define custom mappings in a flexible manner. If an operator has a specific set of needs for a subset of clients, the operator can define an <em data-identifyelement=\"458\">Account Class&nbsp;</em>that is associated to a custom mapping. This allows operators to make special case adjustments for clients that require atypical SIP response codes and Reason: headers.</span></p><p data-identifyelement=\"459\"><span style=\"font-size: 16px;\"><br data-identifyelement=\"460\"></span></p><p data-identifyelement=\"461\"><span style=\"font-size: 16px;\">There are three popular mapping tables that are used in the industry;</span></p><p data-identifyelement=\"462\"><span style=\"font-size: 16px;\"><br data-identifyelement=\"463\"></span></p><p data-identifyelement=\"464\"><span style=\"font-size: 16px;\"><a data-identifyelement=\"465\" href=\"http://tools.ietf.org/html/rfc4497\" target=\"_blank\">RFC4497</a> - Recommended by Sippy</span></p><p data-identifyelement=\"466\"><span style=\"font-size: 16px;\"><a data-identifyelement=\"467\" href=\"https://www.itu.int/rec/T-REC-Q.1912.5-200403-I/en\" target=\"_blank\">ITU-T Q.1912.5</a></span></p><p data-identifyelement=\"468\"><span style=\"font-size: 16px;\"><a data-identifyelement=\"469\" href=\"https://wiki.freeswitch.org/wiki/Hangup_Causes\" target=\"_blank\">https://wiki.freeswitch.org/wiki/Hangup_Causes</a></span></p><p data-identifyelement=\"470\"><span style=\"font-size: 16px;\"><br data-identifyelement=\"471\"></span></p><p data-identifyelement=\"472\"><span style=\"font-size: 16px;\">With our implementation of RFC3326 the switch operator can choose any of the above mappings, or invent their own, though we discourage creativity in this area.</span></p><p data-identifyelement=\"473\"><br data-identifyelement=\"474\"></p><h2 data-identifyelement=\"475\"><span style=\"font-size: 24px;\">Configuring custom mappings for Result Code Translation</span></h2><h3 data-identifyelement=\"476\">In &gt;=Sippy 2020 there are two new Web pages in System Management - Result Code Translations (older versions could be configured manually with assistance of Sippy Support team):</h3><p><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3058372744/original/wDqTsliKdB4g45e5fQoK4Bq3Z3Eabq1-ZA.png?1604495462\" data-id=\"3058372744\" style=\"box-sizing: border-box; border: 0px; max-width: calc(100% - 10px); cursor: pointer; color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial; width: 651px;\" class=\"fr-fic fr-dii\" data-attachment=\"[object Object]\"></p><ul data-identifyelement=\"487\"><li><span style=\"font-size: 18px;\">Internal (rules for codes generated by Sippy)</span></li></ul><h3 data-identifyelement=\"495\">For example, case it's needed to send Caller SIP code 501 code with reason \"Translated 500 No Routes Found\" when the call is dropped with 500 No Routes Found by Sippy with the following Reason header:</h3><blockquote data-identifyelement=\"504\">Reason: Q.850; cause=-18; text=\"Some random text for translated code\"&nbsp;</blockquote><h3 data-identifyelement=\"495\">it could be done by adding the following External rule:</h3><p><span style=\"font-size: 18px;\"><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3058373051/original/XBQw7Uedi8gbEz2o3NRrTVZHTN7_YGYtzg.jpg?1604495898\" style=\"width: 629px;\" class=\"fr-fil fr-dib\" data-attachment=\"[object Object]\" data-id=\"3058373051\"></span></p><p><br></p><p><span style=\"font-size: 16px;\"><strong>The proper In Code could be found in Result field of corresponding CDR.</strong></span></p><p><br></p><p><br></p><ul><li><h3><span style=\"font-size: 18px;\">External (rules for codes received from Callee/Vendor)</span></h3></li></ul><h3 data-identifyelement=\"495\">For example, case it's needed to send Caller SIP code 444 for any received 403 SIP code from Vendor with the following Reason header:</h3><blockquote data-identifyelement=\"504\">Reason: Q.850; cause=-16; text=\"Code translated from 403\"&nbsp;</blockquote><h3 data-identifyelement=\"495\">it could be done by adding the following External rule:</h3><p><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3057105807/original/sKdVdYH7aHPyWZPoE_c8ktz4892PuItUUw.png?1600864739\" style=\"width: 636px;\" data-attachment=\"[object Object]\" data-id=\"3057105807\" class=\"fr-fic fr-dii\"></p><p data-identifyelement=\"503\"><br></p><h2 data-identifyelement=\"505\"><span style=\"font-size: 18px;\"><strong>Brief explanations for available options:</strong></span></h2><p data-identifyelement=\"505\"><br></p><p data-identifyelement=\"505\"><span style=\"font-size: 16px;\">Basic parameters:</span></p><ul><li data-identifyelement=\"505\"><strong>In Code</strong> - Three digits SIP code received from Callee. Mandatory. For more details refer to <a href=\"https://tools.ietf.org/html/rfc3261#section-21\">RFC3261</a> and <a href=\"https://tools.ietf.org/html/rfc7231#page-47\">RFC7231</a></li><li data-identifyelement=\"505\"><strong>Out Code</strong> - Three digits SIP code to be sent to Caller. Mandatory. For more details refer to <a href=\"https://tools.ietf.org/html/rfc3261#section-21\">RFC3261</a> and <a href=\"https://tools.ietf.org/html/rfc7231#page-47\">RFC7231</a></li><li data-identifyelement=\"505\"><strong>Account Class</strong> - Group of Accounts that should have this rule applied to. More details <a href=\"https://support.sippysoft.com/a/solutions/articles/145145\">here</a>. Mandatory, default value is 'Default'</li><li data-identifyelement=\"505\"><strong>Reason</strong> - Reason phrase for the translated code. Mandatory.</li><li data-identifyelement=\"505\"><strong>IVR Prompt</strong> - Case custom prompt has to be played to Caller instead of default one, it could be uploaded with assistance of Sippy Support team so that it'd appear in the dropdown menu</li></ul><p><br></p><p><span style=\"font-size: 16px;\">RFC3326 Parameters:</span></p><ul><li><span style=\"font-size: 13px;\"><strong>Protocol</strong> - Protocol to be added in generated <strong>Reason:</strong> Header. If set to Disabled, <strong>Reason:</strong> header won't be generated. Default value is Disabled.</span></li><li><span style=\"font-size: 13px;\"><strong>Reason</strong> - Reason to be added in generated <strong>Reason:</strong> header. If Protocol is set to any value but Disabled, should not be empty.</span></li><li><span style=\"font-size: 13px;\"><strong>Cause</strong> - <span style=\"font-size: 13px;\">Cause code to be added in generated <strong>Reason:</strong> header. If Protocol is set to any value but Disabled, should not be empty.</span></span></li></ul><p><br></p>",
    "description_text": " The Sippy Softswitch supports the RFC3326 specification for adding the needed Reason: field to SIP messages based on the SIP code received from vendor systems. At the same place it's possible to change SIP code that is sent to Caller.     This feature was added in version 4.1-STABLE, rev.2.84 of the Sippy Softswitch, and by default is not enabled.\u00a0     The Reason field mapping allows switch operators to define custom mappings in a flexible manner. If an operator has a specific set of needs for a subset of clients, the operator can define an Account Class\u00a0that is associated to a custom mapping. This allows operators to make special case adjustments for clients that require atypical SIP response codes and Reason: headers.     There are three popular mapping tables that are used in the industry;     RFC4497 - Recommended by Sippy  ITU-T Q.1912.5  https://wiki.freeswitch.org/wiki/Hangup_Causes     With our implementation of RFC3326 the switch operator can choose any of the above mappings, or invent their own, though we discourage creativity in this area.     Configuring custom mappings for Result Code Translation  In >=Sippy 2020 there are two new Web pages in System Management - Result Code Translations (older versions could be configured manually with assistance of Sippy Support team):     Internal (rules for codes generated by Sippy)   For example, case it's needed to send Caller SIP code 501 code with reason \"Translated 500 No Routes Found\" when the call is dropped with 500 No Routes Found by Sippy with the following Reason header:  Reason: Q.850; cause=-18; text=\"Some random text for translated code\"\u00a0  it could be done by adding the following External rule:       The proper In Code could be found in Result field of corresponding CDR.          External (rules for codes received from Callee/Vendor)    For example, case it's needed to send Caller SIP code 444 for any received 403 SIP code from Vendor with the following Reason header:  Reason: Q.850; cause=-16; text=\"Code translated from 403\"\u00a0  it could be done by adding the following External rule:       Brief explanations for available options:     Basic parameters:   In Code - Three digits SIP code received from Callee. Mandatory. For more details refer to RFC3261 and RFC7231  Out Code - Three digits SIP code to be sent to Caller. Mandatory. For more details refer to RFC3261 and RFC7231  Account Class - Group of Accounts that should have this rule applied to. More details here. Mandatory, default value is 'Default'  Reason - Reason phrase for the translated code. Mandatory.  IVR Prompt - Case custom prompt has to be played to Caller instead of default one, it could be uploaded with assistance of Sippy Support team so that it'd appear in the dropdown menu      RFC3326 Parameters:   Protocol - Protocol to be added in generated Reason: Header. If set to Disabled, Reason: header won't be generated. Default value is Disabled.  Reason - Reason to be added in generated Reason: header. If Protocol is set to any value but Disabled, should not be empty.  Cause - Cause code to be added in generated Reason: header. If Protocol is set to any value but Disabled, should not be empty.     ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [
      "Advanced",
      "RFC3326",
      "CauseCodes",
      "SIPCodes",
      "CodeTranslation"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 0,
    "thumbs_down": 0,
    "hits": 1241,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000010798,
    "type": 1,
    "status": 2,
    "agent_id": 3901167,
    "created_at": "2014-05-21T11:48:18Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Linksys Auto Provisioning",
    "updated_at": "2014-05-21T11:53:43Z",
    "description": "<p>Related to the auto-provisioning documentation:</p>\r\n<p><a href=\"http://support.sippysoft.com/solution/articles/77948-auto\" target=\"\">http://support.sippysoft.com/solution/articles/77948-auto</a></p>\r\n<p><br></p>\r\n<p>\r\nList of supported devices:</p>\r\n<ul>\n<li>SPA9000\r\n</li>\r\n<li>PAP2T\r\n</li>\r\n<li>SPA2102\r\n</li>\r\n<li>SPA3102\r\n</li>\r\n<li>SPA8000\r\n</li>\r\n<li>WRP400\r\n</li>\r\n<li>SPA901\r\n</li>\r\n<li>SPA921\r\n</li>\r\n<li>SPA922\r\n</li>\r\n<li>SPA941\r\n</li>\r\n<li>SPA942\r\n</li>\r\n<li>SPA962\r\n</li>\r\n<li>SPA525G\r\n</li>\r\n<li>WIP310\r\n</li>\r\n</ul>\n<p>\r\nProfile template:</p>\r\n<blockquote>\r\n<i>linksys.cfg</i>\r\n</blockquote>\r\n<p>\r\nAccount parameters:</p>\r\n<blockquote>CPE# should be set to MAC-address of device.\r\n</blockquote>\r\n<p>\r\nIn order to enable auto-provisioning the devices should be configured as follows:</p>\r\n<ul>\n<li>Provision Enable: Yes\r\n</li>\r\n<li>Resync On Reset: Yes\r\n</li>\r\n<li>Profile Rule: http://%%SIP_PROXY%%/provisioning/linksys-$(MAU).cfg</li>\r\n<li>where %%SIP_PROXY%% - the IP of environment\r\n\r\n</li>\r\n</ul>\n<p>\r\nAn example of profile template:</p>\r\n\r\n<pre class=\"code-large\" code-brush=\"html\" rel=\"highlighter\">&lt;flat-profile&gt;\r\n&lt;Provision_Enable&gt;Yes&lt;/Provision_Enable&gt;\r\n&lt;Resync_On_Reset&gt;Yes&lt;/Resync_On_Reset&gt;\r\n&lt;Resync_Periodic&gt;3600&lt;/Resync_Periodic&gt;\r\n&lt;Resync_From_SIP&gt;No&lt;/Resync_From_SIP&gt;\r\n&lt;Profile_Rule&gt;http://%%SIP_PROXY%%/provisioning/linksys-$(MAU).cfg&lt;/Profile_Rule&gt;\r\n&lt;Line_Enable_1_&gt;Yes&lt;/Line_Enable_1_&gt;\r\n&lt;SIP_Port_1_&gt;%%SIP_PORT%%&lt;/SIP_Port_1_&gt;\r\n&lt;Proxy_1_&gt;%%SIP_PROXY%%&lt;/Proxy_1_&gt;\r\n&lt;Register_1_&gt;Yes&lt;/Register_1_&gt;\r\n&lt;Register_Expires_1_&gt;3600&lt;/Register_Expires_1_&gt;\r\n&lt;User_ID_1_&gt;%%SIP_USERNAME%%&lt;/User_ID_1_&gt;\r\n&lt;Password_1_&gt;%%SIP_PASSWORD%%&lt;/Password_1_&gt;\r\n&lt;Auth_ID_1_&gt;%%SIP_AUTHNAME%%&lt;/Auth_ID_1_&gt;\r\n&lt;Use_Auth_ID_1_&gt;Yes&lt;/Use_Auth_ID_1_&gt;\r\n&lt;Preferred_Codec_1_&gt;G729a&lt;/Preferred_Codec_1_&gt;\r\n&lt;Use_Pref_Codec_Only_1_&gt;No&lt;/Use_Pref_Codec_Only_1_&gt;\r\n&lt;/flat-profile&gt;</pre>\r\n<p>\u00a0</p>\r\n<p>For more info regarding Linksys provisioning see <a href=\"http://www.cisco.com/en/US/docs/voice_ip_comm/csbpvga/ata/provisioning/guide/Cisco_Small_Business_IP_Telephony_Provisioning_Guide.pdf\"><span>\u00a0</span>Cisco Small Business IP Telephony Devices Provisioning Guide</a>.</p>",
    "description_text": " Related to the auto-provisioning documentation: \n http://support.sippysoft.com/solution/articles/77948-auto \n   \n \nList of supported devices: \n \n SPA9000\n \n PAP2T\n \n SPA2102\n \n SPA3102\n \n SPA8000\n \n WRP400\n \n SPA901\n \n SPA921\n \n SPA922\n \n SPA941\n \n SPA942\n \n SPA962\n \n SPA525G\n \n WIP310\n \n \n \nProfile template: \n \nlinksys.cfg\n \n \nAccount parameters: \n CPE# should be set to MAC-address of device.\n \n \nIn order to enable auto-provisioning the devices should be configured as follows: \n \n Provision Enable: Yes\n \n Resync On Reset: Yes\n \n Profile Rule: http://%%SIP_PROXY%%/provisioning/linksys-$(MAU).cfg \n where %%SIP_PROXY%% - the IP of environment\n\n \n \n \nAn example of profile template: \n\n <flat-profile>\n<Provision_Enable>Yes</Provision_Enable>\n<Resync_On_Reset>Yes</Resync_On_Reset>\n<Resync_Periodic>3600</Resync_Periodic>\n<Resync_From_SIP>No</Resync_From_SIP>\n<Profile_Rule>http://%%SIP_PROXY%%/provisioning/linksys-$(MAU).cfg</Profile_Rule>\n<Line_Enable_1_>Yes</Line_Enable_1_>\n<SIP_Port_1_>%%SIP_PORT%%</SIP_Port_1_>\n<Proxy_1_>%%SIP_PROXY%%</Proxy_1_>\n<Register_1_>Yes</Register_1_>\n<Register_Expires_1_>3600</Register_Expires_1_>\n<User_ID_1_>%%SIP_USERNAME%%</User_ID_1_>\n<Password_1_>%%SIP_PASSWORD%%</Password_1_>\n<Auth_ID_1_>%%SIP_AUTHNAME%%</Auth_ID_1_>\n<Use_Auth_ID_1_>Yes</Use_Auth_ID_1_>\n<Preferred_Codec_1_>G729a</Preferred_Codec_1_>\n<Use_Pref_Codec_Only_1_>No</Use_Pref_Codec_Only_1_>\n</flat-profile> \n \u00a0 \n For more info regarding Linksys provisioning see \u00a0Cisco Small Business IP Telephony Devices Provisioning Guide. ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [
      "Provisioning"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 0,
    "thumbs_down": 0,
    "hits": 805,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000015642,
    "type": 1,
    "status": 2,
    "agent_id": 3901167,
    "created_at": "2014-08-02T11:35:21Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "LRN Dipping and Number Portability",
    "updated_at": "2021-05-26T14:32:00Z",
    "description": "<blockquote><h3><font size=\"4\" style=\"color: rgb(0, 0, 0);\">Configuring and Understanding LRN Dipping and Number Portability</font></h3></blockquote><h3><span style=\"font-size: 18px;\"><br></span></h3><h3><span style=\"color: rgb(128, 128, 128); font-size: medium;\">Overview</span></h3><p><br></p><p><b style=\"font-size: 13px;\">Local Routing Number (LRN) Dipping</b> - Sequence of routing to terminate calls to a customer's phone number, inclusive of a Service Control Point server, to cater for Number Portability.\u00a0</p><p><br></p><p><strong>Number Portability</strong> - Entitles owner of number to reassign their existing phone number to another carrier, location, service or provider.</p><p><br></p><p>The resulting configuration of both LRN Dipping and Number Portability, given the relative nature, is completed by the same method in your Sippy Softswitch.</p><p><br></p><p><br></p><p><font size=\"3\" style=\"color: rgb(128, 128, 128);\">Configure LRN Dipping and Number Portability</font></p><p><br></p><p>LRN Provider will provide you with required credentials for configuration of LRN Dipping process for your calls, enabling LRN and resulting Number Portability routing.</p><ol><li dir=\"ltr\">Add LRN server details in your <strong>System Parameters\u00a0</strong>menu. <strong>LRN Server Address</strong> is listed as IP address of <u>external</u> LRN Server.<br>1.1 Custom port is supported <strong>starting from Sippy 2020</strong>, in earlier versions it's hardcoded to send the INVITE to LRN server to his 5060 port, thus only IP address is expected there.<br>1.2 More then one LRN server could be configured as comma-separated list <strong>starting from Sippy 2021</strong></li><li dir=\"ltr\">If needed, change <strong>LRN Request Timeout</strong> - the time in seconds Softswitch waits for reply from LRN server (added in Sippy 5.2). Starting from Sippy 2021 it's possible to setup the fixed timeout for the case multiple LRN servers are specified, to request next LRN server from the list. Note, that this timeout is superseded by LRN request timeout, which limits total amount of time dedicated to perform LRN lookup for the call.</li><li dir=\"ltr\">If caching of past requests to LRN provider is needed, set checkbox <strong>Enabled LRN Cache</strong> and select needed value for <strong>LRN Cache Expires in</strong>. Sippy stores LRN results for the set period of time, between 1 day and 3 months.<img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3057065703/original/8hqQrKWkxU7XHlbSq3HsMMno7OUhFu8sjg.jpg?1600780090\" style=\"width: 370px;\" class=\"fr-dib\" data-attachment=\"[object Object]\" data-id=\"3057065703\"></li><li dir=\"ltr\">If Vendor requires to get number received from LRN server in RURI, <strong>starting from Sippy 2021</strong> it's possible to add it by enabling the option in S</li><li dir=\"ltr\"><strong dir=\"ltr\">Enable LRN</strong> in your specified Routing Group. With LRN server configured, LRN lookup would be performed for any outbound call that is terminated through this Routing Group, either in cache or by doing extra lookup to LRN provider - case <strong>Enabled LRN Cache</strong> checkbox was not set, every call through such Routing Group would trigger lookup to LRN provider.</li><li dir=\"ltr\">Specify <strong>LRN Translation Rule</strong> if required, according to our <a href=\"http://support.sippysoft.com/solution/articles/77869-understanding-number\" target=\"\">Understanding Number Translation</a>. The listed rule of \"s/^/1/\" for example will add prefix \"1\" to every LRN query routed to your LRN provider, and will result in the call being charged according to your \"1*\" prefix Tariff.<img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3003433359/original/LRNdip2.3.png?1406980329\" class=\"inline-image fr-fic fr-dii\" data-id=\"3003433359\" style=\"cursor: default;\"></li><li dir=\"ltr\">Resulting CDR's of routed calls according to LRN Dipping and Number Portability will show with LRN_CLD in report.</li></ol><p><br></p><p><span style=\"font-size: 18px;\">Note</span>: starting from 5.2 version case <a href=\"https://support.sippysoft.com/a/solutions/articles/107956\">Local Calling</a> is configured, Sippy might do extra lookup for CLI - in such case LRN_CLI would be added in CDR report.</p><p><br></p><h3><span style=\"color: rgb(128, 128, 128); font-size: medium;\">Fields:</span></h3><div><span style=\"font-size: 18px;\"><br></span></div><p><strong>Enable LRN</strong> checkbox and<strong>\u00a0'LRN translation Rule'</strong> text field have been added to the <em>Routing Group properties</em>. For the case there is no Enable LRN checkbox on the routing group, no LRN lookup would be done.<br><strong>Ignore LRN\u00a0</strong>checkbox in the <em>Vendor's Connection properties</em>. If enabled then LRN CLD will be ignored for this routing entry and system will use prefix from route of matching destination set for the original CLD, using the rate from the tariff with LRN CLD to charge the customer for the call.</p><p><strong>LRN Request Timeout\u00a0</strong>field in System Parameters - the time in seconds Softswitch waits for reply from LRN server (added in Sippy 5.2)<br><strong>LRN server address</strong> field in System Parameters - IP address of your LRN provider<strong><br></strong></p><p><b style=\"font-size: 13px;\"><strong>Enabled LRN Cache</strong></b> and <b style=\"font-size: 13px;\"><strong>LRN Cache Expires in</strong></b> fields in System parameters - enable/disable local caching of successful LRN dips and time for keeping number and translated number in cache if it's enabled. The cache is checked before doing the lookup to the LRN server.</p><p><br></p><h3><span style=\"color: rgb(128, 128, 128); font-size: medium;\">The call flow with enabled LRN dipping is as follows:</span></h3><p><br></p><p><strong><font size=\"2\">1. Call comes in.\u00a0</font></strong></p><p><strong>2. The Sippy softswitch applies the CLD Translation Rules from Authentication Rules and Account to the original CLD. The resulting CLD would be referred as 'The CLD'. More details on number translation could be found <a href=\"https://support.sippysoft.com/a/solutions/articles/77869\">here</a>.</strong></p><p><strong>3. Sippy sends the INVITE request to the LRN server with the CLD.\u00a0</strong></p><p><strong>4. The LRN response is rewritten with the 'LRN Translation Rule'. Let's call the result the \"LRN CLD\".</strong></p><p><br></p><h3><span style=\"font-size: medium;\">Example of the reply received from LRN provider:</span></h3><table id=\"table59397\"><tbody style=\"font-size: 13px;\"><tr style=\"font-size: 13px;\"><td>SIP/2.0 302 Moved Temporarily<br>Via: SIP/2.0/UDP xxx.xxx.xxx.180:5067;branch=z9hG4bK015131aa1ae069e0e0aa0b56d6c66b8a;received=xxx.xxx.xxx.180;rport=5067<br>From: \"1 CALL CONNECT\" &lt;sip:1110000000@74.54.240.180&gt;;tag=0b42b2e5764aba75101d202cc511ee7b<br>To: &lt;sip:131xxx8709@xxx.xxx.xxx.253&gt;;tag=as53879514<br>Call-ID: NTg4OTIyZjM1MTZjMWIyNTNmNWYzODRjNDU3ZmU5NDA.-lrn<br>CSeq: 200 INVITE<br>Server: Cisco 3845<br>Allow: INVITE, ACK, CANCEL, OPTIONS, BYE, REFER, SUBSCRIBE, NOTIFY, INFO, PUBLISH<br>Supported: replaces, timer<br>&gt;&gt;&gt; Contact: Transfer &lt;sip:131xxx8709;npdi;rn=2135969933@xxx.xxx.xxx.180&gt;<br>Reason: Q.850;cause=16<br>Content-Length: 0</td></tr></tbody></table><p><br></p><h3><strong>\u00a0<span style=\"font-size: medium;\">The following string should be received from vendor for the case the number has changed:</span></strong></h3><table id=\"table48100\"><tbody style=\"font-size: 13px;\"><tr style=\"font-size: 13px;\"><td class=\"current\">Contact: Transfer &lt;sip:131xxx8709;npdi;rn=213xxxx933@xxx.xxx.xxx.180&gt;</td></tr></tbody></table><p><u><br></u></p><p><u>Mandatory parameters should be placed from the left side from @<br></u></p><ul><li><strong>npdi\u00a0</strong>- the LRN server indicated that the number has changed</li><li><strong>rn\u00a0</strong>- the routing number, LRN CLD is followed after rn=</li><li><strong>the routing number</strong> (after rn=) should be followed with <strong>@</strong> symbol</li><li><strong>hostname/IP address</strong> after @ symbol</li></ul><p><u>Sippy requires all three parameters to use this LRN dipping result in the billing</u>, violation of the syntax or missing of one of the parameters forces to skip the LRN dipping result.</p><p>Only the routing number (213xxxx933) is used from the whole 302 Moved temporarily packet.</p><p><br></p><p><strong>Routing number MUST be followed with @ sign, after @ sign there MUST be the host/IP, so that we distinct the username in the routing number from the host name.</strong></p><p><br></p><p><strong><font size=\"3\">All other cases would be treated as if we have not received anything from LRN provider:\u00a0</font></strong></p><table id=\"table15195\"><tbody style=\"font-size: 13px;\"><tr style=\"font-size: 13px;\"><td>Contact: Transfer &lt;sip:131xxx8709;&gt;</td></tr></tbody></table><p>The LRN provider could also send us the format of the contact string that we can not recognize properly</p><p>for instance, without one of the mandatory parameters like npdi, thus we'll skip the dipping results as well for such cases</p><table id=\"table15195\"><tbody style=\"font-size: 13px;\"><tr style=\"font-size: 13px;\"><td>Contact: Transfer &lt;sip:131xxx8709;npdi;&gt;</td></tr></tbody></table><table id=\"table15195\"><tbody style=\"font-size: 13px;\"><tr style=\"font-size: 13px;\"><td>Contact: Transfer &lt;sip:131xxx8709;npdi;rn=&gt;</td></tr></tbody></table><table id=\"table15195\"><tbody style=\"font-size: 13px;\"><tr style=\"font-size: 13px;\"><td>Contact: Transfer &lt;sip:131xxx8709;rn=213xxxx933&gt;</td></tr></tbody></table><table id=\"table15195\"><tbody style=\"font-size: 13px;\"><tr style=\"font-size: 13px;\"><td>Contact: Transfer &lt;sip:131xxx8709;npdi;rn=213xxxx933&gt;</td></tr></tbody></table><table id=\"table48100\"><tbody style=\"font-size: 13px;\"><tr style=\"font-size: 13px;\"><td class=\"current\">Contact: Transfer &lt;sip:131xxx8709;npdi;rn=213xxxx933@&gt;</td></tr></tbody></table><p><br></p><p>In all cases above the LRN CLD won't be extracted from the packet.</p><p><br></p><p><strong>5. The softswitch charges the Account with the rate based on the LRN_CLD.\u00a0</strong></p><p>If no LRN CLD was received from vendor side then\u00a0charge will be applied based on the original CLD.</p><p><br></p><p><strong>6. The softswitch selects the list of Vendor Connections to send the call to, based on the Original CLD</strong></p><p>depends upon the option 'Ignore LRN' in the connection, if the checkbox is not enabled, then LRN_CLD is used.<br>\u00a0 \u00a0 \u00a0</p><p>\u00a0 \u00a0Please note, routing will be applied for the connections with the original CLD and LRN CLD based on the routing policy.<br><br>\u00a0 \u00a06.1. If LRN is not ignored, then the Destination Set is searched for a prefix based on the LRN CLD and call is sent out with</p><p>\u00a0 \u00a0the non-LRN CLD (just original CLD) rewritten with Vendor Connections' CLD Translation Rule.</p><p><br></p><p>\u00a0 \u00a06.2. If LRN is ignored, then the Destination Set is searched for a prefix based on the CLD and call is sent out with the CLD \u00a0 \u00a0</p><p>\u00a0 \u00a0rewritten with Vendor Connections' CLD Translation Rule.</p><p>\u00a0</p><p>\u00a0 \u00a06.3 If LRN is enabled and prefix for LRN CLD hasn't been found in the Destination Set, the call will be rejected.</p><p><br></p><p>In CDRs you can only see original CLD, LRN CLD is not being displayed there. As long as LRN CLD is only used for billing/routing ( not for actual call setup) you can see a new parameter \"Billing Prefix\" for vendor download CDRs and customers CDRs on selfcare.<br><br>Please note, There is no need to add LRN IP as vendor.<br><br></p><p><strong><span style=\"font-size: medium; color: rgb(128, 128, 128);\">Shorthand route sequence:</span></strong></p><p><br></p><ol><li>Received ORIG_CLD</li><li>Apply auth. CLD tr rule for the ORIG_CLD, got CLD</li><li>Apply account CLD tr rule for the CLD, got CLD</li><li>LRN sent a request with CLD (LRN IP should be only in \"system parameters\"), received in response something like LRN_CLD</li><li>Searching routes by LRN_CLD(use \"Enable LRN\" in the Routing Group), but use plain CLD for actual call</li><li>For each route:</li></ol><p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 6.1 \u00a0Apply vendor-&gt;connection -&gt; \"CLD tr rule\" for the CLD, as result got CLD_OUT<br>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 6.2 \u00a0Send calls out via connection with CLD_OUT</p>",
    "description_text": "  Configuring and Understanding LRN Dipping and Number Portability      Overview     Local Routing Number (LRN) Dipping - Sequence of routing to terminate calls to a customer's phone number, inclusive of a Service Control Point server, to cater for Number Portability.\u00a0     Number Portability - Entitles owner of number to reassign their existing phone number to another carrier, location, service or provider.     The resulting configuration of both LRN Dipping and Number Portability, given the relative nature, is completed by the same method in your Sippy Softswitch.        Configure LRN Dipping and Number Portability     LRN Provider will provide you with required credentials for configuration of LRN Dipping process for your calls, enabling LRN and resulting Number Portability routing.   Add LRN server details in your System Parameters\u00a0menu. LRN Server Address is listed as IP address of external LRN Server. 1.1 Custom port is supported starting from Sippy 2020, in earlier versions it's hardcoded to send the INVITE to LRN server to his 5060 port, thus only IP address is expected there. 1.2 More then one LRN server could be configured as comma-separated list starting from Sippy 2021  If needed, change LRN Request Timeout - the time in seconds Softswitch waits for reply from LRN server (added in Sippy 5.2). Starting from Sippy 2021 it's possible to setup the fixed timeout for the case multiple LRN servers are specified, to request next LRN server from the list. Note, that this timeout is superseded by LRN request timeout, which limits total amount of time dedicated to perform LRN lookup for the call.  If caching of past requests to LRN provider is needed, set checkbox Enabled LRN Cache and select needed value for LRN Cache Expires in. Sippy stores LRN results for the set period of time, between 1 day and 3 months.  If Vendor requires to get number received from LRN server in RURI, starting from Sippy 2021 it's possible to add it by enabling the option in S  Enable LRN in your specified Routing Group. With LRN server configured, LRN lookup would be performed for any outbound call that is terminated through this Routing Group, either in cache or by doing extra lookup to LRN provider - case Enabled LRN Cache checkbox was not set, every call through such Routing Group would trigger lookup to LRN provider.  Specify LRN Translation Rule if required, according to our Understanding Number Translation. The listed rule of \"s/^/1/\" for example will add prefix \"1\" to every LRN query routed to your LRN provider, and will result in the call being charged according to your \"1*\" prefix Tariff.  Resulting CDR's of routed calls according to LRN Dipping and Number Portability will show with LRN_CLD in report.      Note: starting from 5.2 version case Local Calling is configured, Sippy might do extra lookup for CLI - in such case LRN_CLI would be added in CDR report.     Fields:     Enable LRN checkbox and\u00a0'LRN translation Rule' text field have been added to the Routing Group properties. For the case there is no Enable LRN checkbox on the routing group, no LRN lookup would be done. Ignore LRN\u00a0checkbox in the Vendor's Connection properties. If enabled then LRN CLD will be ignored for this routing entry and system will use prefix from route of matching destination set for the original CLD, using the rate from the tariff with LRN CLD to charge the customer for the call.  LRN Request Timeout\u00a0field in System Parameters - the time in seconds Softswitch waits for reply from LRN server (added in Sippy 5.2) LRN server address field in System Parameters - IP address of your LRN provider   Enabled LRN Cache and LRN Cache Expires in fields in System parameters - enable/disable local caching of successful LRN dips and time for keeping number and translated number in cache if it's enabled. The cache is checked before doing the lookup to the LRN server.     The call flow with enabled LRN dipping is as follows:     1. Call comes in.\u00a0  2. The Sippy softswitch applies the CLD Translation Rules from Authentication Rules and Account to the original CLD. The resulting CLD would be referred as 'The CLD'. More details on number translation could be found here.  3. Sippy sends the INVITE request to the LRN server with the CLD.\u00a0  4. The LRN response is rewritten with the 'LRN Translation Rule'. Let's call the result the \"LRN CLD\".     Example of the reply received from LRN provider:  SIP/2.0 302 Moved Temporarily Via: SIP/2.0/UDP xxx.xxx.xxx.180:5067;branch=z9hG4bK015131aa1ae069e0e0aa0b56d6c66b8a;received=xxx.xxx.xxx.180;rport=5067 From: \"1 CALL CONNECT\" <sip:1110000000@74.54.240.180>;tag=0b42b2e5764aba75101d202cc511ee7b To: <sip:131xxx8709@xxx.xxx.xxx.253>;tag=as53879514 Call-ID: NTg4OTIyZjM1MTZjMWIyNTNmNWYzODRjNDU3ZmU5NDA.-lrn CSeq: 200 INVITE Server: Cisco 3845 Allow: INVITE, ACK, CANCEL, OPTIONS, BYE, REFER, SUBSCRIBE, NOTIFY, INFO, PUBLISH Supported: replaces, timer >>> Contact: Transfer <sip:131xxx8709;npdi;rn=2135969933@xxx.xxx.xxx.180> Reason: Q.850;cause=16 Content-Length: 0     \u00a0The following string should be received from vendor for the case the number has changed:  Contact: Transfer <sip:131xxx8709;npdi;rn=213xxxx933@xxx.xxx.xxx.180>     Mandatory parameters should be placed from the left side from @    npdi\u00a0- the LRN server indicated that the number has changed  rn\u00a0- the routing number, LRN CLD is followed after rn=  the routing number (after rn=) should be followed with @ symbol  hostname/IP address after @ symbol   Sippy requires all three parameters to use this LRN dipping result in the billing, violation of the syntax or missing of one of the parameters forces to skip the LRN dipping result.  Only the routing number (213xxxx933) is used from the whole 302 Moved temporarily packet.     Routing number MUST be followed with @ sign, after @ sign there MUST be the host/IP, so that we distinct the username in the routing number from the host name.     All other cases would be treated as if we have not received anything from LRN provider:\u00a0  Contact: Transfer <sip:131xxx8709;>  The LRN provider could also send us the format of the contact string that we can not recognize properly  for instance, without one of the mandatory parameters like npdi, thus we'll skip the dipping results as well for such cases  Contact: Transfer <sip:131xxx8709;npdi;>  Contact: Transfer <sip:131xxx8709;npdi;rn=>  Contact: Transfer <sip:131xxx8709;rn=213xxxx933>  Contact: Transfer <sip:131xxx8709;npdi;rn=213xxxx933>  Contact: Transfer <sip:131xxx8709;npdi;rn=213xxxx933@>     In all cases above the LRN CLD won't be extracted from the packet.     5. The softswitch charges the Account with the rate based on the LRN_CLD.\u00a0  If no LRN CLD was received from vendor side then\u00a0charge will be applied based on the original CLD.     6. The softswitch selects the list of Vendor Connections to send the call to, based on the Original CLD  depends upon the option 'Ignore LRN' in the connection, if the checkbox is not enabled, then LRN_CLD is used. \u00a0 \u00a0 \u00a0  \u00a0 \u00a0Please note, routing will be applied for the connections with the original CLD and LRN CLD based on the routing policy.  \u00a0 \u00a06.1. If LRN is not ignored, then the Destination Set is searched for a prefix based on the LRN CLD and call is sent out with  \u00a0 \u00a0the non-LRN CLD (just original CLD) rewritten with Vendor Connections' CLD Translation Rule.     \u00a0 \u00a06.2. If LRN is ignored, then the Destination Set is searched for a prefix based on the CLD and call is sent out with the CLD \u00a0 \u00a0  \u00a0 \u00a0rewritten with Vendor Connections' CLD Translation Rule.  \u00a0  \u00a0 \u00a06.3 If LRN is enabled and prefix for LRN CLD hasn't been found in the Destination Set, the call will be rejected.     In CDRs you can only see original CLD, LRN CLD is not being displayed there. As long as LRN CLD is only used for billing/routing ( not for actual call setup) you can see a new parameter \"Billing Prefix\" for vendor download CDRs and customers CDRs on selfcare.  Please note, There is no need to add LRN IP as vendor.    Shorthand route sequence:      Received ORIG_CLD  Apply auth. CLD tr rule for the ORIG_CLD, got CLD  Apply account CLD tr rule for the CLD, got CLD  LRN sent a request with CLD (LRN IP should be only in \"system parameters\"), received in response something like LRN_CLD  Searching routes by LRN_CLD(use \"Enable LRN\" in the Routing Group), but use plain CLD for actual call  For each route:   \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 6.1 \u00a0Apply vendor->connection -> \"CLD tr rule\" for the CLD, as result got CLD_OUT \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 6.2 \u00a0Send calls out via connection with CLD_OUT ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 2,
    "thumbs_down": 2,
    "hits": 3846,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000015946,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2014-08-11T04:16:21Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Tariff - Loss Protection, Average Call Duration , Margin Based Routing",
    "updated_at": "2021-09-20T23:17:27Z",
    "description": "<div dir=\"ltr\">\n<p><span id=\"docs-internal-guid-0544d779-c329-c9cc-332e-23b6a3103b55\"> </span></p>\n<p dir=\"ltr\"><span id=\"docs-internal-guid-0544d779-c329-c9cc-332e-23b6a3103b55\"><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0); font-weight: bold;\">Sippy\u2019s Loss Protection, Average Call Duration and Margin Based Routing</span></span></p>\n<p><span id=\"docs-internal-guid-0544d779-c329-c9cc-332e-23b6a3103b55\"><br>\n</span></p>\n<p><br></p>\n<p dir=\"ltr\"><span id=\"docs-internal-guid-0544d779-c329-c9cc-332e-23b6a3103b55\"><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0);\">Sippy\u2019s Loss Protection and Average Call Duration serve important logical duties, relating to Profit Protection and Margin Based Routing. These are parameters configured under your Tariff\u2019s \u2018Advanced Parameters\u2019 title. Sippy makes logical calculations based on Loss Protection %, your Average Call Duration specified value and Rate of call versus supplier cost of Route. This will have Sippy either block calls or pass the call to the next available connection as specified in your Routing Entries list.</span></span></p>\n<p dir=\"ltr\"><span><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0);\"><br></span></span></p>\n<p dir=\"ltr\"></p>\n<ul><li>\n<span><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0);\">Your <b>Loss Protection %</b>, can be a \"<b>+</b>\" or a \"<b>-</b>\" value, determining your willingness to allow calls to pass at a loss or with guaranteed margin. Configuring Loss Protection to a negative value, with Least Cost Routing Policy enabled, configures your <b>Margin Based Routing</b> threshold. A Loss Protection value of -10% will have Sippy pass the call through the connection with least cost, though with a margin of at least 10%. With a positive value, Sippy will allow routing to tariffs that will result in a lower charge to your customer than your total cost of call. This can be an important feature when selling products with loss leader tariffs, to provide your customers with great offers to some destinations.</span></span><br>\n</li></ul>\n<p><span id=\"docs-internal-guid-0544d779-c329-c9cc-332e-23b6a3103b55\"><br>\n</span></p>\n<p dir=\"ltr\" style=\"text-align: center;\"><span id=\"docs-internal-guid-0544d779-c329-c9cc-332e-23b6a3103b55\"><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0);\">&nbsp;</span></span></p>\n<p style=\"text-align: center;\"><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3003582437/original/Loss_protection.png?1407728838\" class=\"inline-image\" data-id=\"3003582437\" style=\"cursor: default;\"></p>\n<p></p>\n<p><span id=\"docs-internal-guid-0544d779-c329-c9cc-332e-23b6a3103b55\"><br><br>\n</span></p>\n<p dir=\"ltr\"></p>\n<ul><li>\n<span id=\"docs-internal-guid-0544d779-c329-c9cc-332e-23b6a3103b55\"><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0);\"><b>The </b></span></span><span style=\"font-size: 15px; color: rgb(0, 0, 0); line-height: 1.3;\"><b>Average Call Duration</b> when considering Tariffs, does not relate to ACD (Average Call Duration) call length statistics of routed calls. It is an arbitrary value specified by the operator to have Sippy perform some pre-determined call calculations. Average Call Duration of tariff</span><span style=\"font-size: 15px; color: rgb(0, 0, 0); line-height: 1.3;\">, serves two significant profit or loss protection purposes.</span>\n</li></ul>\n<div style=\"text-align: center;\"><font color=\"#000000\"><span style=\"font-size: 15px; line-height: 19.5px;\"><br><p><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3003582643/original/AvgCallDur.png?1407730454\" class=\"inline-image\" data-id=\"3003582643\" style=\"cursor: default;\"></p>\n<br></span></font></div>\n<blockquote style=\"margin: 0 0 0 40px; border: none; padding: 0px;\">\n<p dir=\"ltr\"><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0);\"><br></span></p>\n<p><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0);\">The Average Call Duration of a Tariff is a secondary profit or loss protection feature to Max Loss, %. By configuring your desired value in seconds in \u2018Average Call Duration\u2019, Sippy performs pre-connection calculations resulting in the customer\u2019s potential cost of call. This potential is presumed by calculating the Average Call Duration value (default 200 seconds), multiplied by destination tariff. The calculation will also encompass additional call billing components as listed in the Tariff, such as Connect Fee, Post Call Surcharge, and Free Seconds. If the customer does not have enough funds in their account for the call according to the calculation, Sippy will block this call (see&nbsp;</span><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0);\">Sample Case 1)</span><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0);\">.</span></p>\n</blockquote>\n<p dir=\"ltr\"><span id=\"docs-internal-guid-0544d779-c329-c9cc-332e-23b6a3103b55\"><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0);\"><br></span></span></p>\n<blockquote style=\"margin: 0 0 0 40px; border: none; padding: 0px;\"><p dir=\"ltr\"><span><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0);\">Additionally, the Average call duration also performs as profit protection in the case when there are lots of calls established at the same time through one Account. Sippy will enable one session to connect, reserving sufficient available credit for this call. In the case that a second simultaneous session from the same Account is attempted, Sippy will reject this call due to the insufficient fund potential (see&nbsp;</span><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0);\">Sample Case 2)</span><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0);\">.</span></span></p></blockquote>\n<p><span id=\"docs-internal-guid-0544d779-c329-c9cc-332e-23b6a3103b55\"><br>\n</span></p>\n<ul></ul>\n<blockquote style=\"margin: 0 0 0 40px; border: none; padding: 0px;\">\n<span style=\"color: rgb(0, 0, 0); font-size: 15px; font-weight: bold;\">Sample case 1</span><span style=\"color: rgb(0, 0, 0); font-size: 15px;\">:<br></span>\n</blockquote> <span style=\"line-height: 22px; color: rgb(0, 0, 0);\"><span style=\"font-size: 15px;\"><ul><ul>\n<li><span style=\"font-size: 15px; line-height: 22px;\">Prepaid Account \u2018A\u2019 has $0.15 credit</span></li>\n<li><span style=\"font-size: 15px; line-height: 22px;\">Prefix 123 is dialed, with a rate of $0.1/min</span></li>\n<li><span style=\"font-size: 15px; line-height: 22px;\">At $0.1/min, Account A will potentially have 90 seconds worth of call. ($0.15/$0.1=1.5min=90sec)</span></li>\n<li><span style=\"font-size: 15px; line-height: 22px;\">However, if Average Call Duration is set to 100 seconds, Sippy will block this call before the termination can take place.</span></li>\n</ul></ul></span></span><p style=\"color: rgb(0, 0, 0);\"><span id=\"docs-internal-guid-0544d779-c329-c9cc-332e-23b6a3103b55\"><br></span></p>\n<blockquote style=\"margin: 0 0 0 40px; border: none; padding: 0px;\">\n<span style=\"color: rgb(0, 0, 0); font-size: 15px; font-weight: bold;\">Sample case 2</span><span style=\"color: rgb(0, 0, 0); font-size: 15px;\">:<br><ul>\n<li>\n<span style=\"font-size: 15px; line-height: 22px;\">Prepaid Account \u2018A\u2019 has $0.18 credit</span><br>\n</li>\n<li>\n<span style=\"font-size: 15px; line-height: 22px;\">Prefix 123 is dialed, with a rate of $0.05/min</span><br>\n</li>\n<li>\n<span style=\"font-size: 15px; line-height: 22px;\">Average call duration on account has been set to 200s (default value)</span><br>\n</li>\n<li>\n<span style=\"font-size: 15px; line-height: 22px;\">First caller would be able to do 3 minutes and 36 seconds of calling at max</span><br>\n</li>\n<li>\n<span style=\"font-size: 15px; line-height: 22px;\">System reserves the cost of 200 seconds to this destination from the account\u2019s balance.The amount of money available for the next caller to make the call would be ~ 0.0133333 USD. After that the new caller won\u2019t have the possibility of making the calls to the same destination until the first caller finishes his call and the balance would be recalculated</span><br>\n</li>\n<li><span style=\"font-size: 15px; line-height: 22px;\">The second call attempt to this destination will be rejected by Sippy till the first call is done or the balance has been topped up. <br></span></li>\n</ul></span>\n</blockquote>\n<p><i><span style=\"font-size: 15px; font-family: Arial; color: rgb(0, 0, 0);\"><br></span></i></p>\n</div>",
    "description_text": " \n   \n Sippy\u2019s Loss Protection, Average Call Duration and Margin Based Routing \n  \n \n   \n Sippy\u2019s Loss Protection and Average Call Duration serve important logical duties, relating to Profit Protection and Margin Based Routing. These are parameters configured under your Tariff\u2019s \u2018Advanced Parameters\u2019 title. Sippy makes logical calculations based on Loss Protection %, your Average Call Duration specified value and Rate of call versus supplier cost of Route. This will have Sippy either block calls or pass the call to the next available connection as specified in your Routing Entries list. \n   \n \n  \nYour Loss Protection %, can be a \"+\" or a \"-\" value, determining your willingness to allow calls to pass at a loss or with guaranteed margin. Configuring Loss Protection to a negative value, with Least Cost Routing Policy enabled, configures your Margin Based Routing threshold. A Loss Protection value of -10% will have Sippy pass the call through the connection with least cost, though with a margin of at least 10%. With a positive value, Sippy will allow routing to tariffs that will result in a lower charge to your customer than your total cost of call. This can be an important feature when selling products with loss leader tariffs, to provide your customers with great offers to some destinations. \n  \n  \n \n \u00a0 \n  \n \n   \n \n \n  \nThe Average Call Duration when considering Tariffs, does not relate to ACD (Average Call Duration) call length statistics of routed calls. It is an arbitrary value specified by the operator to have Sippy perform some pre-determined call calculations. Average Call Duration of tariff, serves two significant profit or loss protection purposes.\n  \n    \n  \n \n   \n The Average Call Duration of a Tariff is a secondary profit or loss protection feature to Max Loss, %. By configuring your desired value in seconds in \u2018Average Call Duration\u2019, Sippy performs pre-connection calculations resulting in the customer\u2019s potential cost of call. This potential is presumed by calculating the Average Call Duration value (default 200 seconds), multiplied by destination tariff. The calculation will also encompass additional call billing components as listed in the Tariff, such as Connect Fee, Post Call Surcharge, and Free Seconds. If the customer does not have enough funds in their account for the call according to the calculation, Sippy will block this call (see\u00a0Sample Case 1). \n \n   \n  Additionally, the Average call duration also performs as profit protection in the case when there are lots of calls established at the same time through one Account. Sippy will enable one session to connect, reserving sufficient available credit for this call. In the case that a second simultaneous session from the same Account is attempted, Sippy will reject this call due to the insufficient fund potential (see\u00a0Sample Case 2).  \n  \n \n \n \nSample case 1: \n    \n Prepaid Account \u2018A\u2019 has $0.15 credit \n Prefix 123 is dialed, with a rate of $0.1/min \n At $0.1/min, Account A will potentially have 90 seconds worth of call. ($0.15/$0.1=1.5min=90sec) \n However, if Average Call Duration is set to 100 seconds, Sippy will block this call before the termination can take place. \n     \n \nSample case 2:  \n \nPrepaid Account \u2018A\u2019 has $0.18 credit \n \n \nPrefix 123 is dialed, with a rate of $0.05/min \n \n \nAverage call duration on account has been set to 200s (default value) \n \n \nFirst caller would be able to do 3 minutes and 36 seconds of calling at max \n \n \nSystem reserves the cost of 200 seconds to this destination from the account\u2019s balance.The amount of money available for the next caller to make the call would be ~ 0.0133333 USD. After that the new caller won\u2019t have the possibility of making the calls to the same destination until the first caller finishes his call and the balance would be recalculated \n \n The second call attempt to this destination will be rejected by Sippy till the first call is done or the balance has been topped up.   \n \n \n   \n ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 1,
    "thumbs_down": 0,
    "hits": 1279,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000021046,
    "type": 1,
    "status": 2,
    "agent_id": 3901167,
    "created_at": "2014-11-04T16:08:41Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Commission agent setup",
    "updated_at": "2016-12-14T13:53:14Z",
    "description": "<div>\n<div>\n<p><font size=\"5\"><b>Commission Agent Overview</b></font></p>\n<p><br></p>\n<p><b><u>Commission Agent</u></b> - A Commission Agent is a Customer or Account that receives a fixed percentage commission from every call made by the account/any account of some particular customer.<br><u><b>Commission Size, %</b></u> - the\u00a0size of the commission, expressed as a\u00a0percentage. For example, if you want to set 15% of commission, set it as 15.<br><br>If a negative symbol, \"\u00a0<b>-</b>\u00a0\" is configured in the\u00a0<u>commission size, %</u> field, before the commission value, the agent will pay commission to the\u00a0<i>Account or another customer</i> instead of receiving the commission for their every call.<br><br>As a result for the case you assign the Commission agent to an Account, you'd be able to see 2 CDRs:<br><span style=\"color: rgb(0, 0, 0);\"><br></span></p>\n</div>\n</div><blockquote style=\"margin: 0 0 0 40px; border: none; padding: 0px;\">\n<div><div><p><i style=\"color: rgb(0, 0, 0);\">\u00a0-</i><span style=\"color: rgb(0, 0, 0);\"> cdr for an Account (actual call)</span></p></div></div>\n<div><div><p><span style=\"color: rgb(0, 0, 0);\">\u00a0- commission for the customer</span></p></div></div>\n</blockquote><div dir=\"ltr\">\n<div dir=\"ltr\">\n<p><br></p>\n<p>For the positive commission size, the cost of the second CDR would be &lt;0 (negative value), which means that this amount of money is added to the customer's balance.</p>\n<p><img id=\"cursor\" width=\"0\" height=\"0\" rel=\"cursor\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\" style=\"display: none;\"><br></p>\n<p><u>There is a possibility to set the Commission agent only for an account/customer of the same level of hierarchy. </u><br></p>\n<p><b><br></b></p>\n<img style=\"cursor: default;\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3005353407/original/On-Net-Routing.png?1415117447\" class=\"inline-image\" data-id=\"3005353407\"><p><br></p>\n<p><b>Example 1:</b></p>\n<p>Customer C1 has sub-customer C2-2 and accounts a4, a5 and a6. Sub-customer C2-2 could be configured as the commission agent for the particular account a4 or a5 or a6.</p>\n<p><b>Example 2:</b></p>\n<p>Customer C1 has sub-customer C2-2 and sub-customer C2-1 whereas the last one has sub-customer C3. Sub-customer C2-2 could be configured as the commission agent for sub-customer C2-1, and would get the commission for every call that is placed by a3 account belonging to C3 customer and both a1-a2 accounts belonging to sub-customer C2-1.</p>\n<p><br></p>\n<b><font size=\"4\"><font size=\"5\">Configuring the customer as the Commission agent</font></font></b>\n<p><br></p>\n<p><b>1. Open the account you want to get Commission agent assigned to.</b></p>\n<div class=\"ellipsis\">           <br><b>2. Assign as the Commission agent the customer who will act in this role (Customer of the same level of hierarchy as account)</b><br><br><p><img style=\"cursor: default;\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3005353536/original/commission_agent.jpg?1415117558\" class=\"inline-image\" data-id=\"3005353536\"></p>\n<br><b>3. Configure some percentage of Commission size</b><br><br><p><img style=\"cursor: default;\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3005353559/original/commission_size.jpg?1415117580\" class=\"inline-image\" data-id=\"3005353559\"></p>\n<br><b>4. Save the changes.</b><br><br><br>         </div>\n<p></p>\n</div>\n</div>\n",
    "description_text": " \n \n Commission Agent Overview \n   \n Commission Agent - A Commission Agent is a Customer or Account that receives a fixed percentage commission from every call made by the account/any account of some particular customer. Commission Size, % - the\u00a0size of the commission, expressed as a\u00a0percentage. For example, if you want to set 15% of commission, set it as 15.  If a negative symbol, \"\u00a0-\u00a0\" is configured in the\u00a0commission size, % field, before the commission value, the agent will pay commission to the\u00a0Account or another customer instead of receiving the commission for their every call.  As a result for the case you assign the Commission agent to an Account, you'd be able to see 2 CDRs:   \n \n  \n   \u00a0- cdr for an Account (actual call)   \n   \u00a0- commission for the customer   \n  \n \n   \n For the positive commission size, the cost of the second CDR would be <0 (negative value), which means that this amount of money is added to the customer's balance. \n   \n There is a possibility to set the Commission agent only for an account/customer of the same level of hierarchy.   \n   \n   \n Example 1: \n Customer C1 has sub-customer C2-2 and accounts a4, a5 and a6. Sub-customer C2-2 could be configured as the commission agent for the particular account a4 or a5 or a6. \n Example 2: \n Customer C1 has sub-customer C2-2 and sub-customer C2-1 whereas the last one has sub-customer C3. Sub-customer C2-2 could be configured as the commission agent for sub-customer C2-1, and would get the commission for every call that is placed by a3 account belonging to C3 customer and both a1-a2 accounts belonging to sub-customer C2-1. \n   \nConfiguring the customer as the Commission agent\n   \n 1. Open the account you want to get Commission agent assigned to. \n             2. Assign as the Commission agent the customer who will act in this role (Customer of the same level of hierarchy as account)    \n 3. Configure some percentage of Commission size    \n 4. Save the changes.             \n \n \n \n",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 1,
    "thumbs_down": 4,
    "hits": 515,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000027118,
    "type": 1,
    "status": 2,
    "agent_id": 3901167,
    "created_at": "2015-02-05T14:49:58Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "CDR Call Cost Rounding Methods [Decimal Precision]",
    "updated_at": "2015-02-24T16:21:40Z",
    "description": "<p>The Sippy Softswitch can round the Call Cost to the needed decimal. This feature is part of version 4.3 Sippy Softswicth.</p>\r\n<p>The balance of the particular account that uses the tariff with non-default Decimal Precision would be debited based on the calculated rounded cost of the call.</p>\r\n<p>The balance of the particular vendor with non-default Decimal Precision would be debited based on the calculated rounded cost of the call. </p>\r\n<p><br></p>\r\n<h2><font><b>Default Decimal precision</b></font></h2>\r\n<p>This method is the default one. No particular rounding for the cost up to 20th digit is being done, and the rating works based on all digits from the cost of some prefix. For example;\u00a0</p>\r\n<p>A call with a cost of 1.01234567890123456788<b>1</b>1 USD will be rounded to 20th digit after the dot.\u00a0The call cost would be recorded as 1.0123456789012345678<b>8</b> USD.</p>\r\n<p>A call with a cost of 1.01234567890123456788<b>9</b>9 USD will be rounded to 20th digit after the dot. The call cost would be recorded as 1.0123456789012345678<b>9</b> USD.</p>\r\n<b><br><font><font>Custom Decimal Precision\u00a0</font></font></b><p>This method rounds the call cost after the last configured digit after the dot. <br></p>\r\n<p><b>For example, having the Decimal Precision = 2:</b><br></p>\r\n<p>A call with a cost of 1.0<b>1</b>23456789012345678811 USD will be rounded to 2nd digit after the dot. The call cost would be recorded as 1.0<b>1</b><b></b> USD.</p>\r\n<p>A call with a cost of 1.01<b>5</b>3456789012345678899 USD will be rounded to\r\n 2nd digit after the dot. The call cost would be recorded as \r\n1.0<b>2</b> USD.</p>\r\n<p>A call with a cost of 1.01<b>7</b>3456789012345678899 USD will be rounded to\r\n 2nd digit after the dot. The call cost would be recorded as \r\n1.0<b>2</b> USD.</p>\r\n<p><span style=\"\"></span></p>\r\n<p><br></p>\r\n<p><font><b>The following table illustrates the results of both default and the custom decimal precision methods</b></font><br></p>\r\n<table class=\"confluenceTable\" style=\"margin-top: 5px; margin-bottom: 5px; margin-left: 2px; width: auto; font-family: Arial,sans-serif; font-size: 14px; line-height: 20px;\"><tbody>\r\n<tr>\r\n<td class=\"confluenceTd\" style=\"padding-top: 3px; padding-bottom: 3px;\">Calculated Cost Of The Call<br>\r\n</td>\r\n<td class=\"confluenceTd\" style=\"border-color: rgb(204, 204, 204); padding-top: 3px; padding-bottom: 3px;\">Default Decimal Precision Cost<br>\r\n</td>\r\n<td class=\"confluenceTd\" style=\"padding-top: 3px; padding-bottom: 3px;\">Custom Decimal Precision Cost (For the Decimal Precision = 2)<br>\r\n</td>\r\n</tr>\r\n<tr>\r\n<td class=\"confluenceTd\" style=\"padding-top: 3px; padding-bottom: 3px;\">1.0<span class=\"current\">1</span>23456789012345678811</td>\r\n<td class=\"confluenceTd\" style=\"padding-top: 3px; padding-bottom: 3px;\">1.0<span>1</span>234567890123456788</td>\r\n<td class=\"confluenceTd current\" style=\"padding-top: 3px; padding-bottom: 3px;\">1.0<span>1</span>\r\n</td>\r\n</tr>\r\n<tr>\r\n<td class=\"confluenceTd\" style=\"padding-top: 3px; padding-bottom: 3px;\">1.0153456789012345678899</td>\r\n<td class=\"confluenceTd\" style=\"padding-top: 3px; padding-bottom: 3px;\">1.01534567890123456789</td>\r\n<td class=\"confluenceTd\" style=\"padding-top: 3px; padding-bottom: 3px;\">1.02</td>\r\n</tr>\r\n<tr>\r\n<td class=\"confluenceTd\" style=\"padding-top: 3px; padding-bottom: 3px;\">1.0173456789012345678899</td>\r\n<td class=\"confluenceTd\" style=\"padding-top: 3px; padding-bottom: 3px;\">1.01734567890123456789</td>\r\n<td class=\"confluenceTd\" style=\"padding-top: 3px; padding-bottom: 3px;\">1.02</td>\r\n</tr>\r\n\r\n\r\n</tbody></table>\r\n<p><br></p>\r\n<p>The Sippy Softswitch enables you to configure the Decimal Precision on individual Tariffs and Vendors. <br></p>\r\n<p>This gives the switch operator full control on how Call Cost is rounded for every aspect of their business, clients, and vendors.</p>\r\n<p><br></p>\r\n<p><b><font>Configure Rounding Method on a Tariff</font><br></b></p>\r\n<p></p>\r\n<ul>\r\n<li>\r\n<span style=\"\">Go to the Tariffs, open the Edit Page for your Tariff, or create a new Tariff</span><br>\r\n</li>\r\n<li><span style=\"\"><span style=\"\">Under the 'Advanced Parameters' section on the Tariff edit screen s</span>et the needed \"Decimal Precision\" value to round the cost after this digit<br></span></li>\r\n<li><span style=\"\">Click the Save &amp; Close button to save the change</span></li>\r\n</ul>\r\n<div>\r\n<p><img style=\"cursor: default;\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3007264673/original/decimal_tariff.jpg?1423150591\" class=\"inline-image\" data-id=\"3007264673\"></p>\r\n<br><p><font><b>Configure Rounding Method for a specific Vendor</b></font></p>\r\n</div>\r\n<p></p>\r\n<p></p>\r\n<p></p>\r\n<ul style=\"\">\r\n<li style=\"width: 1246.046875px;\">\r\n<span>Go to the Vendors, open the Edit Page for your Vendor, or create a new Vendor</span>\r\n</li>\r\n<li style=\"width: 1246.046875px;\"><span><span>Under the 'Advanced Parameters' section on the Vendor edit screen s</span>et the needed \"Decimal Precision\" value to round the cost after this digit</span></li>\r\n<li style=\"width: 1246.046875px;\">\r\n<span style=\"\">Click Save &amp; Close button to save the change</span><br>\r\n</li>\r\n</ul>\r\n<p></p>\r\n<p><img style=\"cursor: default;\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3007264671/original/decimal_vendor.jpg?1423150586\" class=\"inline-image\" data-id=\"3007264671\"></p>\r\n<br>\r\n",
    "description_text": " The Sippy Softswitch can round the Call Cost to the needed decimal. This feature is part of version 4.3 Sippy Softswicth. \n The balance of the particular account that uses the tariff with non-default Decimal Precision would be debited based on the calculated rounded cost of the call. \n The balance of the particular vendor with non-default Decimal Precision would be debited based on the calculated rounded cost of the call.  \n   \n Default Decimal precision \n This method is the default one. No particular rounding for the cost up to 20th digit is being done, and the rating works based on all digits from the cost of some prefix. For example;\u00a0 \n A call with a cost of 1.0123456789012345678811 USD will be rounded to 20th digit after the dot.\u00a0The call cost would be recorded as 1.01234567890123456788 USD. \n A call with a cost of 1.0123456789012345678899 USD will be rounded to 20th digit after the dot. The call cost would be recorded as 1.01234567890123456789 USD. \n Custom Decimal Precision\u00a0 This method rounds the call cost after the last configured digit after the dot.   \n For example, having the Decimal Precision = 2:  \n A call with a cost of 1.0123456789012345678811 USD will be rounded to 2nd digit after the dot. The call cost would be recorded as 1.01 USD. \n A call with a cost of 1.0153456789012345678899 USD will be rounded to\n 2nd digit after the dot. The call cost would be recorded as \n1.02 USD. \n A call with a cost of 1.0173456789012345678899 USD will be rounded to\n 2nd digit after the dot. The call cost would be recorded as \n1.02 USD. \n  \n   \n The following table illustrates the results of both default and the custom decimal precision methods  \n\n\n Calculated Cost Of The Call \n \n Default Decimal Precision Cost \n \n Custom Decimal Precision Cost (For the Decimal Precision = 2) \n \n\n\n 1.0123456789012345678811 \n 1.01234567890123456788 \n 1.01\n \n\n\n 1.0153456789012345678899 \n 1.01534567890123456789 \n 1.02 \n\n\n 1.0173456789012345678899 \n 1.01734567890123456789 \n 1.02 \n\n\n\n\n   \n The Sippy Softswitch enables you to configure the Decimal Precision on individual Tariffs and Vendors.   \n This gives the switch operator full control on how Call Cost is rounded for every aspect of their business, clients, and vendors. \n   \n Configure Rounding Method on a Tariff  \n \n \n \nGo to the Tariffs, open the Edit Page for your Tariff, or create a new Tariff \n \n Under the 'Advanced Parameters' section on the Tariff edit screen set the needed \"Decimal Precision\" value to round the cost after this digit  \n Click the Save & Close button to save the change \n \n \n  \n  Configure Rounding Method for a specific Vendor \n \n \n \n \n \n \nGo to the Vendors, open the Edit Page for your Vendor, or create a new Vendor\n \n Under the 'Advanced Parameters' section on the Vendor edit screen set the needed \"Decimal Precision\" value to round the cost after this digit \n \nClick Save & Close button to save the change \n \n \n \n  \n \n",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [
      "CDR",
      "Rounding",
      "Billing",
      "Decimal Precision"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 1,
    "thumbs_down": 1,
    "hits": 585,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000059950,
    "type": 1,
    "status": 2,
    "agent_id": 3763909,
    "created_at": "2016-11-09T14:21:32Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Support For Remote-Party-ID within Trusted Networks",
    "updated_at": "2016-11-09T14:23:38Z",
    "description": "<div dir=\"ltr\">\r\n<p>There is a possibility to pass Remote-Party-ID through the Sippy Softswitch but such possibility could be activated only via API.\u00a0</p>\r\n<p><br></p>\r\n<p>Here are the corresponding methods: <a href=\"http://support.sippysoft.com/solution/articles/3000050243-system-config\" rel=\"noreferrer\">http://support.sippysoft.com/solution/articles/3000050243-system-config</a></p>\r\n<p><br></p>\r\n<p><u>An example of usage:</u></p>\r\n<pre rel=\"highlighter\" data-code-brush=\"text\" class=\"code-large\">curl -v -k --digest -u &lt;username&gt;:&lt;password&gt; -d '&lt;?xml version=\"1.0\"?&gt;\r\n&lt;methodCall&gt;\r\n  &lt;methodName&gt;getSystemConfig&lt;/methodName&gt;\r\n&lt;params&gt;\r\n  &lt;param&gt;\r\n  &lt;value&gt;\r\n  &lt;struct&gt;\r\n  &lt;member&gt;\r\n  &lt;name&gt;i_customer&lt;/name&gt;&lt;value&gt;&lt;int&gt;1&lt;/int&gt;&lt;/value&gt;\r\n  &lt;/member&gt;\r\n  &lt;member&gt;\r\n  &lt;name&gt;key&lt;/name&gt;&lt;value&gt;&lt;string&gt;system/sip/headers/passthrough&lt;/string&gt;&lt;/value&gt;\r\n  &lt;/member&gt;\r\n  &lt;/struct&gt;\r\n  &lt;/value&gt;\r\n  &lt;/param&gt;\r\n&lt;/params&gt;\r\n&lt;/methodCall&gt;' https://&lt;environment_ip&gt;/xmlapi/xmlapi</pre>\r\n<p><br></p>\r\n<p>where <b>system/sip/headers/passthrough</b> is a fixed value so you need only to set ssp-root password.<br>\r\n</p>\r\n<p><br></p>\r\n<p><u>Here is the update method:</u> <br></p>\r\n<p>\u00a0</p>\r\n<pre rel=\"highlighter\" data-code-brush=\"text\" class=\"code-large\">curl -v -k --digest -u &lt;username&gt;:&lt;password&gt; -d '&lt;?xml version=\"1.0\"?&gt;\r\n&lt;methodCall&gt;\r\n  &lt;methodName&gt;setSystemConfig&lt;/methodName&gt;\r\n&lt;params&gt;\r\n  &lt;param&gt;\r\n  &lt;value&gt;\r\n  &lt;struct&gt;\r\n  &lt;member&gt;\r\n  &lt;name&gt;i_customer&lt;/name&gt;&lt;value&gt;&lt;int&gt;1&lt;/int&gt;&lt;/value&gt;\r\n  &lt;/member&gt;\r\n  &lt;member&gt;\r\n  &lt;name&gt;key&lt;/name&gt;&lt;value&gt;&lt;string&gt;system/sip/headers/passthrough&lt;/string&gt;&lt;/value&gt;\r\n  &lt;/member&gt;\r\n  &lt;member&gt;\r\n  &lt;name&gt;value&lt;/name&gt;&lt;value&gt;&lt;string&gt;Remote-Party-ID&lt;/string&gt;&lt;/value&gt;\r\n  &lt;/member&gt;\r\n  &lt;/struct&gt;\r\n  &lt;/value&gt;\r\n  &lt;/param&gt;\r\n&lt;/params&gt;\r\n&lt;/methodCall&gt;' https://&lt;environment_ip&gt;/xmlapi/xmlapi</pre>\r\n<p>\u00a0<br></p>where <b>Remote-Party-ID</b> is the header which you need to pass-through.<p></p>\r\n</div>",
    "description_text": " \n There is a possibility to pass Remote-Party-ID through the Sippy Softswitch but such possibility could be activated only via API.\u00a0 \n   \n Here are the corresponding methods: http://support.sippysoft.com/solution/articles/3000050243-system-config \n   \n An example of usage: \n curl -v -k --digest -u <username>:<password> -d '<?xml version=\"1.0\"?>\n<methodCall>\n  <methodName>getSystemConfig</methodName>\n<params>\n  <param>\n  <value>\n  <struct>\n  <member>\n  <name>i_customer</name><value><int>1</int></value>\n  </member>\n  <member>\n  <name>key</name><value><string>system/sip/headers/passthrough</string></value>\n  </member>\n  </struct>\n  </value>\n  </param>\n</params>\n</methodCall>' https://<environment_ip>/xmlapi/xmlapi \n   \n where system/sip/headers/passthrough is a fixed value so you need only to set ssp-root password. \n \n   \n Here is the update method:   \n \u00a0 \n curl -v -k --digest -u <username>:<password> -d '<?xml version=\"1.0\"?>\n<methodCall>\n  <methodName>setSystemConfig</methodName>\n<params>\n  <param>\n  <value>\n  <struct>\n  <member>\n  <name>i_customer</name><value><int>1</int></value>\n  </member>\n  <member>\n  <name>key</name><value><string>system/sip/headers/passthrough</string></value>\n  </member>\n  <member>\n  <name>value</name><value><string>Remote-Party-ID</string></value>\n  </member>\n  </struct>\n  </value>\n  </param>\n</params>\n</methodCall>' https://<environment_ip>/xmlapi/xmlapi \n \u00a0  where Remote-Party-ID is the header which you need to pass-through. \n ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 0,
    "thumbs_down": 0,
    "hits": 234,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000061100,
    "type": 1,
    "status": 2,
    "agent_id": 3901167,
    "created_at": "2016-12-16T16:36:44Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Diversion header support per RFC5806",
    "updated_at": "2020-03-17T14:29:14Z",
    "description": "<p>This documentation reflects the implementation details for Diversion header support in Sippy.</p><p>The header contains the originally called number, and is useful in case the CLD has gotten completely rewritten before sending the call to vendor.</p><p>Developed in order to comply with Turkish Telecommunication Board requirements, could be installed on any Sippy version above 4.5.</p><p>For implementation details/cost please contact our <a href=\"http://www.sippysoft.com/contact-sippy\">Sales/Billing department</a></p><p><br></p><h2>Areas of use:</h2><ul><li>Call to Account that has Follow-Me enabled</li><li>Call to Registered account via DID</li><li>Call to Registered account forwarded to another Account</li><li>Call to Account Trunk via DID</li><li>Call to Calling Card and Call-back application</li></ul><p><br></p><p>For extra details see <a href=\"https://tools.ietf.org/html/rfc5806\">RFC5806</a></p><p><br></p><p>The main place for Diversion to be configured is Connection preferences interface:</p><p><img data-uniquekey=\"1481906210915\" data-fileid=\"3024916639\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3024916639/original/K0arwhtMKQRDSIwKC16r5hdcvtfJpga-4w.jpg?1481906649\" class=\"fr-dib\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3024916639/original/K0arwhtMKQRDSIwKC16r5hdcvtfJpga-4w.jpg?1481906649\" style=\"width: 300px;\"></p><p><br></p><p>After setting Enable Diversion checkbox the translated incoming CLD would be sent in Diversion header to Vendor for one of the following events:</p><ul><li>Follow Me was triggered for this call</li><li>Call came to the Callback/Calling Card IVR application</li></ul><p><br></p><p>Switch operator can also set the Diversion Header Tr. Rule in order to change the Diversion number according to the Vendor requirements.</p><p><br></p><p>Sippy will pass the incoming Diversion header to vendor in case neither of the events mentioned above were triggered, otherwise the incoming Diversion number would be substituted by the one generated by Sippy.</p><p><br></p><p><span style=\"font-size: 24px;\"><strong>Detailed example of the scenario with Follow Me:</strong></span></p><p>Call comes to Sippy with CLD = B92071234567, authentication is done to the DID 92071234567 via Incoming DID = B92071234567. CLD Tr. Rule is applied, cutting the tech prefix B.</p><p><img data-uniquekey=\"1481906210915\" data-fileid=\"3024916900\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3024916900/original/QzQ4S7OKSOjffKKa-yBUh-GqEhtwRbo9cQ.jpg?1481907265\" class=\"fr-dib\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3024916900/original/QzQ4S7OKSOjffKKa-yBUh-GqEhtwRbo9cQ.jpg?1481907265\" style=\"width: 300px;\"></p><p>DID is assigned to Account diversion_test, with Onnet = Default on Routing Group, and Follow Me configured to forward all calls to 12061234567 number unconditionally (always).</p><p><img data-uniquekey=\"1481906210915\" data-fileid=\"3024916938\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3024916938/original/cGRsgua5oHUVJD6c6mocKe5HMOrW1rgDag.jpg?1481907407\" class=\"fr-dib\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3024916938/original/cGRsgua5oHUVJD6c6mocKe5HMOrW1rgDag.jpg?1481907407\" style=\"width: 300px;\"></p><p>Incoming Routing for Account diversion_test has Trunk = Registered Account\u00a0</p><p><img data-uniquekey=\"1481906210915\" data-fileid=\"3024916948\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3024916948/original/L2zZm63Cvi69EuRQCI0kLsl5WJIY-YJZMw.jpg?1481907422\" class=\"fr-dib\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3024916948/original/L2zZm63Cvi69EuRQCI0kLsl5WJIY-YJZMw.jpg?1481907422\" style=\"width: 300px;\"></p><p>The call would be sent to the Follow Me leg through the Routing Group of Account diversion_test to the Test Vendor-Test connection with CLD=12061234567.</p><p>Case Diversion is enabled on connection, 92071234567 number would be sent in Diversion header, so that the vendor can do the reconfiguration based on this parameter.</p><p><br></p><p><span style=\"font-size: 24px;\"><strong>Detailed example of the scenario with DID-Registered Account/Trunk:</strong></span></p><p>Call comes to Sippy with CLD = B92071234567, authentication is done to the DID 92071234567 via Incoming DID = B92071234567. CLD Tr. Rule is applied, cutting the tech prefix B.</p><p><img data-uniquekey=\"1481906210915\" data-fileid=\"3024916900\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3024916900/original/QzQ4S7OKSOjffKKa-yBUh-GqEhtwRbo9cQ.jpg?1481907265\" class=\"fr-dib\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3024916900/original/QzQ4S7OKSOjffKKa-yBUh-GqEhtwRbo9cQ.jpg?1481907265\" style=\"width: 300px;\"></p><p>DID is assigned to Account diversion_test, with Onnet = Default on Routing Group</p><p>Incoming Routing for Account diversion_test has Trunk = Registered Account, and Fwd DID Mode = Diversion Header</p><p><img data-uniquekey=\"1481906210915\" data-fileid=\"3024916948\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3024916948/original/L2zZm63Cvi69EuRQCI0kLsl5WJIY-YJZMw.jpg?1481907422\" class=\"fr-dib\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3024916948/original/L2zZm63Cvi69EuRQCI0kLsl5WJIY-YJZMw.jpg?1481907422\" style=\"width: 300px;\"></p><p>The call would be sent to the Registered Account with Diversion header containing the DID call came to Sippy Softswitch, To and URI headers would have account's name.</p><hr><p><span style=\"font-size: 16px;\"><strong>Connected documentation links:</strong></span></p><p><a href=\"https://support.sippysoft.com/en/support/solutions/articles/77914-rewriting-cli-and-cld-with-external-script\">External Translator documentation\u00a0</a></p><p><br></p><p><a href=\"https://support.sippysoft.com/en/support/solutions/articles/78278-calling-card-ivr-application\">Calling Card IVR Application</a></p><p><br></p><p><a href=\"https://support.sippysoft.com/en/support/solutions/articles/79051-ani-callback-ivr-application\">ANI Callback IVR application</a></p><p><br></p>",
    "description_text": " This documentation reflects the implementation details for Diversion header support in Sippy.  The header contains the originally called number, and is useful in case the CLD has gotten completely rewritten before sending the call to vendor.  Developed in order to comply with Turkish Telecommunication Board requirements, could be installed on any Sippy version above 4.5.  For implementation details/cost please contact our Sales/Billing department     Areas of use:   Call to Account that has Follow-Me enabled  Call to Registered account via DID  Call to Registered account forwarded to another Account  Call to Account Trunk via DID  Call to Calling Card and Call-back application      For extra details see RFC5806     The main place for Diversion to be configured is Connection preferences interface:       After setting Enable Diversion checkbox the translated incoming CLD would be sent in Diversion header to Vendor for one of the following events:   Follow Me was triggered for this call  Call came to the Callback/Calling Card IVR application      Switch operator can also set the Diversion Header Tr. Rule in order to change the Diversion number according to the Vendor requirements.     Sippy will pass the incoming Diversion header to vendor in case neither of the events mentioned above were triggered, otherwise the incoming Diversion number would be substituted by the one generated by Sippy.     Detailed example of the scenario with Follow Me:  Call comes to Sippy with CLD = B92071234567, authentication is done to the DID 92071234567 via Incoming DID = B92071234567. CLD Tr. Rule is applied, cutting the tech prefix B.    DID is assigned to Account diversion_test, with Onnet = Default on Routing Group, and Follow Me configured to forward all calls to 12061234567 number unconditionally (always).    Incoming Routing for Account diversion_test has Trunk = Registered Account\u00a0    The call would be sent to the Follow Me leg through the Routing Group of Account diversion_test to the Test Vendor-Test connection with CLD=12061234567.  Case Diversion is enabled on connection, 92071234567 number would be sent in Diversion header, so that the vendor can do the reconfiguration based on this parameter.     Detailed example of the scenario with DID-Registered Account/Trunk:  Call comes to Sippy with CLD = B92071234567, authentication is done to the DID 92071234567 via Incoming DID = B92071234567. CLD Tr. Rule is applied, cutting the tech prefix B.    DID is assigned to Account diversion_test, with Onnet = Default on Routing Group  Incoming Routing for Account diversion_test has Trunk = Registered Account, and Fwd DID Mode = Diversion Header    The call would be sent to the Registered Account with Diversion header containing the DID call came to Sippy Softswitch, To and URI headers would have account's name.   Connected documentation links:  External Translator documentation\u00a0     Calling Card IVR Application     ANI Callback IVR application    ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [
      "diversion"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 0,
    "thumbs_down": 1,
    "hits": 892,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000070011,
    "type": 1,
    "status": 2,
    "agent_id": 3901167,
    "created_at": "2017-09-04T10:22:57Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "SSL Certificates for Web",
    "updated_at": "2019-09-24T06:51:07Z",
    "description": "<p>Starting from version 5.1 Sippy Softswitch will be able to generate it's own SSL certificate. Customers will still be able to upload their own SSL Certificates. The Newly Generated SSL certificates process will be described in this article.</p><p><br></p><p><span style=\"font-size: 18px;\">What is SSL certificate</span></p><p>SSL Certificate is a small data file that digitally binds a cryptographic key to an organization\u2019s details. When installed on a web server, it activates the padlock and the https protocol and allows secure connections from a web server to a browser. Typically, SSL is used to secure credit card transactions, data transfer and logins.</p><p><br></p><h2>Prerequisites</h2><ol><li>The service is provided by <a href=\"https://letsencrypt.org/\">https://letsencrypt.org/</a> certificate authority (CA).</li><li>Proper DNS A-record pointed to IP address of environment.</li><li>Open access to 80 TCP port. This is required by CA to issue and renew the certificates.</li></ol><h2>How to generate a new certificate</h2><ol><li>Add DNS A-record for one of the IP addresses, assigned to the environment and check if it is available from Internet.</li><li>Set <strong>Web Address</strong> parameter to the DNS A-record in Environment's Preferences/System Parameters page</li><li>Check on <strong>Generate SSL Cert.</strong> checkbox below <strong>Web Address</strong> field<br><img class=\"fr-dib fr-fil\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3034652783/original/tM3ikURXbiVi1rVH1JQ0QhrT2k55kOStxw.jpg?1519056753\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3034652783/original/tM3ikURXbiVi1rVH1JQ0QhrT2k55kOStxw.jpg?1519056753\" data-fileid=\"3034652783\" data-uniquekey=\"1519056739390\"><img style=\"width: 495px; height: 176.273px;\" data-uniquekey=\"1534425242835\" data-fileid=\"3038509366\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3038509366/original/FJricdWS_NoEszY1WaOI8VpZxXgILSYGrQ?1534426774\" class=\"fr-dii\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3038509366/original/FJricdWS_NoEszY1WaOI8VpZxXgILSYGrQ?1534426774\" alt=\"\"><br></li><li>\u00a0Or the same (as in item 3) may be done via the <strong>System Parameters</strong> -&gt; <strong>Generate SSL Cert.</strong> checkbox.</li></ol><p><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3047458975/original/ALfAIuiCXBkgDauqGMpsvC4pRNOJJstD2w.jpg?1569307777\" class=\"fr-fic fr-dib fr-fil fr-bordered\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3047458975/original/ALfAIuiCXBkgDauqGMpsvC4pRNOJJstD2w.jpg?1569307777\" data-fileid=\"3047458975\" data-uniquekey=\"1569307685276\" style=\"width: 534px;\"></p><ol><li>Wait for 5 minutes to allow the system to generate and install new SSL certificate. Web server will restart.</li><li>Check the Certificate in your browser.<br><img class=\"fr-dib fr-fil\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3034652835/original/JyiK36TNdIZVHNKD1uMLCUkxwMViW329Hg.jpg?1519056859\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3034652835/original/JyiK36TNdIZVHNKD1uMLCUkxwMViW329Hg.jpg?1519056859\" data-fileid=\"3034652835\" data-uniquekey=\"1519056847607\"></li></ol><p>\u00a0</p><h2>How to renew an existing certificate</h2><ol><li>All work related to certificates renewal is done by system itself. No special handling is required from switch operator.</li></ol><p><br></p>",
    "description_text": " Starting from version 5.1 Sippy Softswitch will be able to generate it's own SSL certificate. Customers will still be able to upload their own SSL Certificates. The Newly Generated SSL certificates process will be described in this article.     What is SSL certificate  SSL Certificate is a small data file that digitally binds a cryptographic key to an organization\u2019s details. When installed on a web server, it activates the padlock and the https protocol and allows secure connections from a web server to a browser. Typically, SSL is used to secure credit card transactions, data transfer and logins.     Prerequisites   The service is provided by https://letsencrypt.org/ certificate authority (CA).  Proper DNS A-record pointed to IP address of environment.  Open access to 80 TCP port. This is required by CA to issue and renew the certificates.   How to generate a new certificate   Add DNS A-record for one of the IP addresses, assigned to the environment and check if it is available from Internet.  Set Web Address parameter to the DNS A-record in Environment's Preferences/System Parameters page  Check on Generate SSL Cert. checkbox below Web Address field    \u00a0Or the same (as in item 3) may be done via the System Parameters -> Generate SSL Cert. checkbox.      Wait for 5 minutes to allow the system to generate and install new SSL certificate. Web server will restart.  Check the Certificate in your browser.    \u00a0  How to renew an existing certificate   All work related to certificates renewal is done by system itself. No special handling is required from switch operator.     ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [
      "ssl",
      "certificate"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 6,
    "thumbs_down": 1,
    "hits": 2211,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000072772,
    "type": 1,
    "status": 2,
    "agent_id": 3901167,
    "created_at": "2017-12-05T08:11:12Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Support for 3xx SIP redirect response codes",
    "updated_at": "2020-01-03T13:48:07Z",
    "description": "<p><span style=\"font-size: 16px;\"><strong>The Sippy Softswitch can be configured to react to the 301 Moved Permanently, 302 Moved Temporarily and 300 Multiple Choices responses received from the Vendor when routing a call.</strong></span></p><p><br></p><ul><li>The 301 Moved Permanently and 302 Moved Temporarily responses instruct the Softswitch to send another INVITE to the SIP URI which is specified in the field Contact of the SIP response. If the Contact field contains several URIs then the first one is used. If the destination UA responds with any error code then the Softswitch continues hunting by selecting the next Routing Group entry.</li></ul><p><br></p><ul><li>The 300 Multiple Choices allows to hunt several URIs from the Contact field of the SIP response. The URIs are sorted by the q= URI parameter value from highest to lowest and tried one by one. If all the redirect attempts were unsuccessful then the Softswitch continues with the next Routing Group entry.</li></ul><p><br></p><p>The feature is controlled in the Vendor Connection properties by the field <strong>Accept 3xx Redirects</strong> and it is accompanied by the <strong>Redirect Depth Limit</strong> setting which controls the maximum number of subsequent redirects when redirected call receives another 3xx response. In case of 300 Multiple Choices redirect the <strong>Redirect Depth Limit</strong> limits the maximum number of the hunt attempts.</p><p><br></p><p>Processing of 3xx responses is described in <a href=\"https://tools.ietf.org/html/rfc3261#page-43\" rel=\"noreferrer noopener\">RFC 3261</a></p><p><br></p><p>The CDRs for the call redirect attempts (both successful and unsuccessful) are written with the original Vendor Connection identifier and use exactly the same Destination Set Route which was chosen originally. The outbound CLD is taken directly from the 3xx Contact field and no translation is applied.</p><p>All timeouts are applied to each Redirect attempt based on timeouts configured in Connection and route from Destination Set as if each of the URIs is the separate Routing Entry.</p><p><br></p><p><span style=\"font-size: 18px;\"><strong>Example of Contact header with multiple URIs in 300 Multiple choices response:</strong></span></p><p><br></p><p style=\"margin-left: 60px;\">Contact: sip:000111111111111@5.5.5.5;q=0.99, sip:111111111111@4.4.4.4;q=1.00, sip:299111111111111@6.6.6.6;q=0.98</p><p><br></p><p>If the <strong>Accept 3xx Redirects</strong> option is enabled and <strong>Redirect Depth Limit</strong> setting is higher then 3, then\u00a0</p><p>the call would be sent first to 4.4.4.4 with CLD=111111111111, if it's not connected in time,</p><p>5.5.5.5 would be tried with CLD=000111111111111, if the call is not terminated (dropped with error, or timeout, etc),\u00a0</p><p>the last 6.6.6.6 would have the call sent with CLD=299111111111111</p><p><span style=\"color: rgb(226, 80, 65);\"><br></span></p><p><em><strong><span style=\"color: rgb(226, 80, 65);\">** Support for \"300 Multiple Choices\",\"301 Moved Permanently\",<em><strong><span style=\"color: rgb(226, 80, 65);\">\"302 Moved Temporarily\"\u00a0</span></strong></em>were implemented from 5.1 version.</span></strong></em></p>",
    "description_text": " The Sippy Softswitch can be configured to react to the 301 Moved Permanently, 302 Moved Temporarily and 300 Multiple Choices responses received from the Vendor when routing a call.      The 301 Moved Permanently and 302 Moved Temporarily responses instruct the Softswitch to send another INVITE to the SIP URI which is specified in the field Contact of the SIP response. If the Contact field contains several URIs then the first one is used. If the destination UA responds with any error code then the Softswitch continues hunting by selecting the next Routing Group entry.       The 300 Multiple Choices allows to hunt several URIs from the Contact field of the SIP response. The URIs are sorted by the q= URI parameter value from highest to lowest and tried one by one. If all the redirect attempts were unsuccessful then the Softswitch continues with the next Routing Group entry.      The feature is controlled in the Vendor Connection properties by the field Accept 3xx Redirects and it is accompanied by the Redirect Depth Limit setting which controls the maximum number of subsequent redirects when redirected call receives another 3xx response. In case of 300 Multiple Choices redirect the Redirect Depth Limit limits the maximum number of the hunt attempts.     Processing of 3xx responses is described in RFC 3261     The CDRs for the call redirect attempts (both successful and unsuccessful) are written with the original Vendor Connection identifier and use exactly the same Destination Set Route which was chosen originally. The outbound CLD is taken directly from the 3xx Contact field and no translation is applied.  All timeouts are applied to each Redirect attempt based on timeouts configured in Connection and route from Destination Set as if each of the URIs is the separate Routing Entry.     Example of Contact header with multiple URIs in 300 Multiple choices response:     Contact: sip:000111111111111@5.5.5.5;q=0.99, sip:111111111111@4.4.4.4;q=1.00, sip:299111111111111@6.6.6.6;q=0.98     If the Accept 3xx Redirects option is enabled and Redirect Depth Limit setting is higher then 3, then\u00a0  the call would be sent first to 4.4.4.4 with CLD=111111111111, if it's not connected in time,  5.5.5.5 would be tried with CLD=000111111111111, if the call is not terminated (dropped with error, or timeout, etc),\u00a0  the last 6.6.6.6 would have the call sent with CLD=299111111111111     ** Support for \"300 Multiple Choices\",\"301 Moved Permanently\",\"302 Moved Temporarily\"\u00a0were implemented from 5.1 version. ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [
      "3XX",
      "3XX Redirect",
      "300 redirect",
      "SIP Redirect",
      "SIP Response Code Mapping",
      "300 mapping"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 3,
    "thumbs_down": 0,
    "hits": 1430,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000080540,
    "type": 1,
    "status": 2,
    "agent_id": 3901167,
    "created_at": "2018-07-31T15:14:34Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Generate Ringbacktone",
    "updated_at": "2019-02-04T15:14:44Z",
    "description": "<p style=\"\"><span style=\"font-size: 24px;\">Feature Description:</span></p><p style=\"\">The new feature added in 4.4 version of Sippy as a checkbox on <strong>Account preferences</strong> and <strong>Account Class</strong>. Note: setting from <strong>Account's class</strong> is applied only to newly created <strong>Account</strong>.</p><p style=\"\">Playing ringback is normally the duty of <strong>UA</strong>, or <strong>Vendor</strong>, though there are some usage cases for Sippy to play it from its side, listed below.</p><p style=\"\">The feature could also be used case <strong>Caller's UA</strong> is misconfigured/is outdated and is unable to play ringbacktone to the <strong>Caller.</strong></p><p style=\"\">With <strong>Generate Ringbacktone</strong> enabled Sippy plays rings to the <strong>Caller</strong> on call's provisioning stage, case 180/183 messages were received from <strong>Vendor</strong>, up to receiving and processing 200OK from <strong>Vendor</strong>.</p><p><br></p><p style=\"\"><span style=\"font-size: 24px;\">Usage cases:</span></p><ul><li style=\"\">case <strong style=\"font-size: 13px; background-color: transparent; text-align: initial;\">Vendor</strong><span style=\"font-size: 13px; background-color: transparent; text-align: initial;\">\u00a0sends 183 Session Progress first followed with 180 Ringing message. Such order could cause some of the UA to be unable to play ringbacktone when packets are sent to the\u00a0</span><strong style=\"font-size: 13px; background-color: transparent; text-align: initial;\">Caller</strong></li></ul><p style=\"\"><span style=\"font-size: 24px;\">Supported codec formats for the feature:</span></p><ul><li style=\"\">g711u (0)</li><li style=\"\">g711a (8)</li><li>g723 (4)</li><li>g729 (18)</li><li style=\"\">GSM (3)</li></ul><p style=\"\"><br></p><p style=\"\"><img data-uniquekey=\"1533049605125\" data-fileid=\"3038172983\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3038172983/original/vLQQ_5bDPsYe3tglr9LgSG17bfOf2lhZwA.jpg?1533050008\" style=\"width: 295px; height: 227.65px;\" class=\"fr-dib fr-draggable fr-fil\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3038172983/original/vLQQ_5bDPsYe3tglr9LgSG17bfOf2lhZwA.jpg?1533050008\"><img data-uniquekey=\"1533050077184\" data-fileid=\"3038173551\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3038173551/original/B3xx7Y0lCYWBvKK3YBHGMdAGqtnHpTPWfQ.jpg?1533051075\" style=\"width: 290px; height: 159.032px;\" class=\"fr-dib fr-draggable fr-fil\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3038173551/original/B3xx7Y0lCYWBvKK3YBHGMdAGqtnHpTPWfQ.jpg?1533051075\"></p><p style=\"\"><br></p><p style=\"\"><br></p>",
    "description_text": " Feature Description:  The new feature added in 4.4 version of Sippy as a checkbox on Account preferences and Account Class. Note: setting from Account's class is applied only to newly created Account.  Playing ringback is normally the duty of UA, or Vendor, though there are some usage cases for Sippy to play it from its side, listed below.  The feature could also be used case Caller's UA is misconfigured/is outdated and is unable to play ringbacktone to the Caller.  With Generate Ringbacktone enabled Sippy plays rings to the Caller on call's provisioning stage, case 180/183 messages were received from Vendor, up to receiving and processing 200OK from Vendor.     Usage cases:   case Vendor\u00a0sends 183 Session Progress first followed with 180 Ringing message. Such order could cause some of the UA to be unable to play ringbacktone when packets are sent to the\u00a0Caller   Supported codec formats for the feature:   g711u (0)  g711a (8)  g723 (4)  g729 (18)  GSM (3)             ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 1,
    "thumbs_down": 1,
    "hits": 266,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000084946,
    "type": 1,
    "status": 1,
    "agent_id": 3763909,
    "created_at": "2018-12-17T10:15:00Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Archive CDRs (implemented in 4.2 version)",
    "updated_at": "2018-12-18T14:26:13Z",
    "description": "<p>Starting from 4.2 version, developers finalized the archive cdrs feature, which you can find and configure in the \"system parameters\" menu of your SippySoft switch.</p><p><br></p><p><img class=\"fr-dib fr-draggable fr-fil\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3041153031/original/QgI2k7o07G4NMUKSR1ms4krKvZGvemA7_w.jpg?1545125681\" style=\"width: 722px; height: 363.423px;\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3041153031/original/QgI2k7o07G4NMUKSR1ms4krKvZGvemA7_w.jpg?1545125681\" data-fileid=\"3041153031\" data-uniquekey=\"1545125661977\"></p><p><br></p><p>The archive cdrs value recommended setting higher than Purge CDRs value.</p><p><br></p><p><strong>Example:</strong></p><p><br></p><p>If you have Archive cdrs = 3 months, and Purge cdrs = 6 months, then all cdrs older then 3 months but younger then 6 months would be removed from DB and placed into archives to the mentioned folder, all those that are older then 6 months would be permanently deleted.</p><p><br></p><p>Sippy keeps archived CDRs stored on a server.</p><p><br></p><p>Sometimes customers need to have all those cdrs restored from archives to the production database that is not possible by design. As a workaround, Sippy support can upload archived CDRs to a new/separate environment.\u00a0</p><p><br></p><p><strong>Here it is the flow chart for the CDRs restoration request:</strong></p><p><strong>0. Customer sends a request to the SippySoft sales department to make an order for the extra work.\u00a0</strong></p><p><strong>1. Support calculates the estimated time for this task and informs sales.</strong></p><p><strong>2. Sales confirm the payment.</strong></p><p><strong>3. Customer allocates a free IP address on his production system for a new environment. If it is not possible, a customer can coordinate an ability to restore data on some Sippy's hosted server.</strong></p><p><strong>2. Sales team checks with support an ability to restore cdrs and support informs the client about the technical possibility.</strong></p><p><br></p>",
    "description_text": " Starting from 4.2 version, developers finalized the archive cdrs feature, which you can find and configure in the \"system parameters\" menu of your SippySoft switch.          The archive cdrs value recommended setting higher than Purge CDRs value.     Example:     If you have Archive cdrs = 3 months, and Purge cdrs = 6 months, then all cdrs older then 3 months but younger then 6 months would be removed from DB and placed into archives to the mentioned folder, all those that are older then 6 months would be permanently deleted.     Sippy keeps archived CDRs stored on a server.     Sometimes customers need to have all those cdrs restored from archives to the production database that is not possible by design. As a workaround, Sippy support can upload archived CDRs to a new/separate environment.\u00a0     Here it is the flow chart for the CDRs restoration request:  0. Customer sends a request to the SippySoft sales department to make an order for the extra work.\u00a0  1. Support calculates the estimated time for this task and informs sales.  2. Sales confirm the payment.  3. Customer allocates a free IP address on his production system for a new environment. If it is not possible, a customer can coordinate an ability to restore data on some Sippy's hosted server.  2. Sales team checks with support an ability to restore cdrs and support informs the client about the technical possibility.    ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 0,
    "thumbs_down": 0,
    "hits": 0,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000086536,
    "type": 1,
    "status": 2,
    "agent_id": 3022807355,
    "created_at": "2019-02-20T14:32:53Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Archive CDRs (from Sippy 2020 version)",
    "updated_at": "2020-11-24T08:07:44Z",
    "description": "<p><strong><span style=\"font-size: 24px;\">Overview</span></strong></p><p><br></p><p style=\"text-align: justify;\">We have improved the functionality for Data Retention Beginning in our Sippy 2020 version. \u00a0The Data Retention includes four separated parameters and works in two steps. At first, the CDRs can be archived, next they will be removed completely from file system.</p><p style=\"text-align: justify;\"><br></p><p><span style=\"font-size: 18px;\">Setup</span></p><p style=\"text-align: justify;\">\u00a0 \u00a0 You can find and configure in the \"System Parameters\" option in the \u201cSystem Management\u201d menu of your Sippy Softswitch. Each parameter can be changed from one day to two years.</p><p><br></p><p><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3042718923/original/oaKNIHlDbPk_BUqiML9gSU2OySXgtbxzhg.jpg?1551718135\" class=\"fr-fic fr-dib\" data-fileid=\"3042718923\" data-filelink=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3042718923/original/oaKNIHlDbPk_BUqiML9gSU2OySXgtbxzhg.jpg?1551718135\" data-uniquekey=\"1551431803206\" style=\"width: 410px;\"></p><p><br></p><p style=\"text-align: justify;\">\u2022 <strong>Archive All CDRs</strong>: it determines the period of time when the CDR entities should be archived. In other words, after passing this amount of time, a given CDR will be removed from database and placed to archive. Here, all of the CDRs regardless of their lengths -zero or non-zero- will be archived. The default value for this parameter is <strong>3 months</strong>.</p><p style=\"text-align: justify;\">\u2022 <strong>Archive Zero CDRs</strong>: it determines the period of time when the CDR entities with zero length should be archived. In other words, after passing this amount of time, a given zero length CDR, will be removed from database and placed to archive. Here, just CDRs with zero length will be archived. The default value for this parameter is <strong>3 months</strong>.</p><p style=\"text-align: justify;\">\u2022 <strong>Purge All CDRs</strong>: it determines the period of time when the CDR entities should be completely removed from server filesystem. In other words, after passing this amount of time, a given CDR would be removed permanently. Here, all of the CDRs regardless of their lengths -zero or non-zero- will be purged. The default value for this parameter is <strong>2 years</strong>.</p><p style=\"text-align: justify;\">\u2022 <strong>Purge Zero CDRs</strong>: it determines the period of time when the CDR entities should be completely removed from server filesystem. In other words, after passing this amount of time, a given CDR will be removed permanently. Here, just the CDRs with zero length will be purged. The default value for this parameter is <strong>2 years</strong>.</p><p><br></p><p><span style=\"font-size: 18px;\">Example based on the screenshot above:</span></p><p>\u00a0 \u00a0 By having <strong>Archive All CDRs</strong> = 6 months, <strong>Archive Zero CDRs</strong> = 3 months, <strong>Purge All CDRs</strong> = 2 years, <strong>Purge Zero CDRs</strong> = 1 year settings:</p><ul><li><strong>All CDRs</strong>, younger than three months, will remain untouched in the database,</li><li><strong>All CDRs with zero duration</strong> older than three months but younger than six months, will be removed from database and will be archived,</li><li><p><strong>All CDRs with non-zero duration</strong> older than three months but younger than six months, will remain untouched in the database,</p></li><li><strong>All CDRs with non-zero duration</strong> older than six months but younger than 2 years, will be removed from database and will be archived, archives would be kept on the filesystem for 2 years starting from call's setup time.</li><li><strong>All CDRs with zero duration</strong> older than 1 year, will be removed from database, if archives exist - they would be permanently removed from server filesystem</li><li><strong>All CDRs with non-zero duration</strong> older than 2 years, will be removed from database, if archives exist - they would be permanently removed from server filesystem</li></ul><p><br></p><p><span style=\"font-size: 18px;\">Note</span><span style=\"font-size: 18px;\">:</span></p><ol><li style=\"text-align: justify;\">The extra care should be taken when selecting purge option. Purge removes the archive files permanently from server file system and restoration will not be possible.</li><li style=\"text-align: justify;\">It should also be noted that archive and purge parameters are independent from each other. Selecting shorter amount of time for the Purge parameter, means ignoring the Archive parameter. In such a case, the CDRs will be removed directly from database. It might be useful when there is no space for keeping the archive files or no need to archive CDRs. This can be opted for the zero CDRs, for instance.</li></ol><p><br></p><p><span style=\"font-size: 18px;\">Terminology</span><span style=\"font-size: 18px;\">:</span></p><ul><li><strong>Archive</strong>: putting the data from database into an archive file.</li><li><strong>Purge</strong>: permanently removing/deleting an archive file from file system.</li></ul><p><br></p>",
    "description_text": " Overview     We have improved the functionality for Data Retention Beginning in our Sippy 2020 version. \u00a0The Data Retention includes four separated parameters and works in two steps. At first, the CDRs can be archived, next they will be removed completely from file system.     Setup  \u00a0 \u00a0 You can find and configure in the \"System Parameters\" option in the \u201cSystem Management\u201d menu of your Sippy Softswitch. Each parameter can be changed from one day to two years.          \u2022 Archive All CDRs: it determines the period of time when the CDR entities should be archived. In other words, after passing this amount of time, a given CDR will be removed from database and placed to archive. Here, all of the CDRs regardless of their lengths -zero or non-zero- will be archived. The default value for this parameter is 3 months.  \u2022 Archive Zero CDRs: it determines the period of time when the CDR entities with zero length should be archived. In other words, after passing this amount of time, a given zero length CDR, will be removed from database and placed to archive. Here, just CDRs with zero length will be archived. The default value for this parameter is 3 months.  \u2022 Purge All CDRs: it determines the period of time when the CDR entities should be completely removed from server filesystem. In other words, after passing this amount of time, a given CDR would be removed permanently. Here, all of the CDRs regardless of their lengths -zero or non-zero- will be purged. The default value for this parameter is 2 years.  \u2022 Purge Zero CDRs: it determines the period of time when the CDR entities should be completely removed from server filesystem. In other words, after passing this amount of time, a given CDR will be removed permanently. Here, just the CDRs with zero length will be purged. The default value for this parameter is 2 years.     Example based on the screenshot above:  \u00a0 \u00a0 By having Archive All CDRs = 6 months, Archive Zero CDRs = 3 months, Purge All CDRs = 2 years, Purge Zero CDRs = 1 year settings:   All CDRs, younger than three months, will remain untouched in the database,  All CDRs with zero duration older than three months but younger than six months, will be removed from database and will be archived,   All CDRs with non-zero duration older than three months but younger than six months, will remain untouched in the database,   All CDRs with non-zero duration older than six months but younger than 2 years, will be removed from database and will be archived, archives would be kept on the filesystem for 2 years starting from call's setup time.  All CDRs with zero duration older than 1 year, will be removed from database, if archives exist - they would be permanently removed from server filesystem  All CDRs with non-zero duration older than 2 years, will be removed from database, if archives exist - they would be permanently removed from server filesystem      Note:   The extra care should be taken when selecting purge option. Purge removes the archive files permanently from server file system and restoration will not be possible.  It should also be noted that archive and purge parameters are independent from each other. Selecting shorter amount of time for the Purge parameter, means ignoring the Archive parameter. In such a case, the CDRs will be removed directly from database. It might be useful when there is no space for keeping the archive files or no need to archive CDRs. This can be opted for the zero CDRs, for instance.      Terminology:   Archive: putting the data from database into an archive file.  Purge: permanently removing/deleting an archive file from file system.     ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [
      "CDR",
      "archive",
      "purge",
      "data retention"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 1,
    "thumbs_down": 0,
    "hits": 266,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000092540,
    "type": 1,
    "status": 2,
    "agent_id": 3012089524,
    "created_at": "2019-09-09T20:09:42Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Multi Factored Authentication (web users)",
    "updated_at": "2020-08-25T15:56:19Z",
    "description": "<h2>Introduction</h2><p>We're pleased to announce some new changes coming up in our Sippy 2020 Version. \u00a0We will be introducing Multi Factored Authentication methods for our soft switch. \u00a0This feature will help switch operators to ensure those who have web access are verified before accessing the web interface of your switch. \u00a0We have added two new methods to ensure your switch is protected - a simple Email based Authentication method and Google Authenticator.</p><p><br></p><h2>What is 2 Factor Authentication (2FA) and Multi-factor Authentication?</h2><p>2 Factor Authentication is a way to enhance security of your system. \u00a0In versions of our software from 5.2 and earlier we require simply a user name and password. \u00a0In practical terms access to the web interface relies just on something a user knows (user name and password). \u00a0A malicious user might try to brute force or guess the credentials to gain access to the system with some time and effort - thereby gaining access to something only the web user should know. \u00a02 Factor authentication extends this concept by adding another factor that the malicious user must try to obtain - making it much harder to gain access to the closed system. \u00a0In 2 factor authentication we still ask for something a user knows but we will now also ask for something the User has.</p><p><br></p><p>Multi factor authentication relies on two or more of these methods to prove your identity to the switch. \u00a0New to our Sippy 2020 version will be two methods to ensure users have the right credentials to enter the site. \u00a0\u00a0</p><p><br></p><h2>Method 1: Email Based 2 Factor Authentication.</h2><p>We will start with the most basic form of 2 factor authentication with an email based system. \u00a0All Web users (excluding accounts for the time being) will need to have an email address tied to their user profile. \u00a0Once an email address is attached then email verification can take place. \u00a0After successful Authentication using login&amp;password, users will receive an email from the softswitch with a URL they will need to click on to continue on with their typical workflow or alternatively copy the security token into the web page presented on the web interface. \u00a0This security token represents something the user has and can verify their login access accordingly.</p><p><br></p><p>Switch operators will be able to define the Token Expiration and Token Validation period. \u00a0The tokens by default will expire within 5 minutes from being generated but this is configurable up to 1 hour. \u00a0A new token can always be created if you are unable to login within this time period but it will invalidate older tokens. \u00a0The validation period reflects how long a user can go for without verifying their user profile. \u00a0The validation period is set to 90 days by default and needs to be within 1 day to one year. \u00a0Both of these parameters can be set in the System Configuration table.</p><p><br></p><p>These emails can be localized on the users specific language and are saved in ./templates/{language_code}/mfa_verification_token.txt.</p><p><br></p><h2>Method 2: Google Authenticator</h2><p>Google offers a good 2 factor authentication model that we particularly like. \u00a0Users will have to download the Google Authenticator app from the App Store or Google Play store. \u00a0Its a common app and you should find it with relative ease. When a Web user tries to login for the first time they will be asked to scan a QR code in the Google Authenticator app. \u00a0From there the user will need to enter in a code presented in the app for the Softswitch. \u00a0This code is regularly changed according to the current time. \u00a0The code (a 6 digit number) is valid within less then a minute, this users will have to enter it in time to prove they have the necessary credentials to enter into the site. \u00a0This check is done every time user performs login going forward and we strongly suggest this feature be enabled for all regular web users.</p><p><br></p><p>Sippy Software Inc. does recommend using Google Authenticator but we should point out one important thing about using Google Authenticator. \u00a0This service relies on the fact that user will always have access to the device with installed Google Authenticator app that was used to setup the MFA. \u00a0If for some (unfortunate) reason you lose or damage your device you will need to start working on some recovery methods to try and regain access to the application. \u00a0Our Support team will only be able to assist those who have active support agreements and not the individual web user accounts created at this time. \u00a0Please refer to the following link to troubleshoot your scenario further: <a href=\"https://support.google.com/accounts/answer/185834?hl=en\" target=\"_top\">https://support.google.com/accounts/answer/185834?hl=en</a>\u00a0</p><p><br></p><h2>How to enable MFA, Email Verification and Google Authenticator</h2><p>MFA is enabled through the System Parameters or new menu called Security Settings that could be accessed in Environment's advanced parameters. There is a dropdown list with E-Mail Token, and Google Authenticator:</p><p><img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3056264093/original/AXTCseI9d7NyPxYTEZl6g50XfNPNxE1yHA.jpg?1598369884\" style=\"width: 505px;\" class=\"fr-fil fr-dib\" data-attachment=\"[object Object]\" data-id=\"3056264093\"></p><p>Once MFA is configured, system would display the warning about enabling MFA, though changes would be applied only after press of Save button.</p><p>The E-Mail Token MFA system stores IP address and User Agent information as well. \u00a0The Softswitch will be able to identify cases where login may happen with an unfamiliar IP address and User agents though when using google authenticator this data is not needed as MFA check is triggered at every login (another reason why it's a better security tool).</p><p><br></p><p><br></p><p><br></p>",
    "description_text": " Introduction  We're pleased to announce some new changes coming up in our Sippy 2020 Version. \u00a0We will be introducing Multi Factored Authentication methods for our soft switch. \u00a0This feature will help switch operators to ensure those who have web access are verified before accessing the web interface of your switch. \u00a0We have added two new methods to ensure your switch is protected - a simple Email based Authentication method and Google Authenticator.     What is 2 Factor Authentication (2FA) and Multi-factor Authentication?  2 Factor Authentication is a way to enhance security of your system. \u00a0In versions of our software from 5.2 and earlier we require simply a user name and password. \u00a0In practical terms access to the web interface relies just on something a user knows (user name and password). \u00a0A malicious user might try to brute force or guess the credentials to gain access to the system with some time and effort - thereby gaining access to something only the web user should know. \u00a02 Factor authentication extends this concept by adding another factor that the malicious user must try to obtain - making it much harder to gain access to the closed system. \u00a0In 2 factor authentication we still ask for something a user knows but we will now also ask for something the User has.     Multi factor authentication relies on two or more of these methods to prove your identity to the switch. \u00a0New to our Sippy 2020 version will be two methods to ensure users have the right credentials to enter the site. \u00a0\u00a0     Method 1: Email Based 2 Factor Authentication.  We will start with the most basic form of 2 factor authentication with an email based system. \u00a0All Web users (excluding accounts for the time being) will need to have an email address tied to their user profile. \u00a0Once an email address is attached then email verification can take place. \u00a0After successful Authentication using login&password, users will receive an email from the softswitch with a URL they will need to click on to continue on with their typical workflow or alternatively copy the security token into the web page presented on the web interface. \u00a0This security token represents something the user has and can verify their login access accordingly.     Switch operators will be able to define the Token Expiration and Token Validation period. \u00a0The tokens by default will expire within 5 minutes from being generated but this is configurable up to 1 hour. \u00a0A new token can always be created if you are unable to login within this time period but it will invalidate older tokens. \u00a0The validation period reflects how long a user can go for without verifying their user profile. \u00a0The validation period is set to 90 days by default and needs to be within 1 day to one year. \u00a0Both of these parameters can be set in the System Configuration table.     These emails can be localized on the users specific language and are saved in ./templates/{language_code}/mfa_verification_token.txt.     Method 2: Google Authenticator  Google offers a good 2 factor authentication model that we particularly like. \u00a0Users will have to download the Google Authenticator app from the App Store or Google Play store. \u00a0Its a common app and you should find it with relative ease. When a Web user tries to login for the first time they will be asked to scan a QR code in the Google Authenticator app. \u00a0From there the user will need to enter in a code presented in the app for the Softswitch. \u00a0This code is regularly changed according to the current time. \u00a0The code (a 6 digit number) is valid within less then a minute, this users will have to enter it in time to prove they have the necessary credentials to enter into the site. \u00a0This check is done every time user performs login going forward and we strongly suggest this feature be enabled for all regular web users.     Sippy Software Inc. does recommend using Google Authenticator but we should point out one important thing about using Google Authenticator. \u00a0This service relies on the fact that user will always have access to the device with installed Google Authenticator app that was used to setup the MFA. \u00a0If for some (unfortunate) reason you lose or damage your device you will need to start working on some recovery methods to try and regain access to the application. \u00a0Our Support team will only be able to assist those who have active support agreements and not the individual web user accounts created at this time. \u00a0Please refer to the following link to troubleshoot your scenario further: https://support.google.com/accounts/answer/185834?hl=en\u00a0     How to enable MFA, Email Verification and Google Authenticator  MFA is enabled through the System Parameters or new menu called Security Settings that could be accessed in Environment's advanced parameters. There is a dropdown list with E-Mail Token, and Google Authenticator:    Once MFA is configured, system would display the warning about enabling MFA, though changes would be applied only after press of Save button.  The E-Mail Token MFA system stores IP address and User Agent information as well. \u00a0The Softswitch will be able to identify cases where login may happen with an unfamiliar IP address and User agents though when using google authenticator this data is not needed as MFA check is triggered at every login (another reason why it's a better security tool).          ",
    "seo_data": {
      "meta_title": "",
      "meta_description": "",
      "meta_keywords": ""
    },
    "tags": [
      "MFA",
      "Google Authenticator",
      "2FA",
      "Authentication",
      "Web",
      "users",
      "Security"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 0,
    "thumbs_down": 0,
    "hits": 112,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000097151,
    "type": 1,
    "status": 2,
    "agent_id": 3012089524,
    "created_at": "2020-02-24T22:14:08Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Support for reliable provisional responses (PRACK) - RFC3262",
    "updated_at": "2020-02-26T16:05:08Z",
    "description": "<p style='margin: 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-style: initial; text-decoration-color: initial;'>As part of our Sippy Softswitch v5.3 we will be introducing support for provisional responses as specified by RFC3262.</p><p style='margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-style: initial; text-decoration-color: initial;'>The Softswitch is capable of sending PRACK message when requested by caller UA and recognizes and confirms the PRACK messages received from vendor.</p><p style='margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-style: initial; text-decoration-color: initial;'>The softswitch relies on the presence of RSeq: SIP Header in the provisional response when deciding whether to negotiate it reliably. \u00a0This is to help increase tolerance for external UAs that might not use this approach.</p><p style='margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-style: initial; text-decoration-color: initial;'>A per-environment configuration option exists which allows to send to all vendors either 'Require: 100rel' or 'Supported: 100rel' SIP header in the outgoing INVITE.</p><p style='margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-style: initial; text-decoration-color: initial;'>The Sippy Softswitch uses the recommended by RFC3262 behavior and waits for acknowledgement for each and every reliable response before sending a next one.</p><p style='margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-style: initial; text-decoration-color: initial;'>More information on PRACK can be found here in <a href=\"https://www.ietf.org/rfc/rfc3262.txt\" rel=\"noopener noreferrer\" target=\"_blank\"><strong>RFC3262</strong></a><strong>.</strong></p>",
    "description_text": " As part of our Sippy Softswitch v5.3 we will be introducing support for provisional responses as specified by RFC3262.  The Softswitch is capable of sending PRACK message when requested by caller UA and recognizes and confirms the PRACK messages received from vendor.  The softswitch relies on the presence of RSeq: SIP Header in the provisional response when deciding whether to negotiate it reliably. \u00a0This is to help increase tolerance for external UAs that might not use this approach.  A per-environment configuration option exists which allows to send to all vendors either 'Require: 100rel' or 'Supported: 100rel' SIP header in the outgoing INVITE.  The Sippy Softswitch uses the recommended by RFC3262 behavior and waits for acknowledgement for each and every reliable response before sending a next one.  More information on PRACK can be found here in RFC3262. ",
    "seo_data": {
      "meta_title": "",
      "meta_description": ""
    },
    "tags": [
      "RFC3262",
      "PRACK"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 0,
    "thumbs_down": 0,
    "hits": 56,
    "suggested": 0,
    "feedback_count": 0
  },
  {
    "id": 3000105429,
    "type": 1,
    "status": 2,
    "agent_id": 3901167,
    "created_at": "2021-02-03T10:07:15Z",
    "category_id": 81138,
    "folder_id": 134069,
    "title": "Post Authentication rules",
    "updated_at": "2021-02-04T07:52:46Z",
    "description": "<p>The new feature was added in order to add more flexibility to configuration of routing and authorization.</p><p>It allows to change the previously selected Tariff and Routing Group, that is especially useful for scenario with Digest Authentication or calls authenticated via DID.</p><p>It's also possible to rewrite <strong>CLI</strong> and <strong>CLD</strong> with corresponding Translation Rules on that stage.</p><p><br></p><p><strong>Post Authentication rules</strong> are configured on per-account basis and accept the following incoming parameters:</p><ul><li><strong>Remote IP</strong></li><li><strong>CLI</strong></li><li><strong>CLD</strong></li></ul><p style=\"text-align: center;\"><strong><span style=\"font-size: 24px;\">Call processing diagram:</span></strong></p><p style=\"text-align: center;\">\u00a0 \u00a0 \u00a0 \u00a0<img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3060945233/original/Y1ho_dlLk_NHawwnHPonI6A4lV5Q2035Fg.png?1612345204\" style=\"width: auto;\" class=\"fr-fic fr-dib\" data-attachment=\"[object Object]\" data-id=\"3060945233\">\u00a0</p><p><br></p><p>Based on schema above, one of the possible scenarios where <strong>Post Authentication</strong> is needed is when the call should be routed through non-default Routing Group. For example, call got authenticated with VoIP username + VoIP password, but based on <strong>Remote IP/</strong><strong>I</strong><span style='color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;'><strong>ncoming\u00a0</strong></span><strong>CLI/</strong><strong>I</strong><span style='color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;'><strong>ncoming</strong></span><strong><span style='color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;'>\u00a0</span>CLD</strong> it's needed to change Tariff for this call and route it through another Routing Group.</p><p>To achieve it, add new <strong>Post Authentication Rule</strong> with <strong>Remote IP</strong> of call's originator, <strong>Incoming CLI</strong> and <strong>Incoming CLD\u00a0</strong>and specify the desired <strong>Tariff</strong> and <strong>Routing Group</strong>, if needed add the <strong>CLI</strong> or <strong>CLD Translation Rules</strong></p><p><br></p><p><br></p><h3 data-identifyelement=\"731\" style='box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-weight: 400; line-height: 30.63px; color: rgb(0, 0, 0); margin: 0px; font-size: 1.17em; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;'><strong data-identifyelement=\"733\" style=\"box-sizing: border-box; font-weight: 700;\">Additional Reading</strong></h3><p>- <a href=\"https://support.sippysoft.com/en/support/solutions/articles/77553-understanding-authentication\">Understanding Authentication</a> - How to setup the authentication of the call</p><div data-identifyelement=\"734\" style='box-sizing: border-box; word-break: normal; overflow-wrap: break-word; font-size: 13px; line-height: 18px; color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;'><strong data-identifyelement=\"735\" style=\"box-sizing: border-box; font-weight: 700;\">-\u00a0</strong><a data-identifyelement=\"736\" href=\"http://support.sippysoft.com/solution/articles/77869-understanding-number-translation\" rel=\"noreferrer noopener\" style=\"box-sizing: border-box; background-color: transparent; color: rgb(44, 92, 197); text-decoration: none; user-select: auto; line-height: 16px;\" target=\"\">Understanding Number Translation</a> - How to perform CLI/CLD Translations for prefix and number manipulation.</div><p data-identifyelement=\"737\" style='box-sizing: border-box; margin: 0px; font-size: 13px; line-height: 18px; word-break: normal; overflow-wrap: break-word; color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;'><strong data-identifyelement=\"738\" style=\"box-sizing: border-box; font-weight: 700;\">-</strong> <a data-identifyelement=\"739\" href=\"http://support.sippysoft.com/solution/articles/89038-configuring-your-new-softswitch\" rel=\"noreferrer noopener\" style=\"box-sizing: border-box; background-color: transparent; color: rgb(44, 92, 197); text-decoration: none; user-select: auto; line-height: 16px;\" target=\"\">Configuring your new Softswitch</a> - Configuring Sippy to pass calls through Softswitch using Digest Authentication.</p><div data-identifyelement=\"734\" style='box-sizing: border-box; word-break: normal; overflow-wrap: break-word; font-size: 13px; line-height: 18px; color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;'><strong data-identifyelement=\"735\" style=\"box-sizing: border-box; font-weight: 700;\">-\u00a0</strong><a data-identifyelement=\"736\" href=\"https://support.sippysoft.com/en/support/solutions/articles/3000063563-test-dialplan\" style=\"box-sizing: border-box; background-color: transparent; color: rgb(44, 92, 197); text-decoration: none; user-select: auto; line-height: 16px;\">Test Dialplan</a> - <span style='box-sizing: border-box; color: rgb(24, 50, 71); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;'>Check the configuration of the system on how an incoming call is expected to be authenticated and routed within the system, with all charges applied.</span></div>",
    "description_text": " The new feature was added in order to add more flexibility to configuration of routing and authorization.  It allows to change the previously selected Tariff and Routing Group, that is especially useful for scenario with Digest Authentication or calls authenticated via DID.  It's also possible to rewrite CLI and CLD with corresponding Translation Rules on that stage.     Post Authentication rules are configured on per-account basis and accept the following incoming parameters:   Remote IP  CLI  CLD   Call processing diagram:  \u00a0 \u00a0 \u00a0 \u00a0\u00a0     Based on schema above, one of the possible scenarios where Post Authentication is needed is when the call should be routed through non-default Routing Group. For example, call got authenticated with VoIP username + VoIP password, but based on Remote IP/Incoming\u00a0CLI/Incoming\u00a0CLD it's needed to change Tariff for this call and route it through another Routing Group.  To achieve it, add new Post Authentication Rule with Remote IP of call's originator, Incoming CLI and Incoming CLD\u00a0and specify the desired Tariff and Routing Group, if needed add the CLI or CLD Translation Rules        Additional Reading  - Understanding Authentication - How to setup the authentication of the call  -\u00a0Understanding Number Translation - How to perform CLI/CLD Translations for prefix and number manipulation.  - Configuring your new Softswitch - Configuring Sippy to pass calls through Softswitch using Digest Authentication.  -\u00a0Test Dialplan - Check the configuration of the system on how an incoming call is expected to be authenticated and routed within the system, with all charges applied. ",
    "seo_data": {
      "meta_title": "",
      "meta_description": ""
    },
    "tags": [
      "Authentication",
      "number translation",
      "Routing",
      "Tariffs",
      "SS-4040",
      "post-auth-rules"
    ],
    "attachments": [],
    "cloud_files": [],
    "thumbs_up": 0,
    "thumbs_down": 0,
    "hits": 98,
    "suggested": 0,
    "feedback_count": 0
  }
]