{
  "id": 77497,
  "type": 1,
  "status": 2,
  "agent_id": 3763909,
  "created_at": "2013-04-19T12:11:42Z",
  "category_id": 81138,
  "folder_id": 133138,
  "title": "Vendors and Connections",
  "updated_at": "2021-08-10T14:43:41Z",
  "description": "<h3><span style=\"font-size: 18px;\">Vendors and Connections</span></h3><p><br></p><h3><span style=\"font-size: 18px;\">Vendors</span></h3><p><br>Vendors are logical entries in the system representing carries to which calls will be sent for termination. Each Connection belongs to only one Vendor, while a Vendor can have many Connections that belong to it.<br><br>The following figure illustrates this concept:</p><p><br></p><p><img style=\"cursor: default;\" src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/4990313/original/Vendors_and_connections.png?1366373287\" class=\"fr-dii\"></p><p><br></p><p>Here you can see a system which has 6 connections that correspond to 3 different vendors. &nbsp;Each connection represents a separate SIP-PSTN gateway located in a different place. &nbsp; &nbsp;</p><h3><br></h3><h3><span style=\"font-size: 18px;\">Connections</span></h3><p><br>Connections are logical entries in the system representing call destinations. &nbsp;For example, a Connection can represent a specific SIP-PSTN gateway in your network, another SIP softswitch that belongs to your termination provider, some SIP IVR, a conference server, etc.</p><p><br></p><h3><span style=\"font-size: 18px;\">Connection Parameters</span></h3><p><br>Each Connection has several parameters associated with it:</p><p><br></p><ul><li><em><strong>Destination</strong></em> \u2013 IP address or DNS name of the remote SIP device/software where outgoing calls will be sent</li><li><em><strong>Username</strong></em> \u2013 username associated with the SIP digest authentication (if required by the Connection destination)</li><li><em><strong>Password</strong></em> \u2013 password associated with the SIP digest authentication (if required by the Connection destination)</li><li><em><strong>CLD Translation Rule</strong></em> \u2013 translation rule applied to the CLD before sending the outgoing call to the Connection destination</li><li><em><strong>CLI Translation Rule</strong></em> \u2013 translation rule to be applied to the CLI before sending the outgoing call to the Connection destination</li><li><em><strong>Capacity</strong></em> \u2013 maximum number of simultaneous calls accepted by the Connection destination. Value of \"-1\" means that there is no limit</li><li><em><strong>Enforce Capacity</strong></em> \u2013 if enabled instructs the Softswitch to limit (by the value of the Capacity parameter) the number of simultaneous calls established to a particular Connection</li><li><strong><em>Use Media Relay</em></strong> \u2013 policy for using media relay (RTPProxy) when calls are sent to the Connection, &nbsp;see more details here <a href=\"https://support.sippysoft.com/solution/articles/3000051482-media-relay-usage-cases\" rel=\"noreferrer\">https://support.sippysoft.com/solution/articles/3000051482-media-relay-usage-cases</a></li><li><strong>Preferred Media Relay</strong> - option to select between built-in RTP proxy and external media gateway (if you have one)&nbsp;</li><li><span rel=\"tempredactor\"><strong><em>Single Outbound Port&nbsp;</em></strong>- when enabled, SIP requests would be sent from the 5060 port, otherwise they would be sent from one of the B2BUA ports configured in the system ( for example, 5061,5065,5066,5067,5068,5069,5070,5071)</span></li><li><em><strong>Huntstop SIP Codes</strong></em> \u2013 comma-separated list (without spaces) of SIP \"final negative response\" codes (e.g: 486,503,501). If any of the codes is received from the Connection, the Softswitch stops hunting (i.e. it prevents the switch from trying to connect the call to an alternative Connection). &nbsp;For example, if a particular Connection is known to correctly report when the PSTN destination number is busy by sending 486 \"Busy Here\". &nbsp;The parameter can be set to 486. &nbsp;Huntstop is applied to any SIP codes like 500, or 486. &nbsp;The Huntsop parameter also works for 1xx SIP codes, like 180, and 183 - <em>this is a recent change available starting from Sippy 5.0&nbsp;</em>(<strong>\u00a9 2019</strong>)</li><li><strong><em>Outbound proxy&nbsp;</em></strong>- is a feature that allows you to set a specific outgoing IP and port for the INVITE message (e.g. vendor connection IP), so that the INVITE packet will be sent to the defined &lt;IP:port&gt; named in the 'Outbound proxy' field. &nbsp;The request URI field will contain the &lt;IP:port&gt; from the 'Destination' field</li><li><p>&nbsp;<strong>Allowed RURI Params</strong> - The field \"connections.pass_ruri_params\" contains a comma separated list of parameter names that pass information to the Vendor such as \"User\" or remove information such as \"Test\" from the invite. For example :</p></li></ul><p style=\"text-align: left;\">INVITE sip:120650024495@223.49.26.5;user=phone;test=value SIP/2.0</p><p><br></p><p>In the example above, the connections.pass_ruri_params contains 'user'. &nbsp;If both parameters should be passed then the connections.pass_ruri_params needs to contain 'user,test'</p><p><br></p><ul><li><strong>Max CPS-</strong> maximum allowed number of outbound call attempts per second for a connection</li><li><strong>Blocked</strong> - if checked, the connection will not be used in routing</li><li><strong>Random Call-Id&nbsp;</strong>- select this option to generate a call ID to replace the one from the inbound invite</li><li><strong>Ignore LRN</strong> - do not perform LRN dipping</li><li><strong>Reply Timeout, sec</strong> - the time that Sippy will wait for the \"100\" reply before trying the next connection</li><li><strong>Outbound IP</strong> - source IP that will be used in outbound messages to the Vendor</li><li>&nbsp;<strong>Enable Diversion</strong> - enables the header mentioned, see <a href=\"https://support.sippysoft.com/solution/articles/3000061100-diversion-header-support-per-rfc5806\" rel=\"noreferrer\">https://support.sippysoft.com/solution/articles/3000061100-diversion-header-support-per-rfc5806</a></li><li>&nbsp;<strong>From Domain</strong> - modifies the Invite to a Vendor by changing the IP in the \"From\" field to a domain name</li><li><strong>&nbsp;Accept 3xx Redirects</strong> - selecting this option allows the switch to accept and process 3xx responses. &nbsp;Read more in this article: <a href=\"https://support.sippysoft.com/solution/articles/3000072772-support-for-3xx-sip-redirect-response-codes\" rel=\"noreferrer\">https://support.sippysoft.com/solution/articles/3000072772-support-for-3xx-sip-redirect-response-codes</a></li><li>&nbsp;<strong>Redirect Depth Limit&nbsp;</strong>- setting which controls the maximum number of subsequent redirects when a redirected call receives a 3xx response. &nbsp;In case of a \"300 Multiple Choices\" redirect, the \"Redirect Depth Limit\" restricts the maximum number of hunt attempts</li><li>&nbsp;<strong>Privacy Mode&nbsp;</strong>- this setting replaces the CLI with a number received from the caller in either P-Asserted-Identity or Remote-Party-ID header format. &nbsp;See sample uses below:<ul><li>Off - neither the P-Asserted-Identity number, nor the Remote-Party-ID header would affect the CLI that is sent to the Vendor</li><li>P-Asserted-Identity - the CLI would be replaced with the number from the P-Asserted-Identity header. &nbsp;If a CLI translation rule is configured for the Connection, it will be applied to the P-Asserted-Identity number before the INVITE is sent to the vendor</li><li>Remote-Party-ID - the CLI would be replaced with the number from the Remote-Party-ID header. &nbsp;If a CLI translation rule is configured for the Connection, it will be applied to the Remote-Party-ID number before the INVITE is sent to the Vendor</li></ul></li><li><strong>Use CLI as P-Asserted-Id&nbsp;</strong> - support For SIP Asserted Identity within Trusted Networks, see <a href=\"https://support.sippysoft.com/solution/categories/81138/folders/134069/articles/84156-support-for-sip-asserted-identity-within-trusted-networks-rfc-3325-\" rel=\"noreferrer\"></a><a href=\"https://support.sippysoft.com/en/support/solutions/articles/84156-support-for-sip-asserted-identity-within-trusted-networks-rfc-3325-\">https://support.sippysoft.com/en/support/solutions/articles/84156-support-for-sip-asserted-identity-within-trusted-networks-rfc-3325-</a></li><li><strong>Asserted-Id Tr. Rule&nbsp;</strong>- translation rule which permits the changing of the outgoing Asserted Identity. &nbsp;The translation rule is always applied to the Asserted Identity whether it was received through the incoming call or it was generated locally. &nbsp;If the translation results in an empty string then the P-Asserted-Identity header is not sent at all</li><li><strong>Diversion Header</strong> - the switch operator can set the Diversion Header Tr. Rule in order to change the Diversion number according to the requirements of the Vendor. &nbsp; Read more in this article: <a href=\"https://support.sippysoft.com/solution/articles/3000061100-diversion-header-support-per-rfc5806\" rel=\"noreferrer\">https://support.sippysoft.com/solution/articles/3000061100-diversion-header-support-per-rfc5806</a></li></ul>",
  "description_text": " Vendors and Connections     Vendors   Vendors are logical entries in the system representing carries to which calls will be sent for termination. Each Connection belongs to only one Vendor, while a Vendor can have many Connections that belong to it.  The following figure illustrates this concept:          Here you can see a system which has 6 connections that correspond to 3 different vendors. \u00a0Each connection represents a separate SIP-PSTN gateway located in a different place. \u00a0 \u00a0     Connections   Connections are logical entries in the system representing call destinations. \u00a0For example, a Connection can represent a specific SIP-PSTN gateway in your network, another SIP softswitch that belongs to your termination provider, some SIP IVR, a conference server, etc.     Connection Parameters   Each Connection has several parameters associated with it:      Destination \u2013 IP address or DNS name of the remote SIP device/software where outgoing calls will be sent  Username \u2013 username associated with the SIP digest authentication (if required by the Connection destination)  Password \u2013 password associated with the SIP digest authentication (if required by the Connection destination)  CLD Translation Rule \u2013 translation rule applied to the CLD before sending the outgoing call to the Connection destination  CLI Translation Rule \u2013 translation rule to be applied to the CLI before sending the outgoing call to the Connection destination  Capacity \u2013 maximum number of simultaneous calls accepted by the Connection destination. Value of \"-1\" means that there is no limit  Enforce Capacity \u2013 if enabled instructs the Softswitch to limit (by the value of the Capacity parameter) the number of simultaneous calls established to a particular Connection  Use Media Relay \u2013 policy for using media relay (RTPProxy) when calls are sent to the Connection, \u00a0see more details here https://support.sippysoft.com/solution/articles/3000051482-media-relay-usage-cases  Preferred Media Relay - option to select between built-in RTP proxy and external media gateway (if you have one)\u00a0  Single Outbound Port\u00a0- when enabled, SIP requests would be sent from the 5060 port, otherwise they would be sent from one of the B2BUA ports configured in the system ( for example, 5061,5065,5066,5067,5068,5069,5070,5071)  Huntstop SIP Codes \u2013 comma-separated list (without spaces) of SIP \"final negative response\" codes (e.g: 486,503,501). If any of the codes is received from the Connection, the Softswitch stops hunting (i.e. it prevents the switch from trying to connect the call to an alternative Connection). \u00a0For example, if a particular Connection is known to correctly report when the PSTN destination number is busy by sending 486 \"Busy Here\". \u00a0The parameter can be set to 486. \u00a0Huntstop is applied to any SIP codes like 500, or 486. \u00a0The Huntsop parameter also works for 1xx SIP codes, like 180, and 183 - this is a recent change available starting from Sippy 5.0\u00a0(\u00a9 2019)  Outbound proxy\u00a0- is a feature that allows you to set a specific outgoing IP and port for the INVITE message (e.g. vendor connection IP), so that the INVITE packet will be sent to the defined <IP:port> named in the 'Outbound proxy' field. \u00a0The request URI field will contain the <IP:port> from the 'Destination' field   \u00a0Allowed RURI Params - The field \"connections.pass_ruri_params\" contains a comma separated list of parameter names that pass information to the Vendor such as \"User\" or remove information such as \"Test\" from the invite. For example :    INVITE sip:120650024495@223.49.26.5;user=phone;test=value SIP/2.0     In the example above, the connections.pass_ruri_params contains 'user'. \u00a0If both parameters should be passed then the connections.pass_ruri_params needs to contain 'user,test'      Max CPS- maximum allowed number of outbound call attempts per second for a connection  Blocked - if checked, the connection will not be used in routing  Random Call-Id\u00a0- select this option to generate a call ID to replace the one from the inbound invite  Ignore LRN - do not perform LRN dipping  Reply Timeout, sec - the time that Sippy will wait for the \"100\" reply before trying the next connection  Outbound IP - source IP that will be used in outbound messages to the Vendor  \u00a0Enable Diversion - enables the header mentioned, see https://support.sippysoft.com/solution/articles/3000061100-diversion-header-support-per-rfc5806  \u00a0From Domain - modifies the Invite to a Vendor by changing the IP in the \"From\" field to a domain name  \u00a0Accept 3xx Redirects - selecting this option allows the switch to accept and process 3xx responses. \u00a0Read more in this article: https://support.sippysoft.com/solution/articles/3000072772-support-for-3xx-sip-redirect-response-codes  \u00a0Redirect Depth Limit\u00a0- setting which controls the maximum number of subsequent redirects when a redirected call receives a 3xx response. \u00a0In case of a \"300 Multiple Choices\" redirect, the \"Redirect Depth Limit\" restricts the maximum number of hunt attempts  \u00a0Privacy Mode\u00a0- this setting replaces the CLI with a number received from the caller in either P-Asserted-Identity or Remote-Party-ID header format. \u00a0See sample uses below:  Off - neither the P-Asserted-Identity number, nor the Remote-Party-ID header would affect the CLI that is sent to the Vendor  P-Asserted-Identity - the CLI would be replaced with the number from the P-Asserted-Identity header. \u00a0If a CLI translation rule is configured for the Connection, it will be applied to the P-Asserted-Identity number before the INVITE is sent to the vendor  Remote-Party-ID - the CLI would be replaced with the number from the Remote-Party-ID header. \u00a0If a CLI translation rule is configured for the Connection, it will be applied to the Remote-Party-ID number before the INVITE is sent to the Vendor    Use CLI as P-Asserted-Id\u00a0 - support For SIP Asserted Identity within Trusted Networks, see https://support.sippysoft.com/en/support/solutions/articles/84156-support-for-sip-asserted-identity-within-trusted-networks-rfc-3325-  Asserted-Id Tr. Rule\u00a0- translation rule which permits the changing of the outgoing Asserted Identity. \u00a0The translation rule is always applied to the Asserted Identity whether it was received through the incoming call or it was generated locally. \u00a0If the translation results in an empty string then the P-Asserted-Identity header is not sent at all  Diversion Header - the switch operator can set the Diversion Header Tr. Rule in order to change the Diversion number according to the requirements of the Vendor. \u00a0 Read more in this article: https://support.sippysoft.com/solution/articles/3000061100-diversion-header-support-per-rfc5806  ",
  "seo_data": {
    "meta_title": "",
    "meta_description": "",
    "meta_keywords": ""
  },
  "tags": [
    "Vendor Connections",
    "Connections",
    "SIP Response Code Mapping"
  ],
  "attachments": [],
  "cloud_files": [],
  "thumbs_up": 13,
  "thumbs_down": 10,
  "hits": 3885,
  "suggested": 0,
  "feedback_count": 0,
  "collaboration": {
    "convo_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJUeXBlIjoiYXJ0aWNsZSIsIkNvbnZvSWQiOiI3NzQ5Ny1lbiIsIlVzZXJJZCI6IjMwMTIwODk1MjQiLCJleHAiOjE2MzUzNzEwMTJ9.1ll6HG9ZZXyrl8ZNRyXNs8BfRxWq65K722abHxEqx9w"
  }
}