{
  "id": 3000105429,
  "type": 1,
  "status": 2,
  "agent_id": 3901167,
  "created_at": "2021-02-03T10:07:15Z",
  "category_id": 81138,
  "folder_id": 134069,
  "title": "Post Authentication rules",
  "updated_at": "2021-02-04T07:52:46Z",
  "description": "<p>The new feature was added in order to add more flexibility to configuration of routing and authorization.</p><p>It allows to change the previously selected Tariff and Routing Group, that is especially useful for scenario with Digest Authentication or calls authenticated via DID.</p><p>It's also possible to rewrite <strong>CLI</strong> and <strong>CLD</strong> with corresponding Translation Rules on that stage.</p><p><br></p><p><strong>Post Authentication rules</strong> are configured on per-account basis and accept the following incoming parameters:</p><ul><li><strong>Remote IP</strong></li><li><strong>CLI</strong></li><li><strong>CLD</strong></li></ul><p style=\"text-align: center;\"><strong><span style=\"font-size: 24px;\">Call processing diagram:</span></strong></p><p style=\"text-align: center;\">\u00a0 \u00a0 \u00a0 \u00a0<img src=\"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/3060945233/original/Y1ho_dlLk_NHawwnHPonI6A4lV5Q2035Fg.png?1612345204\" style=\"width: auto;\" class=\"fr-fic fr-dib\" data-attachment=\"[object Object]\" data-id=\"3060945233\">\u00a0</p><p><br></p><p>Based on schema above, one of the possible scenarios where <strong>Post Authentication</strong> is needed is when the call should be routed through non-default Routing Group. For example, call got authenticated with VoIP username + VoIP password, but based on <strong>Remote IP/</strong><strong>I</strong><span style='color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;'><strong>ncoming\u00a0</strong></span><strong>CLI/</strong><strong>I</strong><span style='color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;'><strong>ncoming</strong></span><strong><span style='color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;'>\u00a0</span>CLD</strong> it's needed to change Tariff for this call and route it through another Routing Group.</p><p>To achieve it, add new <strong>Post Authentication Rule</strong> with <strong>Remote IP</strong> of call's originator, <strong>Incoming CLI</strong> and <strong>Incoming CLD\u00a0</strong>and specify the desired <strong>Tariff</strong> and <strong>Routing Group</strong>, if needed add the <strong>CLI</strong> or <strong>CLD Translation Rules</strong></p><p><br></p><p><br></p><h3 data-identifyelement=\"731\" style='box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-weight: 400; line-height: 30.63px; color: rgb(0, 0, 0); margin: 0px; font-size: 1.17em; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;'><strong data-identifyelement=\"733\" style=\"box-sizing: border-box; font-weight: 700;\">Additional Reading</strong></h3><p>- <a href=\"https://support.sippysoft.com/en/support/solutions/articles/77553-understanding-authentication\">Understanding Authentication</a> - How to setup the authentication of the call</p><div data-identifyelement=\"734\" style='box-sizing: border-box; word-break: normal; overflow-wrap: break-word; font-size: 13px; line-height: 18px; color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;'><strong data-identifyelement=\"735\" style=\"box-sizing: border-box; font-weight: 700;\">-\u00a0</strong><a data-identifyelement=\"736\" href=\"http://support.sippysoft.com/solution/articles/77869-understanding-number-translation\" rel=\"noreferrer noopener\" style=\"box-sizing: border-box; background-color: transparent; color: rgb(44, 92, 197); text-decoration: none; user-select: auto; line-height: 16px;\" target=\"\">Understanding Number Translation</a> - How to perform CLI/CLD Translations for prefix and number manipulation.</div><p data-identifyelement=\"737\" style='box-sizing: border-box; margin: 0px; font-size: 13px; line-height: 18px; word-break: normal; overflow-wrap: break-word; color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;'><strong data-identifyelement=\"738\" style=\"box-sizing: border-box; font-weight: 700;\">-</strong> <a data-identifyelement=\"739\" href=\"http://support.sippysoft.com/solution/articles/89038-configuring-your-new-softswitch\" rel=\"noreferrer noopener\" style=\"box-sizing: border-box; background-color: transparent; color: rgb(44, 92, 197); text-decoration: none; user-select: auto; line-height: 16px;\" target=\"\">Configuring your new Softswitch</a> - Configuring Sippy to pass calls through Softswitch using Digest Authentication.</p><div data-identifyelement=\"734\" style='box-sizing: border-box; word-break: normal; overflow-wrap: break-word; font-size: 13px; line-height: 18px; color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;'><strong data-identifyelement=\"735\" style=\"box-sizing: border-box; font-weight: 700;\">-\u00a0</strong><a data-identifyelement=\"736\" href=\"https://support.sippysoft.com/en/support/solutions/articles/3000063563-test-dialplan\" style=\"box-sizing: border-box; background-color: transparent; color: rgb(44, 92, 197); text-decoration: none; user-select: auto; line-height: 16px;\">Test Dialplan</a> - <span style='box-sizing: border-box; color: rgb(24, 50, 71); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;'>Check the configuration of the system on how an incoming call is expected to be authenticated and routed within the system, with all charges applied.</span></div>",
  "description_text": " The new feature was added in order to add more flexibility to configuration of routing and authorization.  It allows to change the previously selected Tariff and Routing Group, that is especially useful for scenario with Digest Authentication or calls authenticated via DID.  It's also possible to rewrite CLI and CLD with corresponding Translation Rules on that stage.     Post Authentication rules are configured on per-account basis and accept the following incoming parameters:   Remote IP  CLI  CLD   Call processing diagram:  \u00a0 \u00a0 \u00a0 \u00a0\u00a0     Based on schema above, one of the possible scenarios where Post Authentication is needed is when the call should be routed through non-default Routing Group. For example, call got authenticated with VoIP username + VoIP password, but based on Remote IP/Incoming\u00a0CLI/Incoming\u00a0CLD it's needed to change Tariff for this call and route it through another Routing Group.  To achieve it, add new Post Authentication Rule with Remote IP of call's originator, Incoming CLI and Incoming CLD\u00a0and specify the desired Tariff and Routing Group, if needed add the CLI or CLD Translation Rules        Additional Reading  - Understanding Authentication - How to setup the authentication of the call  -\u00a0Understanding Number Translation - How to perform CLI/CLD Translations for prefix and number manipulation.  - Configuring your new Softswitch - Configuring Sippy to pass calls through Softswitch using Digest Authentication.  -\u00a0Test Dialplan - Check the configuration of the system on how an incoming call is expected to be authenticated and routed within the system, with all charges applied. ",
  "seo_data": {
    "meta_title": "",
    "meta_description": ""
  },
  "tags": [
    "Authentication",
    "number translation",
    "Routing",
    "Tariffs",
    "SS-4040",
    "post-auth-rules"
  ],
  "attachments": [],
  "cloud_files": [],
  "thumbs_up": 0,
  "thumbs_down": 0,
  "hits": 98,
  "suggested": 0,
  "feedback_count": 0,
  "collaboration": {
    "convo_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJUeXBlIjoiYXJ0aWNsZSIsIkNvbnZvSWQiOiIzMDAwMTA1NDI5LWVuIiwiVXNlcklkIjoiMzAxMjA4OTUyNCIsImV4cCI6MTYzNTM3MTA0M30.0fYtrIig8NzFSXP3sunqtJ2Th38oP07QEjLpZ0TLvaU"
  }
}