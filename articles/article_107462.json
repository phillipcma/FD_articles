{
  "id": 107462,
  "type": 1,
  "status": 2,
  "agent_id": 4049322,
  "created_at": "2013-07-09T18:23:40Z",
  "category_id": 107132,
  "folder_id": 176848,
  "title": "XML-RPC API - Manage Active Calls",
  "updated_at": "2020-05-28T12:13:37Z",
  "description": "<p><span style=\"font-size: 24px;\">listAllCalls()</span></p><h3>This application returns list of calls in any state. Only calls made under authenticated customer are returned. Root customer receives full list.</h3><h3><br></h3><h3>The application supports <strong>trusted mode</strong> and <strong>i_customer</strong> parameter should be supplied in this case (mandatory for trusted mode starting from 5.0)</h3><p><br></p><p>Parameters:</p><ul><li>recursive - Should the calls of subcustomers be included in the returned list (new in post 1.7.1). Boolean. Optional. Default: True</li><li>i_account - Return only calls which belong to the specified account. Integer. Optional. (<strong>Available starting in v5.3</strong>)</li><li>i_vendor - Return only calls which are currently routed via a connection belonging to the specified vendor. Integer. Optional. (<strong>Available starting in v5.3</strong>)</li><li>i_connection - Return only calls which are currently routed via the specified connection. This parameter takes precedence over the i_vendor parameter. Integer. Optional. (<strong>Available starting in v5.3</strong>)</li><li>order - How to order calls. String. Optional. (<strong>Available Starting in v5.3</strong>). Possible values:<ul><li>oldest_first (default)</li><li>oldest_last</li><li>longest_first</li><li>longest_last</li></ul></li></ul><p><br></p><p><strong>Trusted Mode:</strong></p><p>In trusted mode the i_customer integer parameter must be used to specify under which access rights this application should execute (<strong>as of &gt;=5.0</strong>)</p><p>Returns:</p><ul><li>list of dictionaries. Here is an example of returned value in Python syntax:<p><br></p><pre class=\"code-large\" contenteditable=\"false\" data-code-brush=\"text\" rel=\"highlighter\">   {\n     'B2BUA_TAG' : '',\n     'CLI' : '801',\n     'I_CONNECTION' : 1,\n     'CLD' : '812',\n     'CALL_ID' : 'd84b2a8b-44f79741@192.168.0.11',\n     'DELAY' : 2,\n     'DURATION' : 0,\n     'CC_STATE' : 'ARComplete',\n     'I_ACCOUNT' : 3,\n     'ID' : '960',\n     'I_CUSTOMER' : '1',\n     'I_ENVIRONMENT' : '1',\n     'CALLER_MEDIA_IP' : '192.168.22.7',\n     'CALLEE_MEDIA_IP' : '192.168.22.54'\n   {\n     'B2BUA_TAG' : '2',\n     'CLI' : '10545',\n     'I_CONNECTION' : 1,\n     'CLD' : '123456',\n     'CALL_ID' : 'c80634fb-6f7ad6fd@192.168.0.22',\n     'DELAY' : 2,\n     'DURATION' : 10,\n     'CC_STATE' : 'Connected',\n     'I_ACCOUNT' : 223,\n     'ID' : '944',\n     'I_CUSTOMER' : '1',\n     'I_ENVIRONMENT' : '1',\n     'CALLER_MEDIA_IP' : '192.168.22.2',\n     'CALLEE_MEDIA_IP' : '192.168.22.49'\n   }</pre><p><br></p><p><br></p></li><li>XMLRPC fault in case of any error.</li></ul><p><br></p><p>CC_STATE statuses and their description:</p><p><br></p><p><strong>Idle</strong> - the call has been received and the processing of the call has been started.</p><p><strong>WaitAuth</strong> - authentication procedure has started but is not yet completed.</p><p><strong>WaitRoute</strong> - authentication has been done successfully, the b2bua is waiting for routing information.</p><p><strong>ARComplete</strong> - authentication and routing have been completed, the b2bua tries to establish a connection.</p><p><strong>Connected</strong> - both call legs have connected successfully. The conversation is in progress.</p><p><strong>Disconnecting</strong> - the call is being disconnected.</p><p><strong>Dead</strong> - the call has been disconnected successfully. B2bua waits for late requests and responses which might have been delayed.</p><p><br></p><p>Data types of values in the dictionary:</p><p><br></p><table style=\"margin-right: calc(82%); width: 18%;\"><tbody><tr><td>B2BUA_TAG***</td><td>String</td></tr><tr><td>CLI</td><td>String</td></tr><tr><td>I_CONNECTION</td><td>Integer</td></tr><tr><td>CLD</td><td>String</td></tr><tr><td>CALL_ID</td><td>String</td></tr><tr><td>DELAY</td><td>Double</td></tr><tr><td>DURATION</td><td>Double</td></tr><tr><td>CC_STATE</td><td>String</td></tr><tr><td>I_CUSTOMER</td><td>Integer</td></tr><tr><td>I_ENVIRONMENT</td><td>Integer</td></tr><tr><td>I_ACCOUNT</td><td>Integer</td></tr><tr><td>ID</td><td>String</td></tr><tr><td>CALLER_MEDIA_IP*</td><td>String</td></tr><tr><td>CALLEE_MEDIA_IP*</td><td>String</td></tr><tr><td>DIRECTION **</td><td>String</td></tr></tbody></table><p><br></p><p><strong>* Available since 5.0 version.</strong></p><p><strong>** Available since 5.2 version.</strong></p><p><strong>*** Removed since late 5.0 version</strong></p><hr><p><span style=\"font-size: 24px;\">listActiveCalls()</span></p><p>This is the same as the listAllCalls application, but returns the call list containing calls in states Connected, ARComplete or WaitRoute? only.</p><hr><p><span style=\"font-size: 24px;\">disconnectCall()</span></p><p>This application is used to disconnect an active call.</p><p><br></p><p><strong>Parameters</strong>:</p><ul><li>ID - ID of the call to disconnect (see the listAllCalls application). String. Required.</li></ul><p><strong>Returns</strong>:</p><ul><li>result - OK means that disconnect request was sent successfully</li><li>result - Call not found or not accessible - means that disconnect cannot be initiated</li><li>XMLRPC fault in case of any error.</li></ul><hr><p><span style=\"font-size: 24px;\">disconnectAccount() (new in post 1.7.1)</span></p><p>This application is used to disconnect all active calls of a given account.\u00a0</p><p><br></p><p>Top level customer could also issue this API call for any account in his hierarchy, including accounts of his subcustomers.</p><p><br></p><p><strong>Parameters:</strong></p><ul><li>i_account - Integer. Required.</li></ul><p><strong>Returns:</strong></p><ul><li>result - OK means that disconnect request was sent successfully</li><li>count - number of disconnected sessions</li><li>XMLRPC fault in case of any error.</li></ul><hr><p><span style=\"font-size: 24px;\">getAccountCallStats() (new in 2.1)</span></p><p>This application is used to get aggregated statistics of active calls in the softswitch. This is a lightweight API call and it is recommended to be used instead of listAllCalls() or listActiveCalls() when summary only is needed.</p><p><br></p><p><strong>Parameters:</strong></p><p>None</p><p><strong>Returns:</strong></p><ul><li>result - OK</li><li>data - dictionary of the following format:</li></ul><p>\u00a0 \u00a0 {<br>i_account1 : [ &lt;total calls&gt;, &lt;connected calls&gt; ],<br>i_account2 : [ &lt;total calls&gt;, &lt;connected calls&gt; ],<br>\u00a0 \u00a0 }</p><ul><li>XMLRPC fault in case of any error.</li></ul><hr><p><span style=\"font-size: 24px;\">disconnectCustomer() (since 5.2)</span></p><p>This application is used to disconnect all active calls of a given customer. All calls of accounts that belong to the customer and all descendant subcustomers will be dropped.</p><p>Top level customer could also issue this API call for any subcustomer in his hierarchy, including customers of his subcustomers.</p><p><br></p><p><strong>Parameters:</strong></p><ul><li>i_customer - ID of customer. Integer. Required.</li></ul><p><br></p><p><strong>Trusted mode:</strong></p><p>In trusted mode the i_wholesaler integer parameter can be used to specify under which access rights this application should execute.</p><p><br></p><p><strong>Returns:</strong></p><ul><li>result - OK means that all calls were disconnected successfully</li><li>count - number of disconnected calls</li><li>XMLRPC fault in case of any error</li></ul>",
  "description_text": " listAllCalls()  This application returns list of calls in any state. Only calls made under authenticated customer are returned. Root customer receives full list.     The application supports trusted mode and i_customer parameter should be supplied in this case (mandatory for trusted mode starting from 5.0)     Parameters:   recursive - Should the calls of subcustomers be included in the returned list (new in post 1.7.1). Boolean. Optional. Default: True  i_account - Return only calls which belong to the specified account. Integer. Optional. (Available starting in v5.3)  i_vendor - Return only calls which are currently routed via a connection belonging to the specified vendor. Integer. Optional. (Available starting in v5.3)  i_connection - Return only calls which are currently routed via the specified connection. This parameter takes precedence over the i_vendor parameter. Integer. Optional. (Available starting in v5.3)  order - How to order calls. String. Optional. (Available Starting in v5.3). Possible values:  oldest_first (default)  oldest_last  longest_first  longest_last        Trusted Mode:  In trusted mode the i_customer integer parameter must be used to specify under which access rights this application should execute (as of >=5.0)  Returns:   list of dictionaries. Here is an example of returned value in Python syntax:       {\n     'B2BUA_TAG' : '',\n     'CLI' : '801',\n     'I_CONNECTION' : 1,\n     'CLD' : '812',\n     'CALL_ID' : 'd84b2a8b-44f79741@192.168.0.11',\n     'DELAY' : 2,\n     'DURATION' : 0,\n     'CC_STATE' : 'ARComplete',\n     'I_ACCOUNT' : 3,\n     'ID' : '960',\n     'I_CUSTOMER' : '1',\n     'I_ENVIRONMENT' : '1',\n     'CALLER_MEDIA_IP' : '192.168.22.7',\n     'CALLEE_MEDIA_IP' : '192.168.22.54'\n   {\n     'B2BUA_TAG' : '2',\n     'CLI' : '10545',\n     'I_CONNECTION' : 1,\n     'CLD' : '123456',\n     'CALL_ID' : 'c80634fb-6f7ad6fd@192.168.0.22',\n     'DELAY' : 2,\n     'DURATION' : 10,\n     'CC_STATE' : 'Connected',\n     'I_ACCOUNT' : 223,\n     'ID' : '944',\n     'I_CUSTOMER' : '1',\n     'I_ENVIRONMENT' : '1',\n     'CALLER_MEDIA_IP' : '192.168.22.2',\n     'CALLEE_MEDIA_IP' : '192.168.22.49'\n   }         XMLRPC fault in case of any error.      CC_STATE statuses and their description:     Idle - the call has been received and the processing of the call has been started.  WaitAuth - authentication procedure has started but is not yet completed.  WaitRoute - authentication has been done successfully, the b2bua is waiting for routing information.  ARComplete - authentication and routing have been completed, the b2bua tries to establish a connection.  Connected - both call legs have connected successfully. The conversation is in progress.  Disconnecting - the call is being disconnected.  Dead - the call has been disconnected successfully. B2bua waits for late requests and responses which might have been delayed.     Data types of values in the dictionary:     B2BUA_TAG***  String  CLI  String  I_CONNECTION  Integer  CLD  String  CALL_ID  String  DELAY  Double  DURATION  Double  CC_STATE  String  I_CUSTOMER  Integer  I_ENVIRONMENT  Integer  I_ACCOUNT  Integer  ID  String  CALLER_MEDIA_IP*  String  CALLEE_MEDIA_IP*  String  DIRECTION **  String     * Available since 5.0 version.  ** Available since 5.2 version.  *** Removed since late 5.0 version   listActiveCalls()  This is the same as the listAllCalls application, but returns the call list containing calls in states Connected, ARComplete or WaitRoute? only.   disconnectCall()  This application is used to disconnect an active call.     Parameters:   ID - ID of the call to disconnect (see the listAllCalls application). String. Required.   Returns:   result - OK means that disconnect request was sent successfully  result - Call not found or not accessible - means that disconnect cannot be initiated  XMLRPC fault in case of any error.    disconnectAccount() (new in post 1.7.1)  This application is used to disconnect all active calls of a given account.\u00a0     Top level customer could also issue this API call for any account in his hierarchy, including accounts of his subcustomers.     Parameters:   i_account - Integer. Required.   Returns:   result - OK means that disconnect request was sent successfully  count - number of disconnected sessions  XMLRPC fault in case of any error.    getAccountCallStats() (new in 2.1)  This application is used to get aggregated statistics of active calls in the softswitch. This is a lightweight API call and it is recommended to be used instead of listAllCalls() or listActiveCalls() when summary only is needed.     Parameters:  None  Returns:   result - OK  data - dictionary of the following format:   \u00a0 \u00a0 { i_account1 : [ <total calls>, <connected calls> ], i_account2 : [ <total calls>, <connected calls> ], \u00a0 \u00a0 }   XMLRPC fault in case of any error.    disconnectCustomer() (since 5.2)  This application is used to disconnect all active calls of a given customer. All calls of accounts that belong to the customer and all descendant subcustomers will be dropped.  Top level customer could also issue this API call for any subcustomer in his hierarchy, including customers of his subcustomers.     Parameters:   i_customer - ID of customer. Integer. Required.      Trusted mode:  In trusted mode the i_wholesaler integer parameter can be used to specify under which access rights this application should execute.     Returns:   result - OK means that all calls were disconnected successfully  count - number of disconnected calls  XMLRPC fault in case of any error  ",
  "seo_data": {
    "meta_title": "",
    "meta_description": "",
    "meta_keywords": ""
  },
  "tags": [
    "xmlapi",
    "list calls"
  ],
  "attachments": [],
  "cloud_files": [],
  "thumbs_up": 3,
  "thumbs_down": 9,
  "hits": 2282,
  "suggested": 0,
  "feedback_count": 0,
  "collaboration": {
    "convo_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJUeXBlIjoiYXJ0aWNsZSIsIkNvbnZvSWQiOiIxMDc0NjItZW4iLCJVc2VySWQiOiIzMDEyMDg5NTI0IiwiZXhwIjoxNjM1MzcxMTA0fQ.ytJAMHZMqskkztjrkbTZHe7uMv1SaQ4QSEB1ouBqpzU"
  }
}