{
  "id": 3000086578,
  "type": 1,
  "status": 2,
  "agent_id": 4048869,
  "created_at": "2019-02-21T14:55:46Z",
  "category_id": 81138,
  "folder_id": 133168,
  "title": "Max Session Duration",
  "updated_at": "2020-03-31T17:48:46Z",
  "description": "<p>When providing a service to a wholesale customer an owner of the Sippy Softswitch needs to allow as many simultaneous sessions as possible while at the same time prohibiting the customer to overuse his balance.</p><p><br></p><p>To achieve this goal the Sippy Softswitch starting from <span style=\"color: rgb(0, 0, 0);\"><span style=\"font-family: Verdana;\"><span style=\"line-height: 1.3;\">Sippy 2020</span></span></span><strong>\u00a0</strong>extends the allowed maximum duration of an active call in real time. <strong>The algorithm is changed only for Accounts's balance</strong> and works like this:</p><ul><li>A call comes in. The Sippy tries to allocate money for the first period of time.</li><li>If the balance is sufficient then the call is allowed to connect and continue at least for this first period.</li><li>The call connects and some time before the allocated time is over the Sippy tries to allocate additional period of time to extend the duration of the call.</li><li>If this allocation is successful then the maximum allowed call duration is extended accordingly.</li><li>This re-allocation is repeated until either balance is over or <strong>Max Session Time</strong> of an Account is reached.</li><li>When the next re-allocation is unsuccessful the Sippy does not extend the max call duration anymore and the call is disconnected by <strong>Session Timeout</strong> when it reaches the max call duration which was set previously.</li></ul><p><br></p><p><span style=\"font-size: 18px;\">There are two possible algorithms of the session time allocation.</span></p><ul><li>Average Call Duration (<strong>ACD</strong>) only - every new allocation tries to acquire exactly one more ACD. This algorithm defaults to 5 seconds if ACD is 5 seconds or less.</li><li><strong>Incremental</strong> - the Sippy tries to acquire 10 seconds first and twice as much as previously attempted duration <strong>until it reaches either 200 seconds or ACD, <u>whichever is bigger</u>.\u00a0</strong>Further allocation till Session Timeout is performed according to the tables below</li></ul><p><br></p><p><strong>New allocation attempt is performed 5 seconds before Session Timeout for the call.</strong></p><p><br></p><h2>Example</h2><p>Lets assume that:</p><ul><li>Interval 1 = 10 seconds</li><li>Interval N = 15 seconds</li><li>Price 1 = $6 / minute</li><li>Price N = $4 / minute</li></ul><h3><br></h3><h3><strong>ACD algorithm, ACD = 140 seconds</strong></h3><table style=\"width: 100%;\"><thead><tr><th>Timeline<br></th><th>Try To Allocate<br></th><th><div style=\"text-align: center;\">Actually Allocated Period</div></th><th>Session Timeout<br></th><th>Blocked Balance<br></th></tr></thead><tbody><tr><td style=\"width: 19.9542%;\">Connect + 0 seconds</td><td style=\"width: 19.9542%; text-align: right;\">140 seconds</td><td style=\"width: 19.9542%; text-align: right;\">145 seconds</td><td style=\"width: 19.9542%; text-align: right;\">145 seconds</td><td style=\"width: 20%; text-align: right;\">$1+$9=$10</td></tr><tr><td style=\"width: 19.9542%;\">Connect + 140 seconds</td><td style=\"width: 19.9542%; text-align: right;\">140 seconds</td><td style=\"width: 19.9542%; text-align: right;\">150 seconds</td><td style=\"width: 19.9542%; text-align: right;\">295 seconds</td><td style=\"width: 20%; text-align: right;\">$10+$10=$20</td></tr><tr><td style=\"width: 19.9542%;\">Connect + 290 seconds</td><td style=\"width: 19.9542%; text-align: right;\">140 seconds</td><td style=\"width: 19.9542%; text-align: right;\">150 seconds</td><td style=\"width: 19.9542%; text-align: right;\">445 seconds</td><td style=\"width: 20%; text-align: right;\">$20+$10=$30</td></tr></tbody></table><h3><br></h3><h3>Incremental algorithm for the case when ACD &lt;200 (ACD = 140)</h3><table style=\"width: 100%;\"><thead><tr><th>Timeline<br></th><th>Try To Allocate<br></th><th><div style=\"text-align: center;\">Actually Allocated Period</div></th><th>Session Timeout<br></th><th>Blocked Balance<br></th></tr></thead><tbody><tr><td style=\"width: 20.0000%;\">Connect + 0 seconds<br></td><td style=\"width: 20%; text-align: right;\">10 seconds<br></td><td style=\"width: 20%; text-align: right;\">10 seconds<br></td><td style=\"width: 20%; text-align: right;\">10 seconds<br></td><td style=\"width: 20%; text-align: right;\">$1<br></td></tr><tr><td style=\"width: 20.0000%;\">Connect + 5 seconds<br></td><td style=\"width: 20%; text-align: right;\">20 seconds<br></td><td style=\"width: 20%; text-align: right;\">30 seconds<br></td><td style=\"width: 20%; text-align: right;\">40 seconds<br></td><td style=\"width: 20%; text-align: right;\">$1+$2=$3<br></td></tr><tr><td style=\"width: 20.0000%;\">Connect + 35 seconds<br></td><td style=\"width: 20%; text-align: right;\">40 seconds<br></td><td style=\"width: 20%; text-align: right;\">45 seconds<br></td><td style=\"width: 20%; text-align: right;\">85 seconds<br></td><td style=\"width: 20%; text-align: right;\">$3+$3=$6<br></td></tr><tr><td>Connect + 80 seconds<br></td><td style=\"text-align: right;\">80 seconds<br></td><td style=\"text-align: right;\">90 seconds<br></td><td style=\"text-align: right;\">175 seconds<br></td><td style=\"text-align: right;\">$6+$6=$12<br></td></tr><tr><td>Connect + 170 seconds</td><td style=\"text-align: right;\">160 seconds</td><td style=\"text-align: right;\">165 seconds</td><td style=\"text-align: right;\">340 seconds<br></td><td style=\"text-align: right;\">$12+$11=$23</td></tr><tr><td>Connect + 335 seconds</td><td style=\"text-align: right;\">200 seconds</td><td style=\"text-align: right;\">210 seconds</td><td style=\"text-align: right;\">550 seconds</td><td style=\"text-align: right;\">$23+$14=$37</td></tr><tr><td>Connect + 545 seconds</td><td style=\"text-align: right;\">200 seconds</td><td style=\"text-align: right;\">210 seconds<br></td><td style=\"text-align: right;\">760 seconds</td><td style=\"text-align: right;\">$37+$14=$51</td></tr><tr><td>Connect + 755 seconds</td><td style=\"text-align: right;\">200 seconds</td><td style=\"text-align: right;\">210 seconds</td><td style=\"text-align: right;\">970 seconds</td><td style=\"text-align: right;\">$51+$14=$65</td></tr></tbody></table><p><br></p><h3>Incremental algorithm for the case when ACD &gt;200 (ACD = 230)</h3><table style=\"width: 100%;\"><thead><tr><th>Timeline<br></th><th>Try To Allocate<br></th><th><div style=\"text-align: center;\">Actually Allocated Period</div></th><th>Session Timeout<br></th><th>Blocked Balance<br></th></tr></thead><tbody><tr><td style=\"width: 20.0000%;\">Connect + 0 seconds<br></td><td style=\"width: 20%; text-align: right;\">10 seconds<br></td><td style=\"width: 20%; text-align: right;\">10 seconds<br></td><td style=\"width: 20%; text-align: right;\">10 seconds<br></td><td style=\"width: 20%; text-align: right;\">$1<br></td></tr><tr><td style=\"width: 20.0000%;\">Connect + 5 seconds<br></td><td style=\"width: 20%; text-align: right;\">20 seconds<br></td><td style=\"width: 20%; text-align: right;\">30 seconds<br></td><td style=\"width: 20%; text-align: right;\">40 seconds<br></td><td style=\"width: 20%; text-align: right;\">$1+$2=$3<br></td></tr><tr><td style=\"width: 20.0000%;\">Connect + 35 seconds<br></td><td style=\"width: 20%; text-align: right;\">40 seconds<br></td><td style=\"width: 20%; text-align: right;\">45 seconds<br></td><td style=\"width: 20%; text-align: right;\">85 seconds<br></td><td style=\"width: 20%; text-align: right;\">$3+$3=$6<br></td></tr><tr><td>Connect + 80 seconds<br></td><td style=\"text-align: right;\">80 seconds<br></td><td style=\"text-align: right;\">90 seconds<br></td><td style=\"text-align: right;\">175 seconds<br></td><td style=\"text-align: right;\">$6+$6=$12<br></td></tr><tr><td>Connect + 170 seconds</td><td style=\"text-align: right;\">160 seconds</td><td style=\"text-align: right;\">165 seconds</td><td style=\"text-align: right;\">340 seconds<br></td><td style=\"text-align: right;\">$12+$11=$23</td></tr><tr><td>Connect + 335 seconds</td><td style=\"text-align: right;\">230 seconds</td><td style=\"text-align: right;\">240 seconds</td><td style=\"text-align: right;\">580 seconds</td><td style=\"text-align: right;\">$23+$16=$39</td></tr><tr><td>Connect + 575 seconds</td><td style=\"text-align: right;\">230 seconds</td><td style=\"text-align: right;\">240 seconds<br></td><td style=\"text-align: right;\">820 seconds</td><td style=\"text-align: right;\">$39+$16=$55</td></tr><tr><td>Connect + 815 seconds</td><td style=\"text-align: right;\">230 seconds</td><td style=\"text-align: right;\">240 seconds</td><td style=\"text-align: right;\">1060 seconds</td><td style=\"text-align: right;\">$55+$16=$71</td></tr></tbody></table><p><br></p><p>New strackerd is enabled by default in\u00a0<span style=\"color: rgb(0, 0, 0);\"><span style=\"font-family: Verdana;\"><span style=\"line-height: 1.3;\">Sippy 2020.</span></span></span></p><p><br></p><p>The time allocation algorithm can be chosen with the option 'system/strackerd/next_duration_algorithm' in the system_config. The available values are 'ACD' (default) and \u00a0'incremental'. This option is available via XML-RPC API and on System Parameters page of Web UI.</p>",
  "description_text": " When providing a service to a wholesale customer an owner of the Sippy Softswitch needs to allow as many simultaneous sessions as possible while at the same time prohibiting the customer to overuse his balance.     To achieve this goal the Sippy Softswitch starting from Sippy 2020\u00a0extends the allowed maximum duration of an active call in real time. The algorithm is changed only for Accounts's balance and works like this:   A call comes in. The Sippy tries to allocate money for the first period of time.  If the balance is sufficient then the call is allowed to connect and continue at least for this first period.  The call connects and some time before the allocated time is over the Sippy tries to allocate additional period of time to extend the duration of the call.  If this allocation is successful then the maximum allowed call duration is extended accordingly.  This re-allocation is repeated until either balance is over or Max Session Time of an Account is reached.  When the next re-allocation is unsuccessful the Sippy does not extend the max call duration anymore and the call is disconnected by Session Timeout when it reaches the max call duration which was set previously.      There are two possible algorithms of the session time allocation.   Average Call Duration (ACD) only - every new allocation tries to acquire exactly one more ACD. This algorithm defaults to 5 seconds if ACD is 5 seconds or less.  Incremental - the Sippy tries to acquire 10 seconds first and twice as much as previously attempted duration until it reaches either 200 seconds or ACD, whichever is bigger.\u00a0Further allocation till Session Timeout is performed according to the tables below      New allocation attempt is performed 5 seconds before Session Timeout for the call.     Example  Lets assume that:   Interval 1 = 10 seconds  Interval N = 15 seconds  Price 1 = $6 / minute  Price N = $4 / minute      ACD algorithm, ACD = 140 seconds Timeline Try To Allocate  Actually Allocated Period Session Timeout Blocked Balance  Connect + 0 seconds  140 seconds  145 seconds  145 seconds  $1+$9=$10  Connect + 140 seconds  140 seconds  150 seconds  295 seconds  $10+$10=$20  Connect + 290 seconds  140 seconds  150 seconds  445 seconds  $20+$10=$30     Incremental algorithm for the case when ACD <200 (ACD = 140) Timeline Try To Allocate  Actually Allocated Period Session Timeout Blocked Balance  Connect + 0 seconds   10 seconds   10 seconds   10 seconds   $1   Connect + 5 seconds   20 seconds   30 seconds   40 seconds   $1+$2=$3   Connect + 35 seconds   40 seconds   45 seconds   85 seconds   $3+$3=$6   Connect + 80 seconds   80 seconds   90 seconds   175 seconds   $6+$6=$12   Connect + 170 seconds  160 seconds  165 seconds  340 seconds   $12+$11=$23  Connect + 335 seconds  200 seconds  210 seconds  550 seconds  $23+$14=$37  Connect + 545 seconds  200 seconds  210 seconds   760 seconds  $37+$14=$51  Connect + 755 seconds  200 seconds  210 seconds  970 seconds  $51+$14=$65     Incremental algorithm for the case when ACD >200 (ACD = 230) Timeline Try To Allocate  Actually Allocated Period Session Timeout Blocked Balance  Connect + 0 seconds   10 seconds   10 seconds   10 seconds   $1   Connect + 5 seconds   20 seconds   30 seconds   40 seconds   $1+$2=$3   Connect + 35 seconds   40 seconds   45 seconds   85 seconds   $3+$3=$6   Connect + 80 seconds   80 seconds   90 seconds   175 seconds   $6+$6=$12   Connect + 170 seconds  160 seconds  165 seconds  340 seconds   $12+$11=$23  Connect + 335 seconds  230 seconds  240 seconds  580 seconds  $23+$16=$39  Connect + 575 seconds  230 seconds  240 seconds   820 seconds  $39+$16=$55  Connect + 815 seconds  230 seconds  240 seconds  1060 seconds  $55+$16=$71     New strackerd is enabled by default in\u00a0Sippy 2020.     The time allocation algorithm can be chosen with the option 'system/strackerd/next_duration_algorithm' in the system_config. The available values are 'ACD' (default) and \u00a0'incremental'. This option is available via XML-RPC API and on System Parameters page of Web UI. ",
  "seo_data": {
    "meta_title": "",
    "meta_description": "",
    "meta_keywords": ""
  },
  "tags": [
    "balance",
    "ACD",
    "Billing Intervals",
    "Billing",
    "Max Session Time",
    "Balance Allocation"
  ],
  "attachments": [],
  "cloud_files": [],
  "thumbs_up": 0,
  "thumbs_down": 0,
  "hits": 305,
  "suggested": 0,
  "feedback_count": 0,
  "collaboration": {
    "convo_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJUeXBlIjoiYXJ0aWNsZSIsIkNvbnZvSWQiOiIzMDAwMDg2NTc4LWVuIiwiVXNlcklkIjoiMzAxMjA4OTUyNCIsImV4cCI6MTYzNTM3MTAyOH0.ctR-zhLvonuUVXvAuD0Gp4kKiQd2sMU8Qo5gPYh3EEQ"
  }
}