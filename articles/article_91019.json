{
  "id": 91019,
  "type": 1,
  "status": 2,
  "agent_id": 3763909,
  "created_at": "2013-05-29T09:23:53Z",
  "category_id": 81138,
  "folder_id": 133168,
  "title": "Weighted Distribution",
  "updated_at": "2016-04-11T06:43:10Z",
  "description": "<p>The <b>Weighted Distribution</b> allows to split traffic randomly between the Vendor Connections but keeping the distribution in proportion to their weights. <br><br><b>Example: </b><br><br>Lets assume that there are three routing group entries: <br><br></p>\r\n<p></p>\r\n<blockquote style=\"margin: 0 0 0 40px; border: none; padding: 0px;\"><table id=\"table70675\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody class=\"current\">\r\n<tr>\r\n<td class=\"\"><p><i style=\"color: rgb(0, 0, 0);\">Route 1</i></p></td>\r\n<td class=\"\"><p><i style=\"color: rgb(0, 0, 0);\">Weight 3</i></p></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p><i style=\"color: rgb(0, 0, 0);\">Route 2</i></p></td>\r\n<td class=\"\"><p><i class=\"current\" style=\"color: rgb(0, 0, 0);\">Weight 2</i></p></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p><i style=\"color: rgb(0, 0, 0);\">Route 3</i></p></td>\r\n<td class=\"\"><p><i><span style=\"color: rgb(0, 0, 0);\">Weight 3</span></i></p></td>\r\n</tr>\r\n</tbody></table></blockquote>\r\n<p><br><br>For every call there is a chance that any of those routes will become the most preferred. The <i>Route 2</i>\u00a0will be preferred route in approximately 25<i>%</i> of calls as well as the <i>Route 1</i>, and the <i>Route 3</i>\u00a0will be most preferred in around 37.5<i>%</i> of calls. <br><br>\u00a0There is a special value of weight - <i>'No Value'</i>. This allows to apply a policy after the Weighted Distribution. <br><br><b>Description of Routing Policy application. </b><br><br>The policies are applied in three stages. <br>The policies which come before Weighted Distribution are <u>applied first</u>. <br>Then the entries with defined weight and No Value weight are split into groups keeping their positions after the first stage policies have been applied. And then the Weighted Distribution is applied to each group of entries with the defined weight. Groups with No Value weight are kept untouched. <br>At the third stage the groups of No Value weight are sorted according the policies which come after the Weighted Distribution. The groups of already applied Weighted Distribution are kept untouched. <br><br><b>Example: </b><br><br>Let's assume we have a Routing group\u00a0which have the following routing policy <b>Preference</b> -&gt; <b>Weighted Distribution</b> -&gt; <b>Least Cost</b>. <br><br><u>The entries of the routing group are:\u00a0</u></p>\r\n<p><br></p>\r\n<blockquote style=\"margin: 0 0 0 40px; border: none; padding: 0px;\"><table id=\"table93703\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody class=\"current\">\r\n<tr class=\"current\">\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"background-color: rgb(238, 236, 225);\">\u00a0<span style=\"color: rgb(0, 0, 0);\"><b>Route</b>\r\n</span>\r\n</span></td>\r\n<td class=\"\" style=\"text-align: center;\">\r\n<span style=\"background-color: rgb(238, 236, 225);\"><span style=\"color: rgb(0, 0, 0);\"><b>Preference</b>\u00a0</span>\r\n</span>\r\n</td>\r\n<td class=\"\" style=\"text-align: center;\">\r\n<span style=\"background-color: rgb(238, 236, 225);\"><span style=\"color: rgb(0, 0, 0);\"><b>Weight</b>\u00a0</span>\r\n</span>\r\n</td>\r\n<td class=\"\" style=\"text-align: center;\">\r\n<span style=\"color: rgb(0, 0, 0);\"><span style=\"background-color: rgb(238, 236, 225);\"><b>Cost</b>\u00a0</span></span>\r\n</td>\r\n</tr>\r\n<tr>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">Route 1<br>\r\n</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">1</span></td>\r\n</tr>\r\n<tr>\r\n<td style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">Route 2</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">3</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">Route 3</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">4</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">Route 4</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">4</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">Route 5</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">5</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">3</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">Route 6</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">5</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">4</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">Route 7</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">6</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">3</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">Route 8</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">6</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">1</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">Route 9</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">7</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n</tbody></table></blockquote>\r\n<p></p>\r\n<p><br><br><u>After first stage sort on preference the order of routes will be:\u00a0</u></p>\r\n<p><br><br></p>\r\n<p></p>\r\n<p></p>\r\n<blockquote style=\"margin: 0 0 0 40px; border: none; padding: 0px;\"><table id=\"table92373\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\" style=\"text-align: center; \"><tbody>\r\n<tr class=\"current\">\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"background-color: rgb(238, 236, 225);\">\u00a0<span style=\"color: rgb(0, 0, 0);\"><b>Route</b>\r\n</span>\r\n</span></td>\r\n<td style=\"text-align: center;\"><b style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\">Preference</b></td>\r\n<td style=\"text-align: center;\"><b style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\">Weight\u00a0</b></td>\r\n<td style=\"text-align: center;\"><b style=\"color: rgb(0, 0, 0);\"><span style=\"background-color: rgb(238, 236, 225);\">Cost\u00a0</span></b></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">Route 9</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">7</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p class=\"current\" style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">Route 8</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">6</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">1</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">Route 7</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">6</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">3</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"line-height: 1.3; color: rgb(0, 0, 0);\">Route 5</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">5</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">3</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p class=\"current\" style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">Route 6</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">5</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">4</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">Route 3</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">4</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">Route 4</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">4</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">Route 2</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">3</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p class=\"current\" style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">Route 1</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">1</span></td>\r\n</tr>\r\n</tbody></table></blockquote>\r\n<p style=\"text-align: center; \"><br></p>\r\n<p><br>Please note that the <i>Routes 7</i> and <i>8</i> have the same preference and thus the result of the preference sort is unpredictable. This also applies to pairs (<i>Route 5, Route 6</i>) and (<i>Route 3, Route 4</i>). <br><br>The <u>stage two</u> of policy application begins now. The entries are split into groups of the entries to which the Weighted Distribution can be applied and those which are not affected by the distribution: <br><br><u>Group 1: The Weighted Distribution is not applicable </u><br><br></p>\r\n<blockquote style=\"margin: 0 0 0 40px; border: none; padding: 0px;\"><table id=\"table47381\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody class=\"current\">\r\n<tr class=\"current\">\r\n<td class=\"\" style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\">\u00a0<b>Route</b></span></td>\r\n<td style=\"text-align: center; \"><b style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\">Preference</b></td>\r\n<td style=\"text-align: center; \"><b style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\">Weight\u00a0</b></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\"><span style=\"background-color: rgb(238, 236, 225);\"><b>Cost</b>\u00a0</span></span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\" style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">Route 9</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">7</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td style=\"text-align: center; \" class=\"\">\r\n<span style=\"color: rgb(0, 0, 0); line-height: 1.3;\">Route\u00a0</span><span style=\"color: rgb(0, 0, 0);\">8</span>\r\n</td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">6</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">1</span></td>\r\n</tr>\r\n<tr>\r\n<td style=\"text-align: center; \" class=\"\">\r\n<span style=\"color: rgb(0, 0, 0); line-height: 1.3;\">Route\u00a0</span><span style=\"color: rgb(0, 0, 0);\">7</span>\r\n</td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">6</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">3</span></td>\r\n</tr>\r\n</tbody></table></blockquote> <br>\r\n<br>\r\n\r\n\r\n<p><u>Group 2: The Weighted Distribution is applicable\u00a0</u></p>\r\n<p><u><br></u></p>\r\n<blockquote style=\"margin: 0 0 0 40px; border: none; padding: 0px;\"><table id=\"table91949\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>\r\n<tr class=\"current\">\r\n<td class=\"\" style=\"text-align: center; \"><b style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\">Route</b></td>\r\n<td style=\"text-align: center; \"><b style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\">Preference</b></td>\r\n<td style=\"text-align: center; \"><b style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\">Weight</b></td>\r\n<td style=\"text-align: center; \"><b style=\"color: rgb(0, 0, 0);\"><span style=\"background-color: rgb(238, 236, 225);\">Cost</span></b></td>\r\n</tr>\r\n<tr>\r\n<td style=\"text-align: center; \" class=\"\">\r\n<span style=\"color: rgb(0, 0, 0); line-height: 1.3;\">Route\u00a0</span><span style=\"color: rgb(0, 0, 0);\">5</span>\r\n</td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">5</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">3</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td style=\"text-align: center; \" class=\"\">\r\n<span style=\"color: rgb(0, 0, 0); line-height: 1.3;\">Route\u00a0</span><span style=\"color: rgb(0, 0, 0);\">6</span>\r\n</td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">5</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">4</span></td>\r\n<td class=\"\" style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n</tbody></table></blockquote>\r\n<p></p>\r\n<p><br></p>\r\n<p><br><u>Group 3: The Weighted Distribution is applicable </u><br><br></p>\r\n<p></p>\r\n<p></p>\r\n<blockquote style=\"margin: 0 0 0 40px; border: none; padding: 0px;\"><table id=\"table61849\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>\r\n<tr class=\"current\">\r\n<td class=\"\" style=\"text-align: center; \"><b style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\">Route</b></td>\r\n<td style=\"text-align: center; \"><b style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\">Preference</b></td>\r\n<td style=\"text-align: center; \"><b style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\">Weight</b></td>\r\n<td style=\"text-align: center; \"><b style=\"color: rgb(0, 0, 0);\"><span style=\"background-color: rgb(238, 236, 225);\">Cost</span></b></td>\r\n</tr>\r\n<tr>\r\n<td style=\"text-align: center; \" class=\"\">\r\n<span style=\"color: rgb(0, 0, 0); line-height: 1.3;\">Route\u00a0</span><span style=\"color: rgb(0, 0, 0);\">3</span>\r\n</td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">4</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td style=\"text-align: center; \" class=\"\">\r\n<span style=\"color: rgb(0, 0, 0); line-height: 1.3;\">Route\u00a0</span><span style=\"color: rgb(0, 0, 0);\">4</span>\r\n</td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">4</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n</tbody></table></blockquote>\r\n<p><br></p>\r\n<p><br><u>Group 4: The Weighted Distribution is not applicable </u><br><br></p>\r\n<p></p>\r\n<p></p>\r\n<blockquote style=\"margin: 0 0 0 40px; border: none; padding: 0px;\"><table id=\"table80355\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>\r\n<tr class=\"current\">\r\n<td class=\"\" style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\">\u00a0<b>Route</b></span></td>\r\n<td class=\"\" style=\"text-align: center; \"><b style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\">Preference</b></td>\r\n<td style=\"text-align: center; \"><b style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\">Weight</b></td>\r\n<td style=\"text-align: center; \"><b style=\"color: rgb(0, 0, 0);\"><span style=\"background-color: rgb(238, 236, 225);\">Cost</span></b></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\" style=\"text-align: center; \">\r\n<span style=\"color: rgb(0, 0, 0); line-height: 1.3;\">Route\u00a0</span><span style=\"color: rgb(0, 0, 0);\">2</span>\r\n</td>\r\n<td class=\"\" style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">3</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td style=\"text-align: center; \" class=\"\">\r\n<span style=\"color: rgb(0, 0, 0); line-height: 1.3;\">Route\u00a0</span><span style=\"color: rgb(0, 0, 0);\">1</span>\r\n</td>\r\n<td class=\"\" style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">1</span></td>\r\n</tr>\r\n</tbody></table></blockquote>\r\n<p><br></p>\r\n<p><br>The groups 2 and 3 are distinct groups because they have different preferences. <br><br>Then the weighted distribution is applied to the groups 2 and 3 independently. Let's assume that the order of the routes in those groups left unchanged after the weighted distribution. <br><br>The <u>stage three</u> of policy application starts. The entries in groups 1 and 4 are sorted according to their costs. The groups 2 and 3 are kept unchanged. <br></p>\r\n<p><u><br></u></p>\r\n<p><u>So the final routes order will be: </u><br></p>\r\n<p><u><br></u></p>\r\n<p><u><br></u></p>\r\n<p></p>\r\n<p></p>\r\n<blockquote style=\"margin: 0 0 0 40px; border: none; padding: 0px;\"><table id=\"table32720\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody class=\"current\">\r\n<tr class=\"current\">\r\n<td class=\"\" style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\"><b>Route</b></span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\"><b>Preference</b></span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0); background-color: rgb(238, 236, 225);\"><b>Weight</b></span></td>\r\n<td style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\"><b><span style=\"background-color: rgb(238, 236, 225);\">Cost</span></b></span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: left;\"><span style=\"text-align: center; color: rgb(0, 0, 0);\">Route 8</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">6</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">1</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: left;\"><span style=\"text-align: center; color: rgb(0, 0, 0);\">Route 9</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">7</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: left;\"><span style=\"text-align: center; color: rgb(0, 0, 0);\">Route 7</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">6</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">3</span></td>\r\n</tr>\r\n<tr class=\"current\">\r\n<td class=\"\"><p style=\"text-align: left;\"><span style=\"text-align: center; color: rgb(0, 0, 0);\">Route 5</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">5</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">3</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: left;\"><span style=\"text-align: center; color: rgb(0, 0, 0);\">Route 6</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">5</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">4</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p class=\"current\" style=\"text-align: left;\"><span style=\"text-align: center; color: rgb(0, 0, 0);\" class=\"current\">Route 3</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">4</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p class=\"current\" style=\"text-align: left;\"><span style=\"text-align: center; color: rgb(0, 0, 0);\">Route 4</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">4</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p class=\"current\" style=\"text-align: left;\"><span style=\"text-align: center; color: rgb(0, 0, 0);\">Route 1</span></p></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center;\"><span style=\"color: rgb(0, 0, 0);\">1</span></td>\r\n</tr>\r\n<tr>\r\n<td class=\"\"><p style=\"text-align: left;\"><span style=\"text-align: center; color: rgb(0, 0, 0);\">Route 2</span></p></td>\r\n<td class=\"\" style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">3</span></td>\r\n<td class=\"\" style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">No Value</span></td>\r\n<td class=\"\" style=\"text-align: center; \"><span style=\"color: rgb(0, 0, 0);\">2</span></td>\r\n</tr>\r\n</tbody></table></blockquote>\r\n<p><br><br>Note!\u00a0 It's dangerous to use the same preference for No Value routes and routes with a weight because the sort on an equal values can distribute the entries randomly giving unwanted side effects. A rule of thumb is to create groups of No Value routes and routes with a weight by using a policy before the Weighted Distribution.</p>\r\n",
  "description_text": " The Weighted Distribution allows to split traffic randomly between the Vendor Connections but keeping the distribution in proportion to their weights.   Example:   Lets assume that there are three routing group entries:    \n \n \n\n  Route 1  \n  Weight 3  \n\n\n  Route 2  \n  Weight 2  \n\n\n  Route 3  \n  Weight 3  \n\n \n   For every call there is a chance that any of those routes will become the most preferred. The Route 2\u00a0will be preferred route in approximately 25% of calls as well as the Route 1, and the Route 3\u00a0will be most preferred in around 37.5% of calls.   \u00a0There is a special value of weight - 'No Value'. This allows to apply a policy after the Weighted Distribution.   Description of Routing Policy application.   The policies are applied in three stages.  The policies which come before Weighted Distribution are applied first.  Then the entries with defined weight and No Value weight are split into groups keeping their positions after the first stage policies have been applied. And then the Weighted Distribution is applied to each group of entries with the defined weight. Groups with No Value weight are kept untouched.  At the third stage the groups of No Value weight are sorted according the policies which come after the Weighted Distribution. The groups of already applied Weighted Distribution are kept untouched.   Example:   Let's assume we have a Routing group\u00a0which have the following routing policy Preference -> Weighted Distribution -> Least Cost.   The entries of the routing group are:\u00a0 \n   \n \n\n \u00a0Route\n\n \n \nPreference\u00a0\n\n \n \nWeight\u00a0\n\n \n \nCost\u00a0\n \n\n\n Route 1 \n \n 2 \n No Value \n 1 \n\n\n Route 2 \n 3 \n No Value \n 2 \n\n\n Route 3 \n 4 \n 2 \n 2 \n\n\n  Route 4  \n 4 \n 2 \n 2 \n\n\n  Route 5  \n 5 \n 3 \n 2 \n\n\n  Route 6  \n 5 \n 4 \n 2 \n\n\n  Route 7  \n 6 \n No Value \n 3 \n\n\n  Route 8  \n 6 \n No Value \n 1 \n\n\n  Route 9  \n 7 \n No Value \n 2 \n\n \n \n   After first stage sort on preference the order of routes will be:\u00a0 \n    \n \n \n \n\n \u00a0Route\n\n \n Preference \n Weight\u00a0 \n Cost\u00a0 \n\n\n Route 9 \n 7 \n No Value \n 2 \n\n\n  Route 8  \n 6 \n No Value \n 1 \n\n\n  Route 7  \n 6 \n No Value \n 3 \n\n\n Route 5 \n 5 \n 3 \n 2 \n\n\n  Route 6  \n 5 \n 4 \n 2 \n\n\n  Route 3  \n 4 \n 2 \n 2 \n\n\n  Route 4  \n 4 \n 2 \n 2 \n\n\n  Route 2  \n 3 \n No Value \n 2 \n\n\n  Route 1  \n 2 \n No Value \n 1 \n\n \n   \n  Please note that the Routes 7 and 8 have the same preference and thus the result of the preference sort is unpredictable. This also applies to pairs (Route 5, Route 6) and (Route 3, Route 4).   The stage two of policy application begins now. The entries are split into groups of the entries to which the Weighted Distribution can be applied and those which are not affected by the distribution:   Group 1: The Weighted Distribution is not applicable    \n \n\n \u00a0Route \n Preference \n Weight\u00a0 \n Cost\u00a0 \n\n\n Route 9 \n 7 \n No Value \n 2 \n\n\n \nRoute\u00a08\n \n 6 \n No Value \n 1 \n\n\n \nRoute\u00a07\n \n 6 \n No Value \n 3 \n\n   \n \n\n\n Group 2: The Weighted Distribution is applicable\u00a0 \n   \n \n\n Route \n Preference \n Weight \n Cost \n\n\n \nRoute\u00a05\n \n 5 \n 3 \n 2 \n\n\n \nRoute\u00a06\n \n 5 \n 4 \n 2 \n\n \n \n   \n  Group 3: The Weighted Distribution is applicable    \n \n \n \n\n Route \n Preference \n Weight \n Cost \n\n\n \nRoute\u00a03\n \n 4 \n 2 \n 2 \n\n\n \nRoute\u00a04\n \n 4 \n 2 \n 2 \n\n \n   \n  Group 4: The Weighted Distribution is not applicable    \n \n \n \n\n \u00a0Route \n Preference \n Weight \n Cost \n\n\n \nRoute\u00a02\n \n 3 \n No Value \n 2 \n\n\n \nRoute\u00a01\n \n 2 \n No Value \n 1 \n\n \n   \n  The groups 2 and 3 are distinct groups because they have different preferences.   Then the weighted distribution is applied to the groups 2 and 3 independently. Let's assume that the order of the routes in those groups left unchanged after the weighted distribution.   The stage three of policy application starts. The entries in groups 1 and 4 are sorted according to their costs. The groups 2 and 3 are kept unchanged.   \n   \n So the final routes order will be:   \n   \n   \n \n \n \n\n Route \n Preference \n Weight \n Cost \n\n\n  Route 8  \n 6 \n No Value \n 1 \n\n\n  Route 9  \n 7 \n No Value \n 2 \n\n\n  Route 7  \n 6 \n No Value \n 3 \n\n\n  Route 5  \n 5 \n 3 \n 2 \n\n\n  Route 6  \n 5 \n 4 \n 2 \n\n\n  Route 3  \n 4 \n 2 \n 2 \n\n\n  Route 4  \n 4 \n 2 \n 2 \n\n\n  Route 1  \n 2 \n No Value \n 1 \n\n\n  Route 2  \n 3 \n No Value \n 2 \n\n \n   Note!\u00a0 It's dangerous to use the same preference for No Value routes and routes with a weight because the sort on an equal values can distribute the entries randomly giving unwanted side effects. A rule of thumb is to create groups of No Value routes and routes with a weight by using a policy before the Weighted Distribution. \n",
  "seo_data": {
    "meta_title": "",
    "meta_description": "",
    "meta_keywords": ""
  },
  "tags": [],
  "attachments": [],
  "cloud_files": [],
  "thumbs_up": 3,
  "thumbs_down": 8,
  "hits": 1436,
  "suggested": 0,
  "feedback_count": 0,
  "collaboration": {
    "convo_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJUeXBlIjoiYXJ0aWNsZSIsIkNvbnZvSWQiOiI5MTAxOS1lbiIsIlVzZXJJZCI6IjMwMTIwODk1MjQiLCJleHAiOjE2MzUzNzEwMjZ9.327Wo1_O1zdfBJ5A0ZnMY4YptWj_-MC8uxnqGlcoUno"
  }
}