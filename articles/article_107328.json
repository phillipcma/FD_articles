{
  "id": 107328,
  "type": 1,
  "status": 2,
  "agent_id": 3901167,
  "created_at": "2013-07-09T16:06:56Z",
  "category_id": 107132,
  "folder_id": 176717,
  "title": "XML-RPC API - Trusted Numbers Manipulation and CLI Mapping",
  "updated_at": "2021-06-30T12:53:41Z",
  "description": "<div class=\"wikipage searchable\" style=\"padding-left: 18px;\"><h2 id=\"addCLIMapping\" style='font-family: Arial, Verdana, \"Bitstream Vera Sans\", Helvetica, sans-serif; font-weight: bold; letter-spacing: -0.018em; break-after: avoid; font-size: 16px;'><span style=\"font-size: 24px;\">addCLIMapping <a class=\"anchor\" href=\"https://trac.sippysoft.com/trac/wiki/public/XMLAPI/TrustedNumbers#addCLIMapping\" title=\"Link to this section\" style=\"color: rgb(215, 215, 215); border-style: none; font-size: 0.8em; vertical-align: text-top; visibility: hidden;\"></a></span></h2><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">This application is used to associate a CLI with an Account in order to use calling card (add trusted number record)</span></p><blockquote><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">Parameters:</span></p></blockquote><ul><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">i_account - i_account of the calling card. Integer. Required.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">cli - CLI to associate the card with. String. Required.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">lang - Two character language code to be used for this CLI ('en' for English, 'ru' for Russian, etc. Refer to <a href=\"http://sippysoft.freshdesk.com/support/solutions/articles/125824-ivr-supported-languages\" target=\"\">Languages List</a>). String. Required.</span></li></ul><blockquote><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">Returns:</span></p></blockquote><ul><li><span style=\"font-family: Verdana,Geneva,sans-serif;\"><strong>result</strong> - <strong>OK</strong> means that CLI mapping successfully added. String.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">XMLRPC fault in case of any error.</span></li></ul><hr style=\"border-right-style: none; border-bottom-style: none; border-left-style: none; border-top-color: rgb(204, 204, 187); margin-top: 2em; margin-bottom: 2em;\"><h2 id=\"updateCLIMapping\" style='font-family: Arial, Verdana, \"Bitstream Vera Sans\", Helvetica, sans-serif; font-weight: bold; letter-spacing: -0.018em; break-after: avoid; font-size: 16px;'><span style=\"font-size: 24px;\">updateCLIMapping <a class=\"anchor\" href=\"https://trac.sippysoft.com/trac/wiki/public/XMLAPI/TrustedNumbers#updateCLIMapping\" title=\"Link to this section\" style=\"color: rgb(215, 215, 215); border-style: none; font-size: 0.8em; vertical-align: text-top; visibility: hidden;\"></a></span></h2><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">This application is used to update an already existing trusted number.</span></p><blockquote><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">Parameters:</span></p></blockquote><ul><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">i_account - i_account of the calling card. Integer. Required.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">old_cli - String. Required.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">new_cli - String. Required.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">lang - Two character language code to be used for this CLI ('en' for English, 'ru' for Russian, etc. Refer to <a href=\"http://sippysoft.freshdesk.com/support/solutions/articles/125824-ivr-supported-languages\" target=\"\">Languages List</a>). String. Optional. <strong>From Sippy 2020.</strong></span></li></ul><blockquote><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">Returns:</span></p></blockquote><ul><li><span style=\"font-family: Verdana,Geneva,sans-serif;\"><strong>result</strong> - <strong>OK</strong> means that CLI mapping was successfully updated. String.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">XMLRPC fault in case of any error.</span></li></ul><hr style=\"border-right-style: none; border-bottom-style: none; border-left-style: none; border-top-color: rgb(204, 204, 187); margin-top: 2em; margin-bottom: 2em;\"><h2 id=\"delCLIMapping\" style='font-family: Arial, Verdana, \"Bitstream Vera Sans\", Helvetica, sans-serif; font-weight: bold; letter-spacing: -0.018em; break-after: avoid; font-size: 16px;'><span style=\"font-size: 24px;\">delCLIMapping <a class=\"anchor\" href=\"https://trac.sippysoft.com/trac/wiki/public/XMLAPI/TrustedNumbers#delCLIMapping\" title=\"Link to this section\" style=\"color: rgb(215, 215, 215); border-style: none; font-size: 0.8em; vertical-align: text-top; visibility: hidden;\"></a></span></h2><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">This application is used to remove the association of a CLI with a calling card.</span></p><blockquote><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">Parameters:</span></p></blockquote><ul><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">i_account - i_account of the calling card. Integer. Required.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">cli - CLI to associate the card with. String. Required.</span></li></ul><blockquote><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">Returns:</span></p></blockquote><ul><li><span style=\"font-family: Verdana,Geneva,sans-serif;\"><strong>result</strong> - <strong>OK</strong> means that CLI mapping successfully removed. String.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">XMLRPC fault in case of any error.</span></li></ul><hr style=\"border-right-style: none; border-bottom-style: none; border-left-style: none; border-top-color: rgb(204, 204, 187); margin-top: 2em; margin-bottom: 2em;\"><h2 id=\"listCLIMappings\" style='font-family: Arial, Verdana, \"Bitstream Vera Sans\", Helvetica, sans-serif; font-weight: bold; letter-spacing: -0.018em; break-after: avoid; font-size: 16px;'><span style=\"font-size: 24px;\">listCLIMappings</span> <a class=\"anchor\" href=\"https://trac.sippysoft.com/trac/wiki/public/XMLAPI/TrustedNumbers#listCLIMappings\" title=\"Link to this section\" style=\"color: rgb(215, 215, 215); border-style: none; font-size: 0.8em; vertical-align: text-top; visibility: hidden;\"></a></h2><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">This application is used to retrieve the list of CLIs associated with a given calling card.</span></p><blockquote><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">Parameters:</span></p></blockquote><ul><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">i_account - i_account of the calling card. Integer. Required.</span></li></ul><blockquote><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">Returns:</span></p></blockquote><ul><li><span style=\"font-family: Verdana,Geneva,sans-serif;\"><strong>result</strong> - <strong>OK</strong> means that operation successful. String.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\"><strong>list</strong> - array containing a set of (CLI, lang) tuples</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">XMLRPC fault in case of any error.</span></li></ul><hr style=\"border-right-style: none; border-bottom-style: none; border-left-style: none; border-top-color: rgb(204, 204, 187); margin-top: 2em; margin-bottom: 2em;\"><h2 id=\"findCLIMapping\" style='font-family: Arial, Verdana, \"Bitstream Vera Sans\", Helvetica, sans-serif; font-weight: bold; letter-spacing: -0.018em; break-after: avoid; font-size: 16px;'><span style=\"font-size: 24px;\">findCLIMapping <a class=\"anchor\" href=\"https://trac.sippysoft.com/trac/wiki/public/XMLAPI/TrustedNumbers#findCLIMapping\" title=\"Link to this section\" style=\"color: rgb(215, 215, 215); border-style: none; font-size: 0.8em; vertical-align: text-top; visibility: hidden;\"></a></span></h2><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">This application is used to retrieve information about mapping by CLI number. Available from 2.0.</span></p><blockquote><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">Parameters:</span></p></blockquote><ul><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">cli - CLI number. String. Required.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">i_customer. Int. Required.</span></li></ul><blockquote><p><span style=\"font-family: Verdana,Geneva,sans-serif;\">Returns:</span></p></blockquote><ul><li><span style=\"font-family: Verdana,Geneva,sans-serif;\"><strong>result</strong> - <strong>OK</strong> means that the operation was successful. String.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">i_account - i_account of the calling card. Integer.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">cli - CLI associated with the card. String.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">lang - Two character language code to be used for this CLI ('en' for English, 'ru' for Russian, etc. Refer to <a href=\"http://sippysoft.freshdesk.com/support/solutions/articles/125824-ivr-supported-languages\" target=\"\">Languages List</a>). String.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">authname - authname of associated account. String.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">username - username of associated account. String.</span></li><li><span style=\"font-family: Verdana,Geneva,sans-serif;\">XMLRPC fault in case of any error.</span></li></ul><hr style=\"border-right-style: none; border-bottom-style: none; border-left-style: none; border-top-color: rgb(204, 204, 187); margin-top: 2em; margin-bottom: 2em;\"><h2 id=\"Example\" style='font-family: Arial, Verdana, \"Bitstream Vera Sans\", Helvetica, sans-serif; font-weight: bold; letter-spacing: -0.018em; break-after: avoid; font-size: 16px;'><span dir=\"ltr\" style=\"font-size: 24px;\">Python Example</span> <a class=\"anchor\" href=\"https://trac.sippysoft.com/trac/wiki/public/XMLAPI/TrustedNumbers#Example\" title=\"Link to this section\" style=\"color: rgb(215, 215, 215); border-style: none; font-size: 0.8em; vertical-align: text-top; visibility: hidden;\"></a></h2><div><pre contenteditable=\"false\" data-code-brush=\"Python\" dir=\"ltr\" rel=\"highlighter\"># this script requires httplib2 to be installed from http://code.google.com/p/httplib2/\nimport httplib2\nimport urllib.request, urllib.parse, urllib.error\nfrom xmlrpc.client import ServerProxy, getparser, ProtocolError\n\nclass HTTPSDigestAuthTransport:\n    def request(self, host, handler, request_body, verbose=0):\n        auth, host = urllib.parse.splituser(host)\n        username, password = urllib.parse.splitpasswd(auth)\n        h = httplib2.Http()\n        if verbose:\n            h.debuglevel = 1\n        h.add_credentials(username, password)\n        resp, content = h.request(\"https://\" + host + handler, \"POST\", body=request_body,\n                                  headers={'content-type':'text/xml'})\n        if resp.status != 200:\n            raise ProtocolError(\"https://\" + host + handler,\n                                resp.status, resp.reason, None)\n        p, u = getparser(0)\n        p.feed(content)\n        return u.close()\n\ntransport = HTTPSDigestAuthTransport()\nclient = ServerProxy(\"https://username:password@1.2.3.4/xmlapi/xmlapi\", transport)\n\n# add a mapping\nres = client.addCLIMapping({ 'i_account' : 1234, 'cli' : '123456', 'lang' : 'en' })\nprint(res['result'])\n\n# retrieve list of trusted numbers\nres = client.listCLIMappings({ 'i_account' : 1234 })\nif res['result'] == 'OK':\n    for cli, lang in res['list']:\n        print(cli, lang)</pre></div></div>",
  "description_text": "  addCLIMapping   This application is used to associate a CLI with an Account in order to use calling card (add trusted number record)   Parameters:    i_account - i_account of the calling card. Integer. Required.  cli - CLI to associate the card with. String. Required.  lang - Two character language code to be used for this CLI ('en' for English, 'ru' for Russian, etc. Refer to Languages List). String. Required.    Returns:    result - OK means that CLI mapping successfully added. String.  XMLRPC fault in case of any error.    updateCLIMapping   This application is used to update an already existing trusted number.   Parameters:    i_account - i_account of the calling card. Integer. Required.  old_cli - String. Required.  new_cli - String. Required.  lang - Two character language code to be used for this CLI ('en' for English, 'ru' for Russian, etc. Refer to Languages List). String. Optional. From Sippy 2020.    Returns:    result - OK means that CLI mapping was successfully updated. String.  XMLRPC fault in case of any error.    delCLIMapping   This application is used to remove the association of a CLI with a calling card.   Parameters:    i_account - i_account of the calling card. Integer. Required.  cli - CLI to associate the card with. String. Required.    Returns:    result - OK means that CLI mapping successfully removed. String.  XMLRPC fault in case of any error.    listCLIMappings   This application is used to retrieve the list of CLIs associated with a given calling card.   Parameters:    i_account - i_account of the calling card. Integer. Required.    Returns:    result - OK means that operation successful. String.  list - array containing a set of (CLI, lang) tuples  XMLRPC fault in case of any error.    findCLIMapping   This application is used to retrieve information about mapping by CLI number. Available from 2.0.   Parameters:    cli - CLI number. String. Required.  i_customer. Int. Required.    Returns:    result - OK means that the operation was successful. String.  i_account - i_account of the calling card. Integer.  cli - CLI associated with the card. String.  lang - Two character language code to be used for this CLI ('en' for English, 'ru' for Russian, etc. Refer to Languages List). String.  authname - authname of associated account. String.  username - username of associated account. String.  XMLRPC fault in case of any error.    Python Example    # this script requires httplib2 to be installed from http://code.google.com/p/httplib2/\nimport httplib2\nimport urllib.request, urllib.parse, urllib.error\nfrom xmlrpc.client import ServerProxy, getparser, ProtocolError\n\nclass HTTPSDigestAuthTransport:\n    def request(self, host, handler, request_body, verbose=0):\n        auth, host = urllib.parse.splituser(host)\n        username, password = urllib.parse.splitpasswd(auth)\n        h = httplib2.Http()\n        if verbose:\n            h.debuglevel = 1\n        h.add_credentials(username, password)\n        resp, content = h.request(\"https://\" + host + handler, \"POST\", body=request_body,\n                                  headers={'content-type':'text/xml'})\n        if resp.status != 200:\n            raise ProtocolError(\"https://\" + host + handler,\n                                resp.status, resp.reason, None)\n        p, u = getparser(0)\n        p.feed(content)\n        return u.close()\n\ntransport = HTTPSDigestAuthTransport()\nclient = ServerProxy(\"https://username:password@1.2.3.4/xmlapi/xmlapi\", transport)\n\n# add a mapping\nres = client.addCLIMapping({ 'i_account' : 1234, 'cli' : '123456', 'lang' : 'en' })\nprint(res['result'])\n\n# retrieve list of trusted numbers\nres = client.listCLIMappings({ 'i_account' : 1234 })\nif res['result'] == 'OK':\n    for cli, lang in res['list']:\n        print(cli, lang)   ",
  "seo_data": {
    "meta_title": "",
    "meta_description": "",
    "meta_keywords": ""
  },
  "tags": [],
  "attachments": [],
  "cloud_files": [],
  "thumbs_up": 0,
  "thumbs_down": 3,
  "hits": 1267,
  "suggested": 0,
  "feedback_count": 0,
  "collaboration": {
    "convo_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJUeXBlIjoiYXJ0aWNsZSIsIkNvbnZvSWQiOiIxMDczMjgtZW4iLCJVc2VySWQiOiIzMDEyMDg5NTI0IiwiZXhwIjoxNjM1MzcxMDg2fQ.jaM1pQg2RvcG1nnI9uxcjhlFQLK_3Z2jRo-RrCpB9fo"
  }
}